{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/stock-movement-wizard/StockMovementVerifyRequest.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/stock-movement-wizard/StockMovementVerifyRequest.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwppbXBvcnQgeyBnZXRUcmFuc2xhdGUgfSBmcm9tICdyZWFjdC1sb2NhbGl6ZS1yZWR1eCc7CmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IGZldGNoVHJhbnNsYXRpb25zLCBoaWRlU3Bpbm5lciwgc2hvd1NwaW5uZXIgfSBmcm9tICdhY3Rpb25zJzsKaW1wb3J0IFBhY2tpbmdQYWdlIGZyb20gJ2NvbXBvbmVudHMvc3RvY2stbW92ZW1lbnQtd2l6YXJkL291dGJvdW5kL1BhY2tpbmdQYWdlJzsKaW1wb3J0IFBpY2tQYWdlIGZyb20gJ2NvbXBvbmVudHMvc3RvY2stbW92ZW1lbnQtd2l6YXJkL291dGJvdW5kL1BpY2tQYWdlJzsKaW1wb3J0IFNlbmRNb3ZlbWVudFBhZ2UgZnJvbSAnY29tcG9uZW50cy9zdG9jay1tb3ZlbWVudC13aXphcmQvb3V0Ym91bmQvU2VuZE1vdmVtZW50UGFnZSc7CmltcG9ydCBFZGl0UGFnZSBmcm9tICdjb21wb25lbnRzL3N0b2NrLW1vdmVtZW50LXdpemFyZC9yZXF1ZXN0L0VkaXRQYWdlJzsKaW1wb3J0IFdpemFyZCBmcm9tICdjb21wb25lbnRzL3dpemFyZC9XaXphcmQnOwppbXBvcnQgYXBpQ2xpZW50IGZyb20gJ3V0aWxzL2FwaUNsaWVudCc7CmltcG9ydCB7IHRyYW5zbGF0ZVdpdGhEZWZhdWx0TWVzc2FnZSB9IGZyb20gJ3V0aWxzL1RyYW5zbGF0ZSc7CmltcG9ydCAnY29tcG9uZW50cy9zdG9jay1tb3ZlbWVudC13aXphcmQvU3RvY2tNb3ZlbWVudC5zY3NzJzsKCi8qKiBNYWluIFZlcmlmeSBSZXF1ZXN0IFN0b2NrIG1vdmVtZW50IGZvcm0ncyB3aXphcmQgY29tcG9uZW50LiAqLwp2YXIgU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QsIF9Db21wb25lbnQpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QpOwogIGZ1bmN0aW9uIFN0b2NrTW92ZW1lbnRWZXJpZnlSZXF1ZXN0KHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkYXRhRmV0Y2hlZCIsIGZhbHNlKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICB2YWx1ZXM6IF90aGlzLnByb3BzLmluaXRpYWxWYWx1ZXMsCiAgICAgIGN1cnJlbnRQYWdlOiAxCiAgICB9OwogICAgX3RoaXMudXBkYXRlV2l6YXJkVmFsdWVzID0gX3RoaXMudXBkYXRlV2l6YXJkVmFsdWVzLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMucHJvcHMuZmV0Y2hUcmFuc2xhdGlvbnMoJycsICdzdG9ja01vdmVtZW50Jyk7CiAgICAgIGlmICh0aGlzLnByb3BzLnN0b2NrTW92ZW1lbnRUcmFuc2xhdGlvbnNGZXRjaGVkKSB7CiAgICAgICAgdGhpcy5kYXRhRmV0Y2hlZCA9IHRydWU7CiAgICAgICAgdGhpcy5mZXRjaEluaXRpYWxWYWx1ZXMoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7CiAgICAgIGlmICh0aGlzLnByb3BzLmxvY2FsZSAmJiB0aGlzLnByb3BzLmxvY2FsZSAhPT0gbmV4dFByb3BzLmxvY2FsZSkgewogICAgICAgIHRoaXMucHJvcHMuZmV0Y2hUcmFuc2xhdGlvbnMobmV4dFByb3BzLmxvY2FsZSwgJ3N0b2NrTW92ZW1lbnQnKTsKICAgICAgfQogICAgICBpZiAobmV4dFByb3BzLnN0b2NrTW92ZW1lbnRUcmFuc2xhdGlvbnNGZXRjaGVkICYmICF0aGlzLmRhdGFGZXRjaGVkKSB7CiAgICAgICAgdGhpcy5kYXRhRmV0Y2hlZCA9IHRydWU7CiAgICAgICAgdGhpcy5mZXRjaEluaXRpYWxWYWx1ZXMoKTsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhcnJheSBvZiBmb3JtIHN0ZXBzLgogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAic3RlcExpc3QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBzdGVwTGlzdCA9IFtdOwogICAgICBpZiAodGhpcy5wcm9wcy5oYXNQYWNraW5nU3VwcG9ydCkgewogICAgICAgIHN0ZXBMaXN0ID0gW3RoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50LmVkaXQubGFiZWwnLCAnRWRpdCcpLCB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tNb3ZlbWVudC5waWNrLmxhYmVsJywgJ1BpY2snKSwgdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQucGFjay5sYWJlbCcsICdQYWNrJyksIHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50LnNlbmQubGFiZWwnLCAnU2VuZCcpXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGVwTGlzdCA9IFt0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tNb3ZlbWVudC5lZGl0LmxhYmVsJywgJ0VkaXQnKSwgdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQucGljay5sYWJlbCcsICdQaWNrJyksIHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50LnNlbmQubGFiZWwnLCAnU2VuZCcpXTsKICAgICAgfQogICAgICByZXR1cm4gc3RlcExpc3Q7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFycmF5IG9mIGZvcm0ncyBjb21wb25lbnRzLgogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAicGFnZUxpc3QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBmb3JtTGlzdCA9IFtdOwogICAgICBpZiAodGhpcy5wcm9wcy5oYXNQYWNraW5nU3VwcG9ydCkgewogICAgICAgIGZvcm1MaXN0ID0gW0VkaXRQYWdlLCBQaWNrUGFnZSwgUGFja2luZ1BhZ2UsIFNlbmRNb3ZlbWVudFBhZ2VdOwogICAgICB9IGVsc2UgewogICAgICAgIGZvcm1MaXN0ID0gW0VkaXRQYWdlLCBQaWNrUGFnZSwgU2VuZE1vdmVtZW50UGFnZV07CiAgICAgIH0KICAgICAgcmV0dXJuIGZvcm1MaXN0OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBzaGlwbWVudCdzIG5hbWUgY29udGFpbmluZyBzaGlwbWVudCdzIG9yaWdpbiwgZGVzdGluYXRpb24sIHJlcXVpc2l0aW9uIGRhdGUsCiAgICAgKiB0cmFja2luZyBudW1iZXIgZ2l2ZW4gYnkgdXNlciBvbiB0aGUgbGFzdCBzdGVwLCBkZXNjcmlwdGlvbiBhbmQgc3RvY2sgbGlzdCBpZiBjaG9zZW4uCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJ3aXphcmRUaXRsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3RhdGUudmFsdWVzOwogICAgICBpZiAoIXZhbHVlcy5tb3ZlbWVudE51bWJlciAmJiAhdmFsdWVzLnRyYWNraW5nTnVtYmVyKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50LmxhYmVsJywgJ1N0b2NrIE1vdmVtZW50JyksCiAgICAgICAgY29sb3I6ICcjMDAwMDAwJywKICAgICAgICBkZWxpbWV0ZXI6ICcgfCAnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2YWx1ZXMubW92ZW1lbnROdW1iZXIsCiAgICAgICAgY29sb3I6ICcjMDAwMDAwJywKICAgICAgICBkZWxpbWV0ZXI6ICcgLSAnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2YWx1ZXMub3JpZ2luLm5hbWUsCiAgICAgICAgY29sb3I6ICcjMDA0ZDQwJywKICAgICAgICBkZWxpbWV0ZXI6ICIgIi5jb25jYXQodGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LmRlZmF1bHQudG8ubGFiZWwnLCAndG8nKSwgIiAiKQogICAgICB9LCB7CiAgICAgICAgdGV4dDogdmFsdWVzLmRlc3RpbmF0aW9uLm5hbWUsCiAgICAgICAgY29sb3I6ICcjMDE1NzliJywKICAgICAgICBkZWxpbWV0ZXI6ICcsICcKICAgICAgfSwgewogICAgICAgIHRleHQ6IHZhbHVlcy5kYXRlUmVxdWVzdGVkLAogICAgICAgIGNvbG9yOiAnIzRhMTQ4YycsCiAgICAgICAgZGVsaW1ldGVyOiAnLCAnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB2YWx1ZXMuZGVzY3JpcHRpb24sCiAgICAgICAgY29sb3I6ICcjNzcwODM4JywKICAgICAgICBkZWxpbWV0ZXI6ICcnCiAgICAgIH1dOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZGl0aW9uYWxXaXphcmRUaXRsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICBjdXJyZW50UGFnZSA9IF90aGlzJHN0YXRlLmN1cnJlbnRQYWdlLAogICAgICAgIHZhbHVlcyA9IF90aGlzJHN0YXRlLnZhbHVlczsKICAgICAgdmFyIHNoaXBwZWQgPSB2YWx1ZXMuc2hpcHBlZCA/ICdTSElQUEVEJyA6ICcnOwogICAgICB2YXIgcmVjZWl2ZWQgPSB2YWx1ZXMucmVjZWl2ZWQgPyAnUkVDRUlWRUQnIDogJyc7CiAgICAgIGlmICh0aGlzLnByb3BzLmhhc1BhY2tpbmdTdXBwb3J0ICYmIGN1cnJlbnRQYWdlID09PSA0IHx8ICF0aGlzLnByb3BzLmhhc1BhY2tpbmdTdXBwb3J0ICYmIGN1cnJlbnRQYWdlID09PSAzKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAic2hpcG1lbnQtc3RhdHVzIGZsb2F0LXJpZ2h0IgogICAgICAgIH0sICIiLmNvbmNhdChzaGlwcGVkIHx8IHJlY2VpdmVkIHx8ICdQRU5ESU5HJykpOwogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVdpemFyZFZhbHVlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlV2l6YXJkVmFsdWVzKGN1cnJlbnRQYWdlLCB2YWx1ZXMpIHsKICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLAogICAgICAgIHZhbHVlczogdmFsdWVzCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImZldGNoSW5pdGlhbFZhbHVlcyIsCiAgICB2YWx1ZToKICAgIC8qKgogICAgICogRmV0Y2hlcyBpbml0aWFsIHZhbHVlcyBmcm9tIEFQSS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogICAgZnVuY3Rpb24gZmV0Y2hJbml0aWFsVmFsdWVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLnN0b2NrTW92ZW1lbnRJZCkgewogICAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3N0b2NrTW92ZW1lbnRzLyIuY29uY2F0KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLnN0b2NrTW92ZW1lbnRJZCk7CiAgICAgICAgYXBpQ2xpZW50LmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgcmVzcCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIHZhciBvcmlnaW5UeXBlID0gcmVzcC5vcmlnaW4ubG9jYXRpb25UeXBlOwogICAgICAgICAgdmFyIGRlc3RpbmF0aW9uVHlwZSA9IHJlc3AuZGVzdGluYXRpb24ubG9jYXRpb25UeXBlOwogICAgICAgICAgdmFyIHZhbHVlcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzcCksIHt9LCB7CiAgICAgICAgICAgIHN0b2NrTW92ZW1lbnRJZDogcmVzcC5pZCwKICAgICAgICAgICAgbW92ZW1lbnROdW1iZXI6IHJlc3AuaWRlbnRpZmllciwKICAgICAgICAgICAgb3JpZ2luOiB7CiAgICAgICAgICAgICAgaWQ6IHJlc3Aub3JpZ2luLmlkLAogICAgICAgICAgICAgIHR5cGU6IG9yaWdpblR5cGUgPyBvcmlnaW5UeXBlLmxvY2F0aW9uVHlwZUNvZGUgOiBudWxsLAogICAgICAgICAgICAgIG5hbWU6IHJlc3Aub3JpZ2luLm5hbWUsCiAgICAgICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChyZXNwLm9yaWdpbi5uYW1lLCAiIFsiKS5jb25jYXQob3JpZ2luVHlwZSA/IG9yaWdpblR5cGUuZGVzY3JpcHRpb24gOiBudWxsLCAiXSIpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB7CiAgICAgICAgICAgICAgaWQ6IHJlc3AuZGVzdGluYXRpb24uaWQsCiAgICAgICAgICAgICAgdHlwZTogZGVzdGluYXRpb25UeXBlID8gZGVzdGluYXRpb25UeXBlLmxvY2F0aW9uVHlwZUNvZGUgOiBudWxsLAogICAgICAgICAgICAgIG5hbWU6IHJlc3AuZGVzdGluYXRpb24ubmFtZSwKICAgICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KHJlc3AuZGVzdGluYXRpb24ubmFtZSwgIiBbIikuY29uY2F0KGRlc3RpbmF0aW9uVHlwZSA/IGRlc3RpbmF0aW9uVHlwZS5kZXNjcmlwdGlvbiA6IG51bGwsICJdIikKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVxdWVzdGVkQnk6IHsKICAgICAgICAgICAgICBpZDogcmVzcC5yZXF1ZXN0ZWRCeS5pZCwKICAgICAgICAgICAgICBuYW1lOiByZXNwLnJlcXVlc3RlZEJ5Lm5hbWUsCiAgICAgICAgICAgICAgbGFiZWw6IHJlc3AucmVxdWVzdGVkQnkubmFtZQogICAgICAgICAgICB9LAogICAgICAgICAgICByZXF1ZXN0VHlwZTogewogICAgICAgICAgICAgIG5hbWU6IHJlc3AucmVxdWVzdFR5cGUubmFtZSwKICAgICAgICAgICAgICBsYWJlbDogcmVzcC5yZXF1ZXN0VHlwZS5uYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gMTsKICAgICAgICAgIHN3aXRjaCAodmFsdWVzLnN0YXR1c0NvZGUpIHsKICAgICAgICAgICAgY2FzZSAnUkVRVUVTVEVEJzoKICAgICAgICAgICAgY2FzZSAnVkFMSURBVElORyc6CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ1ZBTElEQVRFRCc6CiAgICAgICAgICAgIGNhc2UgJ1BJQ0tJTkcnOgogICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnUElDS0VEJzoKICAgICAgICAgICAgY2FzZSAnUEFDS0lORyc6CiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gX3RoaXMyLnByb3BzLmhhc1BhY2tpbmdTdXBwb3J0ID8gNCA6IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcywKICAgICAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsCiAgICAgICAgdmFsdWVzID0gX3RoaXMkc3RhdGUyLnZhbHVlcywKICAgICAgICBjdXJyZW50UGFnZSA9IF90aGlzJHN0YXRlMi5jdXJyZW50UGFnZTsKICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IHRoaXMucHJvcHMuY3VycmVudExvY2F0aW9uOwogICAgICB2YXIgc2hvd09ubHkgPSB2YWx1ZXMub3JpZ2luICYmIHZhbHVlcy5vcmlnaW4uaWQgIT09IGN1cnJlbnRMb2NhdGlvbi5pZDsKICAgICAgaWYgKHZhbHVlcy5zdG9ja01vdmVtZW50SWQpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV2l6YXJkLCB7CiAgICAgICAgICBwYWdlTGlzdDogdGhpcy5wYWdlTGlzdCwKICAgICAgICAgIHN0ZXBMaXN0OiB0aGlzLnN0ZXBMaXN0LAogICAgICAgICAgaW5pdGlhbFZhbHVlczogdmFsdWVzLAogICAgICAgICAgdGl0bGU6IHRoaXMud2l6YXJkVGl0bGUsCiAgICAgICAgICBhZGRpdGlvbmFsVGl0bGU6IHRoaXMuYWRkaXRpb25hbFdpemFyZFRpdGxlLAogICAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLAogICAgICAgICAgcHJldlBhZ2U6IGN1cnJlbnRQYWdlID09PSAxID8gMSA6IGN1cnJlbnRQYWdlIC0gMSwKICAgICAgICAgIHVwZGF0ZVdpemFyZFZhbHVlczogdGhpcy51cGRhdGVXaXphcmRWYWx1ZXMsCiAgICAgICAgICBhZGRpdGlvbmFsUHJvcHM6IHsKICAgICAgICAgICAgc2hvd09ubHk6IHNob3dPbmx5CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwogIHJldHVybiBTdG9ja01vdmVtZW50VmVyaWZ5UmVxdWVzdDsKfShDb21wb25lbnQpOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIGxvY2FsZTogc3RhdGUuc2Vzc2lvbi5hY3RpdmVMYW5ndWFnZSwKICAgIHN0b2NrTW92ZW1lbnRUcmFuc2xhdGlvbnNGZXRjaGVkOiBzdGF0ZS5zZXNzaW9uLmZldGNoZWRUcmFuc2xhdGlvbnMuc3RvY2tNb3ZlbWVudCwKICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlKGdldFRyYW5zbGF0ZShzdGF0ZS5sb2NhbGl6ZSkpLAogICAgaGFzUGFja2luZ1N1cHBvcnQ6IHN0YXRlLnNlc3Npb24uY3VycmVudExvY2F0aW9uLmhhc1BhY2tpbmdTdXBwb3J0LAogICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5zZXNzaW9uLmN1cnJlbnRMb2NhdGlvbgogIH07Cn07CmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7CiAgc2hvd1NwaW5uZXI6IHNob3dTcGlubmVyLAogIGhpZGVTcGlubmVyOiBoaWRlU3Bpbm5lciwKICBmZXRjaFRyYW5zbGF0aW9uczogZmV0Y2hUcmFuc2xhdGlvbnMKfSkoU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QpOwpTdG9ja01vdmVtZW50VmVyaWZ5UmVxdWVzdC5wcm9wVHlwZXMgPSB7CiAgLyoqIFJlYWN0IHJvdXRlcidzIG9iamVjdCB3aGljaCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB1cmwgdmFyaWFibGVzIGFuZCBwYXJhbXMgKi8KICBtYXRjaDogUHJvcFR5cGVzLnNoYXBlKHsKICAgIHBhcmFtczogUHJvcFR5cGVzLnNoYXBlKHsKICAgICAgc3RvY2tNb3ZlbWVudElkOiBQcm9wVHlwZXMuc3RyaW5nCiAgICB9KQogIH0pLmlzUmVxdWlyZWQsCiAgLyoqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRhdGEgaXMgbG9hZGluZyAqLwogIHNob3dTcGlubmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkYXRhIGhhcyBsb2FkZWQgKi8KICBoaWRlU3Bpbm5lcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBsb2NhbGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICBzdG9ja01vdmVtZW50VHJhbnNsYXRpb25zRmV0Y2hlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCwKICBmZXRjaFRyYW5zbGF0aW9uczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICB0cmFuc2xhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIElzIHRydWUgd2hlbiBjdXJyZW50bHkgc2VsZWN0ZWQgbG9jYXRpb24gc3VwcG9ydHMgcGFja2luZyAqLwogIGhhc1BhY2tpbmdTdXBwb3J0OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLAogIGN1cnJlbnRMb2NhdGlvbjogUHJvcFR5cGVzLnNoYXBlKHsKICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nCiAgfSkuaXNSZXF1aXJlZCwKICAvKiogSW5pdGlhbCBjb21wb25lbnRzJyBkYXRhICovCiAgaW5pdGlhbFZhbHVlczogUHJvcFR5cGVzLnNoYXBlKHsKICAgIHNoaXBtZW50U3RhdHVzOiBQcm9wVHlwZXMuc3RyaW5nCiAgfSkKfTsKU3RvY2tNb3ZlbWVudFZlcmlmeVJlcXVlc3QuZGVmYXVsdFByb3BzID0gewogIGluaXRpYWxWYWx1ZXM6IHt9Cn07"},null]}