{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/stock-list-management/EmailModal.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/stock-list-management/EmailModal.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwppbXBvcnQgeyBnZXRUcmFuc2xhdGUgfSBmcm9tICdyZWFjdC1sb2NhbGl6ZS1yZWR1eCc7CmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCBBbGVydCBmcm9tICdyZWFjdC1zLWFsZXJ0JzsKaW1wb3J0IHsgaGlkZVNwaW5uZXIsIHNob3dTcGlubmVyIH0gZnJvbSAnYWN0aW9ucyc7CmltcG9ydCBDaGVja2JveEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9DaGVja2JveEZpZWxkJzsKaW1wb3J0IE1vZGFsV3JhcHBlciBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvTW9kYWxXcmFwcGVyJzsKaW1wb3J0IFNlbGVjdEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9TZWxlY3RGaWVsZCc7CmltcG9ydCBUZXh0YXJlYUZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9UZXh0YXJlYUZpZWxkJzsKaW1wb3J0IFRleHRGaWVsZCBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvVGV4dEZpZWxkJzsKaW1wb3J0IGFwaUNsaWVudCBmcm9tICd1dGlscy9hcGlDbGllbnQnOwppbXBvcnQgeyB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICd1dGlscy9UcmFuc2xhdGUnOwp2YXIgRklFTERTID0gewogIHJlY2lwaWVudHM6IHsKICAgIHR5cGU6IFNlbGVjdEZpZWxkLAogICAgbGFiZWw6ICdyZWFjdC5zdG9ja0xpc3RNYW5hZ2VtZW50LnJlY2lwaWVudHMubGFiZWwnLAogICAgZGVmYXVsdE1lc3NhZ2U6ICdSZWNpcGllbnRzJywKICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHNob3dWYWx1ZVRvb2x0aXA6IHRydWUsCiAgICAgIG11bHRpOiB0cnVlLAogICAgICBjbGFzc05hbWU6ICdtdWx0aS1zZWxlY3QnLAogICAgICBzdHlsZTogewogICAgICAgIHBhZGRpbmdCb3R0b206IDUKICAgICAgfSwKICAgICAgdmFsdWVLZXk6ICdpZCcsCiAgICAgIGxhYmVsS2V5OiAnbmFtZScKICAgIH0sCiAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZikgewogICAgICB2YXIgdXNlcnMgPSBfcmVmLnVzZXJzOwogICAgICByZXR1cm4gewogICAgICAgIG9wdGlvbnM6IHVzZXJzCiAgICAgIH07CiAgICB9CiAgfSwKICBzdWJqZWN0OiB7CiAgICB0eXBlOiBUZXh0RmllbGQsCiAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTGlzdE1hbmFnZW1lbnQuc3ViamVjdC5sYWJlbCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ1N1YmplY3QnLAogICAgYXR0cmlidXRlczogewogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgdGV4dDogewogICAgdHlwZTogVGV4dGFyZWFGaWVsZCwKICAgIGxhYmVsOiAncmVhY3Quc3RvY2tMaXN0TWFuYWdlbWVudC5tZXNzYWdlLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnTWVzc2FnZScsCiAgICBhdHRyaWJ1dGVzOiB7CiAgICAgIHJvd3M6IDgsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBpbmNsdWRlUGRmOiB7CiAgICB0eXBlOiBDaGVja2JveEZpZWxkLAogICAgbGFiZWw6ICdyZWFjdC5zdG9ja0xpc3RNYW5hZ2VtZW50LmluY2x1ZGVQZGYubGFiZWwnLAogICAgZGVmYXVsdE1lc3NhZ2U6ICdJbmNsdWRlIFBERiBkb2N1bWVudCcKICB9LAogIGluY2x1ZGVYbHM6IHsKICAgIHR5cGU6IENoZWNrYm94RmllbGQsCiAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTGlzdE1hbmFnZW1lbnQuaW5jbHVkZVhscy5sYWJlbCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ0luY2x1ZGUgWExTIGRvY3VtZW50JwogIH0KfTsKZnVuY3Rpb24gdmFsaWRhdGUodmFsdWVzKSB7CiAgdmFyIGVycm9ycyA9IHt9OwogIGlmIChfLmlzRW1wdHkodmFsdWVzLnJlY2lwaWVudHMpKSB7CiAgICBlcnJvcnMucmVjaXBpZW50cyA9ICdyZWFjdC5kZWZhdWx0LmVycm9yLnJlcXVpcmVkRmllbGQubGFiZWwnOwogIH0KICBpZiAoIXZhbHVlcy5zdWJqZWN0KSB7CiAgICBlcnJvcnMuc3ViamVjdCA9ICdyZWFjdC5kZWZhdWx0LmVycm9yLnJlcXVpcmVkRmllbGQubGFiZWwnOwogIH0KICBpZiAoIXZhbHVlcy50ZXh0KSB7CiAgICBlcnJvcnMudGV4dCA9ICdyZWFjdC5kZWZhdWx0LmVycm9yLnJlcXVpcmVkRmllbGQubGFiZWwnOwogIH0KICByZXR1cm4gZXJyb3JzOwp9CgovKiogTW9kYWwgd2luZG93IHdoZXJlIHVzZXIgY2FuIHNlbmQgZW1haWwgd2l0aCB1cGRhdGVkIHN0b2NrbGlzdCAqLwovKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246ICJlcnJvciIgKi8KdmFyIEVtYWlsTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoRW1haWxNb2RhbCwgX0NvbXBvbmVudCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFbWFpbE1vZGFsKTsKICBmdW5jdGlvbiBFbWFpbE1vZGFsKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW1haWxNb2RhbCk7CiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBmb3JtVmFsdWVzOiB7fSwKICAgICAgc2hvd01vZGFsOiBmYWxzZQogICAgfTsKICAgIF90aGlzLm9uT3BlbiA9IF90aGlzLm9uT3Blbi5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLm9uU2F2ZSA9IF90aGlzLm9uU2F2ZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLm9uQ2xvc2UgPSBfdGhpcy5vbkNsb3NlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgLyoqCiAgICogTG9hZHMgaW5pdGlhbCBmb3JtIHZhbHVlcwogICAqIEBwdWJsaWMKICAgKi8KICBfY3JlYXRlQ2xhc3MoRW1haWxNb2RhbCwgW3sKICAgIGtleTogIm9uT3BlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25PcGVuKCkgewogICAgICB2YXIgbWFuYWdlciA9IHRoaXMucHJvcHMubWFuYWdlcjsKICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgZm9ybVZhbHVlczogewogICAgICAgICAgc3ViamVjdDogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTGlzdE1hbmFnZW1lbnQuZW1haWxTdWJqZWN0LmxhYmVsJywgJ1NUT0NLIExJU1QgVVBEQVRFJyksCiAgICAgICAgICB0ZXh0OiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tMaXN0TWFuYWdlbWVudC5lbWFpbE1lc3NhZ2UubGFiZWwnLCAnUGxlYXNlIGZpbmQgYXR0YWNoZWQgYSBuZXcnICsgJyB2ZXJzaW9uIG9mIHlvdXIgc3RvY2sgbGlzdCByZWZsZWN0aW5nIHJlY2VudCB1cGRhdGVzLiBQbGVhc2UgdXNlIHRoaXMgdmVyc2lvbiBmb3IgeW91ciBuZXh0IHJlcGxlbmlzaG1lbnQgcmVxdWVzdC4nKSwKICAgICAgICAgIHJlY2lwaWVudHM6IG1hbmFnZXIgPyBbewogICAgICAgICAgICBpZDogbWFuYWdlci5pZCwKICAgICAgICAgICAgZW1haWw6IG1hbmFnZXIuZW1haWwsCiAgICAgICAgICAgIGxhYmVsOiBtYW5hZ2VyLm5hbWUKICAgICAgICAgIH1dIDogW10sCiAgICAgICAgICBpbmNsdWRlUGRmOiB0cnVlLAogICAgICAgICAgaW5jbHVkZVhsczogdHJ1ZSwKICAgICAgICAgIHNob3dNb2RhbDogdHJ1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZW5kcyBhbGwgY2hhbmdlcyBtYWRlIGJ5IHVzZXIgaW4gdGhpcyBtb2RhbCB0byBBUEkgYW5kIHVwZGF0ZXMgZGF0YS4KICAgICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMKICAgICAqIEBwdWJsaWMKICAgICAqLwogIH0sIHsKICAgIGtleTogIm9uU2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TYXZlKHZhbHVlcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5wcm9wcy5zaG93U3Bpbm5lcigpOwogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3N0b2NrbGlzdHMvc2VuZE1haWwvIi5jb25jYXQodGhpcy5wcm9wcy5zdG9ja2xpc3RJZCwgIj9pbmNsdWRlUGRmPSIpLmNvbmNhdCh0aGlzLnN0YXRlLmZvcm1WYWx1ZXMuaW5jbHVkZVBkZiwgIj9pbmNsdWRlWGxzPSIpLmNvbmNhdCh0aGlzLnN0YXRlLmZvcm1WYWx1ZXMuaW5jbHVkZVhscyk7CiAgICAgIHZhciBwYXlsb2FkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZXMpLCB7fSwgewogICAgICAgIHJlY2lwaWVudHM6IF8ubWFwKF8uZmlsdGVyKHZhbHVlcy5yZWNpcGllbnRzLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICByZXR1cm4gdmFsLmVtYWlsOwogICAgICAgIH0pLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICByZXR1cm4gdmFsLmVtYWlsOwogICAgICAgIH0pCiAgICAgIH0pOwogICAgICB2YXIgbWFuYWdlciA9IHRoaXMucHJvcHMubWFuYWdlcjsKICAgICAgaWYgKCFfLnNvbWUodmFsdWVzLnJlY2lwaWVudHMsIGZ1bmN0aW9uIChyZWNpcGllbnQpIHsKICAgICAgICByZXR1cm4gcmVjaXBpZW50LmVtYWlsID09PSBtYW5hZ2VyLmVtYWlsOwogICAgICB9KSkgewogICAgICAgIHRoaXMucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICBBbGVydC5lcnJvcih0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tMaXN0TWFuYWdlbWVudC5hbGVydC5ub01hbmFnZXJTZWxlY3RlZC5sYWJlbCcsICdQbGVhc2UgYWRkIGEgbWFuYWdlciBhcyBhIHJlY2lwaWVudCBhbmQgcmVzZW5kLicpLCB7CiAgICAgICAgICB0aW1lb3V0OiAxMDAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBzaG93TW9kYWw6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhcGlDbGllbnQucG9zdCh1cmwsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgICBzaG93TW9kYWw6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICAgIEFsZXJ0LnN1Y2Nlc3MoX3RoaXMyLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tMaXN0TWFuYWdlbWVudC5hbGVydC5lbWFpbFNlbmQubGFiZWwnLCAnRW1haWwgc2VudCBzdWNjZXNzZnVsbHknKSwgewogICAgICAgICAgICB0aW1lb3V0OiAxMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIENoYW5nZXMgdmFsdWUgb2Ygc2hvd01vZGFsIHRvIGZhbHNlIHRvIGNsb3NlIG1vZGFsCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJvbkNsb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICBzaG93TW9kYWw6IGZhbHNlCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxXcmFwcGVyLCB7CiAgICAgICAgdGl0bGU6ICJyZWFjdC5zdG9ja0xpc3RNYW5hZ2VtZW50LnNlbmRNYWlsTW9kYWxUaXRsZS5sYWJlbCIsCiAgICAgICAgYnRuT3BlblRleHQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5lbWFpbC5sYWJlbCIsCiAgICAgICAgYnRuT3BlbkRlZmF1bHRUZXh0OiAiRW1haWwiLAogICAgICAgIGJ0blNhdmVUZXh0OiAicmVhY3QuZGVmYXVsdC5idXR0b24uc2VuZC5sYWJlbCIsCiAgICAgICAgYnRuU2F2ZURlZmF1bHRUZXh0OiAiU2VuZCIsCiAgICAgICAgYnRuT3BlbkNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXhzIG1yLTEiLAogICAgICAgIG9uT3BlbjogdGhpcy5vbk9wZW4sCiAgICAgICAgb25TYXZlOiB0aGlzLm9uU2F2ZSwKICAgICAgICBvbkNsb3NlOiB0aGlzLm9uQ2xvc2UsCiAgICAgICAgZmllbGRzOiBGSUVMRFMsCiAgICAgICAgaW5pdGlhbFZhbHVlczogdGhpcy5zdGF0ZS5mb3JtVmFsdWVzLAogICAgICAgIGZvcm1Qcm9wczogewogICAgICAgICAgdXNlcnM6IHRoaXMucHJvcHMudXNlcnMKICAgICAgICB9LAogICAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSwKICAgICAgICBzaG93TW9kYWw6IHRoaXMuc3RhdGUuc2hvd01vZGFsCiAgICAgIH0pOwogICAgfQogIH1dKTsKICByZXR1cm4gRW1haWxNb2RhbDsKfShDb21wb25lbnQpOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlKGdldFRyYW5zbGF0ZShzdGF0ZS5sb2NhbGl6ZSkpCiAgfTsKfTsKZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHsKICBzaG93U3Bpbm5lcjogc2hvd1NwaW5uZXIsCiAgaGlkZVNwaW5uZXI6IGhpZGVTcGlubmVyCn0pKEVtYWlsTW9kYWwpOwpFbWFpbE1vZGFsLnByb3BUeXBlcyA9IHsKICAvKiogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZGF0YSBpcyBsb2FkaW5nICovCiAgc2hvd1NwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRhdGEgaGFzIGxvYWRlZCAqLwogIGhpZGVTcGlubmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIC8qKiBJZCBvZiBzdG9ja2xpc3QgKi8KICBzdG9ja2xpc3RJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIC8qKiBBcnJheSBvZiBhdmFpbGFibGUgdXNlcnMgICovCiAgdXNlcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7fSkpLAogIG1hbmFnZXI6IFByb3BUeXBlcy5zaGFwZSh7fSksCiAgLyoqIEZ1bmN0aW9uIHVzZWQgdG8gdHJhbnNsYXRlIHN0YXRpYyBtZXNzYWdlcyAqLwogIHRyYW5zbGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZAp9OwpFbWFpbE1vZGFsLmRlZmF1bHRQcm9wcyA9IHsKICB1c2VyczogW10sCiAgbWFuYWdlcjogbnVsbAp9Ow=="},null]}