{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/put-away/PutAwayCheckPage.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/put-away/PutAwayCheckPage.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfQpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfQpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9CmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICJzdHJpbmciKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gInN5bWJvbCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSAib2JqZWN0IiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAiZGVmYXVsdCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSAib2JqZWN0IikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKGhpbnQgPT09ICJzdHJpbmciID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH0KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsKaW1wb3J0IHsgY29uZmlybUFsZXJ0IH0gZnJvbSAncmVhY3QtY29uZmlybS1hbGVydCc7CmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWxvY2FsaXplLXJlZHV4JzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IEFsZXJ0IGZyb20gJ3JlYWN0LXMtYWxlcnQnOwppbXBvcnQgUmVhY3RUYWJsZSBmcm9tICdyZWFjdC10YWJsZSc7CmltcG9ydCB7IGhpZGVTcGlubmVyLCBzaG93U3Bpbm5lciB9IGZyb20gJ2FjdGlvbnMnOwppbXBvcnQgYXBpQ2xpZW50LCB7IGZsYXR0ZW5SZXF1ZXN0IH0gZnJvbSAndXRpbHMvYXBpQ2xpZW50JzsKaW1wb3J0IGN1c3RvbVRyZWVUYWJsZUhPQyBmcm9tICd1dGlscy9DdXN0b21UcmVlVGFibGUnOwppbXBvcnQgRmlsdGVyIGZyb20gJ3V0aWxzL0ZpbHRlcic7CmltcG9ydCBzaG93TG9jYXRpb25DaGFuZ2VkQWxlcnQgZnJvbSAndXRpbHMvbG9jYXRpb24tY2hhbmdlLWFsZXJ0JzsKaW1wb3J0IFRyYW5zbGF0ZSwgeyB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICd1dGlscy9UcmFuc2xhdGUnOwppbXBvcnQgJ3JlYWN0LXRhYmxlL3JlYWN0LXRhYmxlLmNzcyc7CmltcG9ydCAncmVhY3QtY29uZmlybS1hbGVydC9zcmMvcmVhY3QtY29uZmlybS1hbGVydC5jc3MnOwp2YXIgU2VsZWN0VHJlZVRhYmxlID0gY3VzdG9tVHJlZVRhYmxlSE9DKFJlYWN0VGFibGUpOwoKLyoqCiAqIFRoZSBsYXN0IHBhZ2Ugb2YgcHV0LWF3YXkgd2hpY2ggc2hvd3MgZXZlcnl0aGluZyB0aGF0IHVzZXIgaGFzIGNob3NlbiB0byBwdXQgYXdheS4KICogU3BsaXQgbGluZXMgYXJlIHNob3duIGFzIHNlcGVyYXRlIGxpbmVzLgogKi8KdmFyIFB1dEF3YXlDaGVja1BhZ2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoUHV0QXdheUNoZWNrUGFnZSwgX0NvbXBvbmVudCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQdXRBd2F5Q2hlY2tQYWdlKTsKICBmdW5jdGlvbiBQdXRBd2F5Q2hlY2tQYWdlKF9wcm9wcykgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFB1dEF3YXlDaGVja1BhZ2UpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfcHJvcHMpOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25FeHBhbmRlZENoYW5nZSIsIGZ1bmN0aW9uIChleHBhbmRlZCkgewogICAgICB2YXIgZXhwYW5kZWRSZWNvcmRzSWRzID0gW107CiAgICAgIF8uZm9yRWFjaChleHBhbmRlZCwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIGV4cGFuZGVkUmVjb3Jkc0lkcy5wdXNoKHBhcnNlSW50KGtleSwgMTApKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkCiAgICAgIH0pOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRDb2x1bW5zIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5wdXRBd2F5LmNvZGUubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDb2RlIgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAncHJvZHVjdC5wcm9kdWN0Q29kZScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBGaWx0ZXI6IEZpbHRlcgogICAgICB9LCB7CiAgICAgICAgSGVhZGVyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5uYW1lLmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTmFtZSIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ3Byb2R1Y3QubmFtZScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBGaWx0ZXI6IEZpbHRlcgogICAgICB9LCB7CiAgICAgICAgSGVhZGVyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5sb3RTZXJpYWxOby5sYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkxvdC9TZXJpYWwgTm8uIgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAnaW52ZW50b3J5SXRlbS5sb3ROdW1iZXInLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJwogICAgICAgIH0sCiAgICAgICAgRmlsdGVyOiBGaWx0ZXIKICAgICAgfSwgewogICAgICAgIEhlYWRlcjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICBpZDogInJlYWN0LnB1dEF3YXkuZXhwaXJ5LmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXhwaXJ5IgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAnaW52ZW50b3J5SXRlbS5leHBpcmF0aW9uRGF0ZScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBGaWx0ZXI6IEZpbHRlcgogICAgICB9LCB7CiAgICAgICAgSGVhZGVyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5yZWNpcGllbnQubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSZWNpcGllbnQiCiAgICAgICAgfSksCiAgICAgICAgYWNjZXNzb3I6ICdyZWNpcGllbnQubmFtZScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBGaWx0ZXI6IEZpbHRlcgogICAgICB9LCB7CiAgICAgICAgSGVhZGVyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5xdHkubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJRVFkiCiAgICAgICAgfSksCiAgICAgICAgYWNjZXNzb3I6ICdxdWFudGl0eScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBDZWxsOiBmdW5jdGlvbiBDZWxsKHByb3BzKSB7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCBwcm9wcy52YWx1ZSA/IHByb3BzLnZhbHVlLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycpIDogcHJvcHMudmFsdWUpOwogICAgICAgIH0sCiAgICAgICAgRmlsdGVyOiBGaWx0ZXIKICAgICAgfSwgewogICAgICAgIEhlYWRlcjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICBpZDogInJlYWN0LnB1dEF3YXkucHJlZmVycmVkQmluLmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUHJlZmVycmVkIGJpbiIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ3ByZWZlcnJlZEJpbicsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBDZWxsOiBmdW5jdGlvbiBDZWxsKHByb3BzKSB7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLnpvbmVOYW1lID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIHByb3BzLnZhbHVlLnpvbmVOYW1lLCAiOlx4QTAiKSA6ICcnLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgcHJvcHMudmFsdWUgPyBwcm9wcy52YWx1ZS5uYW1lIDogJycpKTsKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH0sIHsKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5wdXRBd2F5LmN1cnJlbnRCaW4ubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDdXJyZW50IGJpbiIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ2N1cnJlbnRCaW5zJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH0sIHsKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5wdXRBd2F5LnB1dEF3YXlCaW4ubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJQdXRhd2F5IEJpbiIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ3B1dGF3YXlMb2NhdGlvbicsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBDZWxsOiBmdW5jdGlvbiBDZWxsKHByb3BzKSB7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLnpvbmVOYW1lID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIHByb3BzLnZhbHVlLnpvbmVOYW1lLCAiOlx4QTAiKSA6ICcnLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgcHJvcHMudmFsdWUgPyBwcm9wcy52YWx1ZS5uYW1lIDogJycpKTsKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH0sIHsKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5wdXRBd2F5LnN0b2NrTW92ZW1lbnQubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTdG9jayBNb3ZlbWVudCIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ3N0b2NrTW92ZW1lbnQubmFtZScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBFeHBhbmRlcjogZnVuY3Rpb24gRXhwYW5kZXIoX3JlZikgewogICAgICAgICAgdmFyIGlzRXhwYW5kZWQgPSBfcmVmLmlzRXhwYW5kZWQ7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogIm1sLTIiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJydC1leHBhbmRlciAiLmNvbmNhdChpc0V4cGFuZGVkICYmICctb3BlbicpCiAgICAgICAgICB9LCAiXHUyMDIyIikpOwogICAgICAgIH0sCiAgICAgICAgZmlsdGVyYWJsZTogdHJ1ZSwKICAgICAgICBGaWx0ZXI6IEZpbHRlcgogICAgICB9XTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlVHJlZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzLnN0YXRlLnBpdm90QnkubGVuZ3RoKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgcGl2b3RCeTogW10sCiAgICAgICAgICBleHBhbmRlZDoge30KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBwaXZvdEJ5OiBbJ3N0b2NrTW92ZW1lbnQubmFtZSddLAogICAgICAgICAgZXhwYW5kZWQ6IHt9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZmlsdGVyTWV0aG9kIiwgZnVuY3Rpb24gKGZpbHRlciwgcm93KSB7CiAgICAgIHJldHVybiByb3cuX2FnZ3JlZ2F0ZWQgfHwgcm93Ll9ncm91cGVkQnlQaXZvdCB8fCBfLnRvU3RyaW5nKHJvd1tmaWx0ZXIuaWRdKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlci52YWx1ZS50b0xvd2VyQ2FzZSgpKTsKICAgIH0pOwogICAgdmFyIGNvbHVtbnMgPSBfdGhpcy5nZXRDb2x1bW5zKCk7CiAgICB2YXIgX3RoaXMkcHJvcHMkaW5pdGlhbFZhID0gX3RoaXMucHJvcHMuaW5pdGlhbFZhbHVlcywKICAgICAgcHV0QXdheSA9IF90aGlzJHByb3BzJGluaXRpYWxWYS5wdXRBd2F5LAogICAgICBwaXZvdEJ5ID0gX3RoaXMkcHJvcHMkaW5pdGlhbFZhLnBpdm90QnksCiAgICAgIF9leHBhbmRlZCA9IF90aGlzJHByb3BzJGluaXRpYWxWYS5leHBhbmRlZDsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBwdXRBd2F5OiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHB1dEF3YXkpLCB7fSwgewogICAgICAgIHB1dGF3YXlJdGVtczogUHV0QXdheUNoZWNrUGFnZS5wcm9jZXNzU3BsaXRMaW5lcyhwdXRBd2F5LnB1dGF3YXlJdGVtcykKICAgICAgfSksCiAgICAgIGNvbXBsZXRlZDogcHV0QXdheS5wdXRhd2F5U3RhdHVzID09PSAnQ09NUExFVEVEJywKICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgcGl2b3RCeTogcGl2b3RCeSwKICAgICAgZXhwYW5kZWQ6IF9leHBhbmRlZCwKICAgICAgbG9jYXRpb246IF90aGlzLnByb3BzLmxvY2F0aW9uCiAgICB9OwogICAgX3RoaXMuY29uZmlybUVtcHR5QmluID0gX3RoaXMuY29uZmlybUVtcHR5QmluLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMuY29uZmlybUxvd2VyUXVhbnRpdHkgPSBfdGhpcy5jb25maXJtTG93ZXJRdWFudGl0eS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLnNhdmUgPSBfdGhpcy5zYXZlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoUHV0QXdheUNoZWNrUGFnZSwgW3sKICAgIGtleTogImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7CiAgICAgIHNob3dMb2NhdGlvbkNoYW5nZWRBbGVydCh0aGlzLnByb3BzLnRyYW5zbGF0ZSwgdGhpcy5zdGF0ZS5sb2NhdGlvbiwgbmV4dFByb3BzLmxvY2F0aW9uLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9vcGVuYm94ZXMvb3JkZXIvbGlzdD9vcmRlclR5cGU9UFVUQVdBWV9PUkRFUiZzdGF0dXM9UEVORElORyc7CiAgICAgIH0pOwogICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLnN0YXRlLmxvY2F0aW9uLmlkID8gdGhpcy5zdGF0ZS5sb2NhdGlvbiA6IG5leHRQcm9wcy5sb2NhdGlvbjsKICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgcHV0QXdheTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBuZXh0UHJvcHMuaW5pdGlhbFZhbHVlcy5wdXRBd2F5KSwge30sIHsKICAgICAgICAgIHB1dGF3YXlJdGVtczogUHV0QXdheUNoZWNrUGFnZS5wcm9jZXNzU3BsaXRMaW5lcyhuZXh0UHJvcHMuaW5pdGlhbFZhbHVlcy5wdXRBd2F5LnB1dGF3YXlJdGVtcykKICAgICAgICB9KSwKICAgICAgICBjb21wbGV0ZWQ6IG5leHRQcm9wcy5pbml0aWFsVmFsdWVzLnB1dEF3YXkucHV0YXdheVN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcsCiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uCiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogQ2FsbGVkIHdoZW4gYW4gZXhwYW5kZXIgaXMgY2xpY2tlZC4gQ2hlY2tzIGV4cGFuZGVkIHJvd3MgYW5kIGNvdW50cyB0aGVpciBudW1iZXIuCiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXhwYW5kZWQKICAgICAqIEBwdWJsaWMKICAgICAqLwogIH0sIHsKICAgIGtleTogImNvbXBsZXRlUHV0QXdheSIsCiAgICB2YWx1ZToKICAgIC8qKgogICAgICogU2VuZHMgYWxsIGNoYW5nZXMgbWFkZSBieSB1c2VyIGluIHRoaXMgc3RlcCBvZiBwdXQtYXdheSB0byBBUEkgYW5kIHVwZGF0ZXMgZGF0YS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogICAgZnVuY3Rpb24gY29tcGxldGVQdXRBd2F5KCkgewogICAgICB2YXIgaXNCaW5Mb2NhdGlvbkNob3NlbiA9ICFfLnNvbWUodGhpcy5wcm9wcy5pbml0aWFsVmFsdWVzLnB1dEF3YXkucHV0YXdheUl0ZW1zLCBmdW5jdGlvbiAocHV0QXdheUl0ZW0pIHsKICAgICAgICByZXR1cm4gXy5pc051bGwocHV0QXdheUl0ZW0ucHV0YXdheUxvY2F0aW9uLmlkKSAmJiBfLmlzRW1wdHkocHV0QXdheUl0ZW0uc3BsaXRJdGVtcyk7CiAgICAgIH0pOwogICAgICB2YXIgaXRlbXNXaXRoTG93ZXJRdWFudGl0eSA9IF8uZmlsdGVyKHRoaXMucHJvcHMuaW5pdGlhbFZhbHVlcy5wdXRBd2F5LnB1dGF3YXlJdGVtcywgZnVuY3Rpb24gKHB1dEF3YXlJdGVtKSB7CiAgICAgICAgcmV0dXJuIHB1dEF3YXlJdGVtLnF1YW50aXR5IDwgcHV0QXdheUl0ZW0ucXVhbnRpdHlBdmFpbGFibGU7CiAgICAgIH0pOwogICAgICBpZiAoIV8uaXNFbXB0eShpdGVtc1dpdGhMb3dlclF1YW50aXR5KSkgewogICAgICAgIHRoaXMuY29uZmlybUxvd2VyUXVhbnRpdHkoaXRlbXNXaXRoTG93ZXJRdWFudGl0eSk7CiAgICAgIH0gZWxzZSBpZiAoIWlzQmluTG9jYXRpb25DaG9zZW4pIHsKICAgICAgICB0aGlzLmNvbmZpcm1FbXB0eUJpbigpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgdmFyIHVybCA9ICIvb3BlbmJveGVzL2FwaS9wdXRhd2F5cz9sb2NhdGlvbi5pZD0iLmNvbmNhdCh0aGlzLnN0YXRlLmxvY2F0aW9uLmlkKTsKICAgICAgdmFyIHBheWxvYWQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMucHJvcHMuaW5pdGlhbFZhbHVlcy5wdXRBd2F5KSwge30sIHsKICAgICAgICBwdXRhd2F5U3RhdHVzOiAnQ09NUExFVEVEJywKICAgICAgICBwdXRhd2F5SXRlbXM6IF8ubWFwKHRoaXMucHJvcHMuaW5pdGlhbFZhbHVlcy5wdXRBd2F5LnB1dGF3YXlJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgICAgICBwdXRhd2F5U3RhdHVzOiBpdGVtLnNwbGl0SXRlbXMubGVuZ3RoID8gJ0NBTkNFTExFRCcgOiAnQ09NUExFVEVEJywKICAgICAgICAgICAgc3BsaXRJdGVtczogXy5tYXAoaXRlbS5zcGxpdEl0ZW1zLCBmdW5jdGlvbiAoc3BsaXRJdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3BsaXRJdGVtKSwge30sIHsKICAgICAgICAgICAgICAgIHB1dGF3YXlTdGF0dXM6ICdDT01QTEVURUQnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5wb3N0KHVybCwgZmxhdHRlblJlcXVlc3QocGF5bG9hZCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICAgIEFsZXJ0LnN1Y2Nlc3MoX3RoaXMyLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QucHV0QXdheS5hbGVydC5wdXRBd2F5Q29tcGxldGVkLmxhYmVsJywgJ1B1dGF3YXkgd2FzIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQhJyksIHsKICAgICAgICAgIHRpbWVvdXQ6IDMwMDAKICAgICAgICB9KTsKICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAiL29wZW5ib3hlcy9vcmRlci9zaG93LyIuY29uY2F0KF90aGlzMi5wcm9wcy5pbml0aWFsVmFsdWVzLnB1dEF3YXkuaWQpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnb1RvRmlyc3RQYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnb1RvRmlyc3RQYWdlKCkgewogICAgICB0aGlzLnByb3BzLmhpc3RvcnkucHVzaCgnL29wZW5ib3hlcy9wdXRBd2F5L2NyZWF0ZScpOwogICAgICB0aGlzLnByb3BzLmdvVG9QYWdlKDEsIG51bGwpOwogICAgfQoKICAgIC8qKgogICAgICogU2hvd3MgY29uZmlybWF0aW9uIGRpYWxvZyBvbiBjb21wbGV0ZSBpZiB0aGVyZSBhcmUgaXRlbXMgd2l0aCBlbXB0eSBiaW4gbG9jYXRpb24uCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJjb25maXJtRW1wdHlCaW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1FbXB0eUJpbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGNvbmZpcm1BbGVydCh7CiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5wdXRBd2F5Lm1lc3NhZ2UuY29uZmlybVB1dEF3YXkubGFiZWwnLCAnQ29uZmlybSBwdXRhd2F5JyksCiAgICAgICAgbWVzc2FnZTogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnB1dEF3YXkuY29uZmlybVB1dEF3YXkubWVzc2FnZScsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHV0YXdheT8gVGhlcmUgYXJlIHNvbWUgbGluZXMgd2l0aCBlbXB0eSBiaW4gbG9jYXRpb25zLicpLAogICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICBsYWJlbDogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LmRlZmF1bHQueWVzLmxhYmVsJywgJ1llcycpLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zYXZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lm5vLmxhYmVsJywgJ05vJykKICAgICAgICB9XQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNob3dzIGNvbmZpcm1hdGlvbiBkaWFsb2cgb24gY29tcGxldGUgaWYgdGhlcmUgYXJlIGl0ZW1zIHdpdGggcXVhbnRpdHkgaW4gcmVjZWl2aW5nIGJpbgogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAiY29uZmlybUxvd2VyUXVhbnRpdHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1Mb3dlclF1YW50aXR5KGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBjb25maXJtQWxlcnQoewogICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QucHV0QXdheS5tZXNzYWdlLmNvbmZpcm1QdXRBd2F5LmxhYmVsJywgJ0NvbmZpcm0gcHV0YXdheScpLAogICAgICAgIG1lc3NhZ2U6IF8ubWFwKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgIlF0eSAiLCBpdGVtLnF1YW50aXR5QXZhaWxhYmxlIC0gaXRlbS5xdWFudGl0eSwgIiAiLCBfdGhpczQucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5wdXRBd2F5LmFsZXJ0Lmxvd2VyUXR5MS5sYWJlbCcsICdvZiBpdGVtJyksICIgIiwgJyAnLCBpdGVtLnByb2R1Y3QubmFtZSwgIiAiLCBfdGhpczQucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5wdXRBd2F5LmFsZXJ0Lmxvd2VyUXR5Mi5sYWJlbCcsICdpcyBzdGlsbCBpbiB0aGUgcmVjZWl2aW5nIGJpbi4gRG8geW91IHdhbnQgdG8gY29udGludWU/JykpOwogICAgICAgIH0pLAogICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICBsYWJlbDogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LmRlZmF1bHQueWVzLmxhYmVsJywgJ1llcycpLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zYXZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lm5vLmxhYmVsJywgJ05vJykKICAgICAgICB9XQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciBvbkV4cGFuZGVkQ2hhbmdlID0gdGhpcy5vbkV4cGFuZGVkQ2hhbmdlLAogICAgICAgIHRvZ2dsZVRyZWUgPSB0aGlzLnRvZ2dsZVRyZWU7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsCiAgICAgICAgcHV0QXdheSA9IF90aGlzJHN0YXRlLnB1dEF3YXksCiAgICAgICAgY29sdW1ucyA9IF90aGlzJHN0YXRlLmNvbHVtbnMsCiAgICAgICAgcGl2b3RCeSA9IF90aGlzJHN0YXRlLnBpdm90QnksCiAgICAgICAgZXhwYW5kZWQgPSBfdGhpcyRzdGF0ZS5leHBhbmRlZDsKICAgICAgdmFyIGV4dHJhUHJvcHMgPSB7CiAgICAgICAgcGl2b3RCeTogcGl2b3RCeSwKICAgICAgICBleHBhbmRlZDogZXhwYW5kZWQsCiAgICAgICAgb25FeHBhbmRlZENoYW5nZTogb25FeHBhbmRlZENoYW5nZQogICAgICB9OwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJwdXRhd2F5IgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi0yIHB1dGF3YXktYnV0dG9ucyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5zaG93QnkubGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2hvdyBieSIKICAgICAgfSksICI6IiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLXByaW1hcnkgbWwtMiBidG4teHMiLAogICAgICAgICJkYXRhLXRvZ2dsZSI6ICJidXR0b24iLAogICAgICAgICJhcmlhLXByZXNzZWQiOiAiZmFsc2UiLAogICAgICAgIG9uQ2xpY2s6IHRvZ2dsZVRyZWUKICAgICAgfSwgcGl2b3RCeSAmJiBwaXZvdEJ5Lmxlbmd0aCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5zdG9ja01vdmVtZW50LmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlN0b2NrIE1vdmVtZW50IgogICAgICB9KSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5wcm9kdWN0LmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlByb2R1Y3QiCiAgICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIGNsYXNzTmFtZTogImJ1dHRvbnMtY29udGFpbmVyIGNsYXNzaWMtZm9ybS1idXR0b25zIgogICAgICB9LCB0aGlzLnN0YXRlLmNvbXBsZXRlZCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgY2xhc3NOYW1lOiAiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4teHMgbXItMyIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuZ29Ub0ZpcnN0UGFnZSgpOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5wdXRBd2F5LmdvQmFjay5sYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJHbyBiYWNrIHRvIHB1dGF3YXkgbGlzdCIKICAgICAgfSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUucHJvcHMucHJldmlvdXNQYWdlKHsKICAgICAgICAgICAgcHV0QXdheTogX3RoaXM1LnN0YXRlLnB1dEF3YXksCiAgICAgICAgICAgIHBpdm90Qnk6IF90aGlzNS5zdGF0ZS5waXZvdEJ5LAogICAgICAgICAgICBleHBhbmRlZDogX3RoaXM1LnN0YXRlLmV4cGFuZGVkCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXhzIG1yLTMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24uZWRpdC5sYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFZGl0IgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuY29tcGxldGVQdXRBd2F5KCk7CiAgICAgICAgfSwKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi14cyBtci0zIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LnB1dEF3YXkuY29tcGxldGVQdXRBd2F5LmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNvbXBsZXRlIFB1dGF3YXkiCiAgICAgIH0pKSkpKSwgcHV0QXdheS5wdXRhd2F5SXRlbXMgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3RUcmVlVGFibGUsIF9leHRlbmRzKHsKICAgICAgICBkYXRhOiBwdXRBd2F5LnB1dGF3YXlJdGVtcywKICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKHIpIHsKICAgICAgICAgIF90aGlzNS5zZWxlY3RUYWJsZSA9IHI7CiAgICAgICAgfSwKICAgICAgICBjbGFzc05hbWU6ICItc3RyaXBlZCAtaGlnaGxpZ2h0IgogICAgICB9LCBleHRyYVByb3BzLCB7CiAgICAgICAgZGVmYXVsdFBhZ2VTaXplOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwKICAgICAgICBtaW5Sb3dzOiAwLAogICAgICAgIHNob3dQYWdpbmF0aW9uQm90dG9tOiBmYWxzZSwKICAgICAgICBmaWx0ZXJhYmxlOiB0cnVlLAogICAgICAgIGRlZmF1bHRGaWx0ZXJNZXRob2Q6IHRoaXMuZmlsdGVyTWV0aG9kCiAgICAgIH0pKSA6IG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAic3VibWl0LWJ1dHRvbnMiCiAgICAgIH0sIHRoaXMuc3RhdGUuY29tcGxldGVkID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tZm9ybSBidG4teHMiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LmdvVG9GaXJzdFBhZ2UoKTsKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5nb0JhY2subGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiR28gYmFjayB0byBwdXRhd2F5IGxpc3QiCiAgICAgIH0pKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAic3VibWl0LWJ1dHRvbnMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuY29tcGxldGVQdXRBd2F5KCk7CiAgICAgICAgfSwKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tZm9ybSBmbG9hdC1yaWdodCBidG4teHMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5jb21wbGV0ZVB1dEF3YXkubGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ29tcGxldGUgUHV0YXdheSIKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LnByb3BzLnByZXZpb3VzUGFnZSh7CiAgICAgICAgICAgIHB1dEF3YXk6IF90aGlzNS5zdGF0ZS5wdXRBd2F5LAogICAgICAgICAgICBwaXZvdEJ5OiBfdGhpczUuc3RhdGUucGl2b3RCeSwKICAgICAgICAgICAgZXhwYW5kZWQ6IF90aGlzNS5zdGF0ZS5leHBhbmRlZAogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tZm9ybSBidG4teHMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24uZWRpdC5sYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFZGl0IgogICAgICB9KSkpKSk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJwcm9jZXNzU3BsaXRMaW5lcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc1NwbGl0TGluZXMocHV0YXdheUl0ZW1zKSB7CiAgICAgIHZhciBuZXdJdGVtcyA9IFtdOwogICAgICBpZiAocHV0YXdheUl0ZW1zKSB7CiAgICAgICAgcHV0YXdheUl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLnNwbGl0SXRlbXMgJiYgaXRlbS5zcGxpdEl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgaXRlbS5zcGxpdEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHNwbGl0SXRlbSkgewogICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgICAgICAgIHF1YW50aXR5OiBzcGxpdEl0ZW0ucXVhbnRpdHksCiAgICAgICAgICAgICAgICBwdXRhd2F5RmFjaWxpdHk6IHNwbGl0SXRlbS5wdXRhd2F5RmFjaWxpdHksCiAgICAgICAgICAgICAgICBwdXRhd2F5TG9jYXRpb246IHNwbGl0SXRlbS5wdXRhd2F5TG9jYXRpb24sCiAgICAgICAgICAgICAgICBzcGxpdEl0ZW1zOiBbXQogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdJdGVtcy5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBuZXdJdGVtczsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFB1dEF3YXlDaGVja1BhZ2U7Cn0oQ29tcG9uZW50KTsKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkgewogIHJldHVybiB7CiAgICB0cmFuc2xhdGU6IHRyYW5zbGF0ZVdpdGhEZWZhdWx0TWVzc2FnZShnZXRUcmFuc2xhdGUoc3RhdGUubG9jYWxpemUpKQogIH07Cn07CmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7CiAgc2hvd1NwaW5uZXI6IHNob3dTcGlubmVyLAogIGhpZGVTcGlubmVyOiBoaWRlU3Bpbm5lcgp9KShQdXRBd2F5Q2hlY2tQYWdlKTsKUHV0QXdheUNoZWNrUGFnZS5wcm9wVHlwZXMgPSB7CiAgaW5pdGlhbFZhbHVlczogUHJvcFR5cGVzLnNoYXBlKHsKICAgIHB1dEF3YXk6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7fSkpLAogICAgcGl2b3RCeTogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSksCiAgICBleHBhbmRlZDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSkKICB9KS5pc1JlcXVpcmVkLAogIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkYXRhIGlzIGxvYWRpbmcgKi8KICBzaG93U3Bpbm5lcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICAvKiogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZGF0YSBoYXMgbG9hZGVkICovCiAgaGlkZVNwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIExvY2F0aW9uIChjdXJyZW50bHkgY2hvc2VuKS4gVG8gYmUgdXNlZCBpbiBpbnRlcm5hbExvY2F0aW9ucyBhbmQgcHV0YXdheXMgcmVxdWVzdHMuICovCiAgbG9jYXRpb246IFByb3BUeXBlcy5zaGFwZSh7CiAgICBpZDogUHJvcFR5cGVzLnN0cmluZwogIH0pLmlzUmVxdWlyZWQsCiAgaGlzdG9yeTogUHJvcFR5cGVzLnNoYXBlKHsKICAgIHB1c2g6IFByb3BUeXBlcy5mdW5jCiAgfSkuaXNSZXF1aXJlZCwKICB0cmFuc2xhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgcHJldmlvdXNQYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIGdvVG9QYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkCn07ClB1dEF3YXlDaGVja1BhZ2UuZGVmYXVsdFByb3BzID0ge307"},null]}