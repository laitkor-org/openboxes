{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/stock-transfer/StockTransferCheckPage.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/stock-transfer/StockTransferCheckPage.jsx","mtime":1698037750000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfQpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfQpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9CmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICJzdHJpbmciKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gInN5bWJvbCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSAib2JqZWN0IiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAiZGVmYXVsdCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSAib2JqZWN0IikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKGhpbnQgPT09ICJzdHJpbmciID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH0KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsKaW1wb3J0IHsgY29uZmlybUFsZXJ0IH0gZnJvbSAncmVhY3QtY29uZmlybS1hbGVydCc7CmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWxvY2FsaXplLXJlZHV4JzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IEFsZXJ0IGZyb20gJ3JlYWN0LXMtYWxlcnQnOwppbXBvcnQgUmVhY3RUYWJsZSBmcm9tICdyZWFjdC10YWJsZSc7CmltcG9ydCB7IGhpZGVTcGlubmVyLCBzaG93U3Bpbm5lciB9IGZyb20gJ2FjdGlvbnMnOwppbXBvcnQgeyBleHRyYWN0Tm9uQ2FuY2VsZWRJdGVtcyB9IGZyb20gJ2NvbXBvbmVudHMvc3RvY2stdHJhbnNmZXIvdXRpbHMnOwppbXBvcnQgYXBpQ2xpZW50LCB7IGZsYXR0ZW5SZXF1ZXN0LCBwYXJzZVJlc3BvbnNlIH0gZnJvbSAndXRpbHMvYXBpQ2xpZW50JzsKaW1wb3J0IGN1c3RvbVRyZWVUYWJsZUhPQyBmcm9tICd1dGlscy9DdXN0b21UcmVlVGFibGUnOwppbXBvcnQgRmlsdGVyIGZyb20gJ3V0aWxzL0ZpbHRlcic7CmltcG9ydCBUcmFuc2xhdGUsIHsgdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlIH0gZnJvbSAndXRpbHMvVHJhbnNsYXRlJzsKaW1wb3J0ICdyZWFjdC10YWJsZS9yZWFjdC10YWJsZS5jc3MnOwppbXBvcnQgJ3JlYWN0LWNvbmZpcm0tYWxlcnQvc3JjL3JlYWN0LWNvbmZpcm0tYWxlcnQuY3NzJzsKdmFyIFNlbGVjdFRyZWVUYWJsZSA9IGN1c3RvbVRyZWVUYWJsZUhPQyhSZWFjdFRhYmxlKTsKdmFyIENPTVBMRVRFRCA9ICdDT01QTEVURUQnOwoKLyoqCiAqIFRoZSBzZWNvbmQgcGFnZSBvZiBzdG9jayB0cmFuc2ZlciB3aGVyZSB1c2VyIGNhbiBjaG9vc2UgcXR5IGFuZCBiaW4gdG8gdHJhbnNmZXIKICogb3IgZ2VuZXJhdGUgc3RvY2sgdHJhbnNmZXIgbGlzdChwZGYpLgogKi8KdmFyIFN0b2NrVHJhbnNmZXJTZWNvbmRQYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFN0b2NrVHJhbnNmZXJTZWNvbmRQYWdlLCBfQ29tcG9uZW50KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFN0b2NrVHJhbnNmZXJTZWNvbmRQYWdlKTsKICBmdW5jdGlvbiBTdG9ja1RyYW5zZmVyU2Vjb25kUGFnZShwcm9wcykgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b2NrVHJhbnNmZXJTZWNvbmRQYWdlKTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZ2V0Q29sdW1ucyIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgSGVhZGVyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3Quc3RvY2tUcmFuc2Zlci5jb2RlLmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ29kZSIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ3Byb2R1Y3QucHJvZHVjdENvZGUnLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJwogICAgICAgIH0sCiAgICAgICAgRmlsdGVyOiBGaWx0ZXIKICAgICAgfSwgewogICAgICAgIEhlYWRlcjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICBpZDogInJlYWN0LnN0b2NrVHJhbnNmZXIucHJvZHVjdC5sYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlByb2R1Y3QiCiAgICAgICAgfSksCiAgICAgICAgYWNjZXNzb3I6ICdwcm9kdWN0Lm5hbWUnLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJwogICAgICAgIH0sCiAgICAgICAgRmlsdGVyOiBGaWx0ZXIKICAgICAgfSwgewogICAgICAgIEhlYWRlcjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICBpZDogInJlYWN0LnN0b2NrVHJhbnNmZXIubG90LmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTG90IgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAnbG90TnVtYmVyJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH0sIHsKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5zdG9ja1RyYW5zZmVyLmV4cGlyeS5sYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkV4cGlyeSIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ2V4cGlyYXRpb25EYXRlJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH0sIHsKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5zdG9ja1RyYW5zZmVyLnF1YW50aXR5QXZhaWxhYmxlVG9UcmFuc2Zlci5sYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlF1YW50aXR5IEF2YWlsYWJsZSB0byBUcmFuc2ZlciIKICAgICAgICB9KSwKICAgICAgICBhY2Nlc3NvcjogJ3F1YW50aXR5Tm90UGlja2VkJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcKICAgICAgICB9LAogICAgICAgIHdpZHRoOiAyMjAsCiAgICAgICAgRmlsdGVyOiBGaWx0ZXIKICAgICAgfSwgewogICAgICAgIEhlYWRlcjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICBpZDogInJlYWN0LnN0b2NrVHJhbnNmZXIuY3VycmVudFpvbmUubGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDdXJyZW50IFpvbmUiCiAgICAgICAgfSksCiAgICAgICAgYWNjZXNzb3I6ICdvcmlnaW5ab25lJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH0sIHsKICAgICAgICBIZWFkZXI6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgaWQ6ICJyZWFjdC5zdG9ja1RyYW5zZmVyLmN1cnJlbnRCaW5Mb2NhdGlvbi5sYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkN1cnJlbnQgQmluIExvY2F0aW9uIgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAnb3JpZ2luQmluTG9jYXRpb24ubmFtZScsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnCiAgICAgICAgfSwKICAgICAgICBGaWx0ZXI6IEZpbHRlcgogICAgICB9LCB7CiAgICAgICAgSGVhZGVyOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3Quc3RvY2tUcmFuc2Zlci5xdHlUb1RyYW5zZmVyLmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUXR5IHRvIFRyYW5zZmVyIgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAncXVhbnRpdHknLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJwogICAgICAgIH0sCiAgICAgICAgRmlsdGVyOiBGaWx0ZXIKICAgICAgfSwgewogICAgICAgIEhlYWRlcjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICBpZDogInJlYWN0LnN0b2NrVHJhbnNmZXIudHJhbnNmZXJUby5sYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRyYW5zZmVyIHRvIgogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc29yOiAnZGVzdGluYXRpb25CaW5Mb2NhdGlvbi5uYW1lJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcKICAgICAgICB9LAogICAgICAgIEZpbHRlcjogRmlsdGVyCiAgICAgIH1dOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkYXRhRmV0Y2hlZCIsIGZhbHNlKTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImZpbHRlck1ldGhvZCIsIGZ1bmN0aW9uIChmaWx0ZXIsIHJvdykgewogICAgICB2YXIgdmFsID0gcm93W2ZpbHRlci5pZF07CiAgICAgIHJldHVybiBfLnRvU3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIudmFsdWUudG9Mb3dlckNhc2UoKSk7CiAgICB9KTsKICAgIF90aGlzLmdldENvbHVtbnMgPSBfdGhpcy5nZXRDb2x1bW5zLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgdmFyIGNvbHVtbnMgPSBfdGhpcy5nZXRDb2x1bW5zKCk7CiAgICB2YXIgc3RvY2tUcmFuc2ZlciA9IF90aGlzLnByb3BzLmluaXRpYWxWYWx1ZXMuc3RvY2tUcmFuc2ZlcjsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBzdG9ja1RyYW5zZmVyOiBzdG9ja1RyYW5zZmVyIHx8IHt9LAogICAgICBjb2x1bW5zOiBjb2x1bW5zCiAgICB9OwogICAgX3RoaXMuY29tcGxldGVTdG9ja1RyYW5zZmVyID0gX3RoaXMuY29tcGxldGVTdG9ja1RyYW5zZmVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoU3RvY2tUcmFuc2ZlclNlY29uZFBhZ2UsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIGlmICh0aGlzLnByb3BzLnN0b2NrVHJhbnNmZXJUcmFuc2xhdGlvbnNGZXRjaGVkKSB7CiAgICAgICAgdGhpcy5kYXRhRmV0Y2hlZCA9IHRydWU7CiAgICAgIH0KICAgICAgdGhpcy5mZXRjaFN0b2NrVHJhbnNmZXIoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykgewogICAgICBpZiAobmV4dFByb3BzLnN0b2NrVHJhbnNmZXJUcmFuc2xhdGlvbnNGZXRjaGVkICYmICF0aGlzLmRhdGFGZXRjaGVkKSB7CiAgICAgICAgdGhpcy5kYXRhRmV0Y2hlZCA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgY29sdW1ucyB3aGljaCBhcmUgcGFzc2VkIHRvIHRoZSB0YWJsZS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogIH0sIHsKICAgIGtleTogImZldGNoU3RvY2tUcmFuc2ZlciIsCiAgICB2YWx1ZToKICAgIC8qKgogICAgICogRmV0Y2hlcyBzdG9jayB0cmFuc2ZlciBpdGVtcyBhbmQgc2V0cyB0aGVtIGluIHJlZHV4IGZvcm0gYW5kIGluCiAgICAgKiBzdGF0ZSBhcyBjdXJyZW50IGxpbmUgaXRlbXMuCiAgICAgKiBAcHVibGljCiAgICAgKi8KCiAgICBmdW5jdGlvbiBmZXRjaFN0b2NrVHJhbnNmZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tUcmFuc2ZlcnMvIi5jb25jYXQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuc3RvY2tUcmFuc2ZlcklkKTsKICAgICAgYXBpQ2xpZW50LmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHN0b2NrVHJhbnNmZXIgPSBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgdmFyIHN0b2NrVHJhbnNmZXJJdGVtcyA9IGV4dHJhY3ROb25DYW5jZWxlZEl0ZW1zKHN0b2NrVHJhbnNmZXIpOwogICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7CiAgICAgICAgICBzdG9ja1RyYW5zZmVyOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0b2NrVHJhbnNmZXIpLCB7fSwgewogICAgICAgICAgICBzdG9ja1RyYW5zZmVySXRlbXM6IHN0b2NrVHJhbnNmZXJJdGVtcwogICAgICAgICAgfSksCiAgICAgICAgICBvcmlnaW5hbEl0ZW1zOiBzdG9ja1RyYW5zZmVyLnN0b2NrVHJhbnNmZXJJdGVtcwogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICB9KTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZSIsCiAgICB2YWx1ZToKICAgIC8qKgogICAgICogU2VuZHMgYWxsIGNoYW5nZXMgbWFkZSBieSB1c2VyIGluIHRoaXMgc3RlcCBvZiBzdG9jayB0cmFuc2ZlciB0byBBUEkgYW5kIHVwZGF0ZXMgZGF0YS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogICAgZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgdmFyIHVybCA9ICIvb3BlbmJveGVzL2FwaS9zdG9ja1RyYW5zZmVycy8iLmNvbmNhdCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5zdG9ja1RyYW5zZmVySWQpOwogICAgICB2YXIgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zdGF0ZS5zdG9ja1RyYW5zZmVyKSwge30sIHsKICAgICAgICBzdG9ja1RyYW5zZmVySXRlbXM6IHRoaXMuc3RhdGUub3JpZ2luYWxJdGVtcywKICAgICAgICBzdGF0dXM6IENPTVBMRVRFRAogICAgICB9KTsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5wdXQodXJsLCBmbGF0dGVuUmVxdWVzdChwYXlsb2FkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgQWxlcnQuc3VjY2VzcyhfdGhpczMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja1RyYW5zZmVyLmFsZXJ0LnN0b2NrVHJhbnNmZXJDb21wbGV0ZWQubGFiZWwnLCAnU3RvY2sgdHJhbnNmZXIgd2FzIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQhJyksIHsKICAgICAgICAgIHRpbWVvdXQ6IDMwMDAKICAgICAgICB9KTsKICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAiL29wZW5ib3hlcy9zdG9ja1RyYW5zZmVyL3Nob3cvIi5jb25jYXQoX3RoaXMzLnN0YXRlLnN0b2NrVHJhbnNmZXIuaWQpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFNlbmRzIGFsbCBjaGFuZ2VzIG1hZGUgYnkgdXNlciBpbiB0aGlzIHN0ZXAgb2Ygc3RvY2sgdHJhbnNmZXIgdG8gQVBJIGFuZCB1cGRhdGVzIGRhdGEuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJjb21wbGV0ZVN0b2NrVHJhbnNmZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBsZXRlU3RvY2tUcmFuc2ZlcigpIHsKICAgICAgdmFyIGl0ZW1zV2l0aExvd2VyUXVhbnRpdHkgPSBfLmZpbHRlcih0aGlzLnN0YXRlLnN0b2NrVHJhbnNmZXIuc3RvY2tUcmFuc2Zlckl0ZW1zLCBmdW5jdGlvbiAoc3RvY2tUcmFuc2Zlckl0ZW0pIHsKICAgICAgICByZXR1cm4gc3RvY2tUcmFuc2Zlckl0ZW0udHJhbnNmZXJRdHkgPCBzdG9ja1RyYW5zZmVySXRlbS5xdWFudGl0eU5vdFBpY2tlZDsKICAgICAgfSk7CiAgICAgIGlmICghXy5pc0VtcHR5KGl0ZW1zV2l0aExvd2VyUXVhbnRpdHkpKSB7CiAgICAgICAgdGhpcy5jb25maXJtTG93ZXJRdWFudGl0eShpdGVtc1dpdGhMb3dlclF1YW50aXR5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU2hvd3MgY29uZmlybWF0aW9uIGRpYWxvZyBvbiBjb21wbGV0ZSBpZiBxdHkgdG8gYmUgdHJhbnNmZXJyZWQ+PXF0eSBvbiBoYW5kIGluIG9yaWdpbmFsIGJpbgogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAiY29uZmlybUxvd2VyUXVhbnRpdHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1Mb3dlclF1YW50aXR5KGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBjb25maXJtQWxlcnQoewogICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tUcmFuc2Zlci5tZXNzYWdlLmNvbmZpcm1TdG9ja1RyYW5zZmVyLmxhYmVsJywgJ0NvbmZpcm0gU3RvY2sgVHJhbnNmZXInKSwKICAgICAgICBtZXNzYWdlOiBfLm1hcChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsICJRdHkgIiwgaXRlbS5xdWFudGl0eU5vdFBpY2tlZCAtIGl0ZW0udHJhbnNmZXJRdHksICIgIiwgX3RoaXM0LnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tUcmFuc2Zlci5hbGVydC5sb3dlclF0eTEubGFiZWwnLCAnb2YgaXRlbScpLCAiICIsICcgJywgaXRlbS5wcm9kdWN0TmFtZSwgIiAiLCBfdGhpczQucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja1RyYW5zZmVyLmFsZXJ0Lmxvd2VyUXR5Mi5sYWJlbCcsICdpcyBzdGlsbCBpbiB0aGUgcmVjZWl2aW5nIGJpbi4gRG8geW91IHdhbnQgdG8gY29udGludWU/JykpOwogICAgICAgIH0pLAogICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICBsYWJlbDogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LmRlZmF1bHQueWVzLmxhYmVsJywgJ1llcycpLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zYXZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lm5vLmxhYmVsJywgJ05vJykKICAgICAgICB9XQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcmV2aW91c1BhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpb3VzUGFnZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgdmFyIHVybCA9ICIvb3BlbmJveGVzL2FwaS9zdG9ja1RyYW5zZmVycy8iLmNvbmNhdCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5zdG9ja1RyYW5zZmVySWQpOwogICAgICB2YXIgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zdGF0ZS5zdG9ja1RyYW5zZmVyKSwge30sIHsKICAgICAgICBzdG9ja1RyYW5zZmVySXRlbXM6IHRoaXMuc3RhdGUub3JpZ2luYWxJdGVtcwogICAgICB9KTsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5wdXQodXJsLCBmbGF0dGVuUmVxdWVzdChwYXlsb2FkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgX3RoaXM1LnByb3BzLnByZXZpb3VzUGFnZSh7CiAgICAgICAgICBzdG9ja1RyYW5zZmVyOiBfdGhpczUuc3RhdGUuc3RvY2tUcmFuc2ZlcgogICAgICAgIH0pOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsCiAgICAgICAgY29sdW1ucyA9IF90aGlzJHN0YXRlLmNvbHVtbnMsCiAgICAgICAgcGl2b3RCeSA9IF90aGlzJHN0YXRlLnBpdm90Qnk7CiAgICAgIHZhciBleHRyYVByb3BzID0gewogICAgICAgIHBpdm90Qnk6IHBpdm90QnkKICAgICAgfTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAic3RvY2stdHJhbnNmZXIiCiAgICAgIH0sIHRoaXMuc3RhdGUuc3RvY2tUcmFuc2ZlciAmJiB0aGlzLnN0YXRlLnN0b2NrVHJhbnNmZXIuc3RhdHVzID09PSAnQ09NUExFVEVEJyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogInN1Ym1pdC1idXR0b25zIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kIG1iLTMgbXQtMCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gIi9vcGVuYm94ZXMvc3RvY2tUcmFuc2Zlci9zaG93LyIuY29uY2F0KF90aGlzNi5zdGF0ZS5zdG9ja1RyYW5zZmVyLmlkKTsKICAgICAgICB9LAogICAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi1mb3JtIGJ0bi14cyIsCiAgICAgICAgaGlkZGVuOiB0aGlzLnN0YXRlLnN0b2NrVHJhbnNmZXIuc3RhdHVzICE9PSAnQ09NUExFVEVEJwogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLmV4aXQubGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXhpdCIKICAgICAgfSkpKSwgdGhpcy5zdGF0ZS5zdG9ja1RyYW5zZmVyLnN0b2NrVHJhbnNmZXJJdGVtcyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdFRyZWVUYWJsZSwgX2V4dGVuZHMoewogICAgICAgIGRhdGE6IHRoaXMuc3RhdGUuc3RvY2tUcmFuc2Zlci5zdG9ja1RyYW5zZmVySXRlbXMsCiAgICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihyKSB7CiAgICAgICAgICBfdGhpczYuc2VsZWN0VGFibGUgPSByOwogICAgICAgIH0sCiAgICAgICAgY2xhc3NOYW1lOiAiLXN0cmlwZWQgLWhpZ2hsaWdodCIKICAgICAgfSwgZXh0cmFQcm9wcywgewogICAgICAgIGRlZmF1bHRQYWdlU2l6ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsCiAgICAgICAgbWluUm93czogMCwKICAgICAgICBzaG93UGFnaW5hdGlvbkJvdHRvbTogZmFsc2UsCiAgICAgICAgZmlsdGVyYWJsZTogdHJ1ZSwKICAgICAgICBkZWZhdWx0RmlsdGVyTWV0aG9kOiB0aGlzLmZpbHRlck1ldGhvZAogICAgICB9KSkgOiBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogInN1Ym1pdC1idXR0b25zIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM2LnByZXZpb3VzUGFnZSgpOwogICAgICAgIH0sCiAgICAgICAgY2xhc3NOYW1lOiAiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLWZvcm0gYnRuLXhzIiwKICAgICAgICBkaXNhYmxlZDogdGhpcy5zdGF0ZS5zdG9ja1RyYW5zZmVyLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5wcmV2aW91cy5sYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJQcmV2aW91cyIKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM2LmNvbXBsZXRlU3RvY2tUcmFuc2ZlcigpOwogICAgICAgIH0sCiAgICAgICAgY2xhc3NOYW1lOiAiYnRuIGJ0bi1vdXRsaW5lLXN1Y2Nlc3MgZmxvYXQtcmlnaHQgYnRuLXhzIG1yLTMiLAogICAgICAgIGRpc2FibGVkOiB0aGlzLnN0YXRlLnN0b2NrVHJhbnNmZXIuc3RhdHVzID09PSAnQ09NUExFVEVEJwogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LnN0b2NrVHJhbnNmZXIuY29tcGxldGVTdG9ja1RyYW5zZmVyLmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkNvbXBsZXRlIFN0b2NrIFRyYW5zZmVyIgogICAgICB9KSkpKTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFN0b2NrVHJhbnNmZXJTZWNvbmRQYWdlOwp9KENvbXBvbmVudCk7CnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHsKICByZXR1cm4gewogICAgdHJhbnNsYXRlOiB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UoZ2V0VHJhbnNsYXRlKHN0YXRlLmxvY2FsaXplKSksCiAgICBzdG9ja1RyYW5zZmVyVHJhbnNsYXRpb25zRmV0Y2hlZDogc3RhdGUuc2Vzc2lvbi5mZXRjaGVkVHJhbnNsYXRpb25zLnN0b2NrVHJhbnNmZXIKICB9Owp9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgewogIHNob3dTcGlubmVyOiBzaG93U3Bpbm5lciwKICBoaWRlU3Bpbm5lcjogaGlkZVNwaW5uZXIKfSkoU3RvY2tUcmFuc2ZlclNlY29uZFBhZ2UpOwpTdG9ja1RyYW5zZmVyU2Vjb25kUGFnZS5wcm9wVHlwZXMgPSB7CiAgLyoqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRhdGEgaXMgbG9hZGluZyAqLwogIHNob3dTcGlubmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkYXRhIGhhcyBsb2FkZWQgKi8KICBoaWRlU3Bpbm5lcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICAvKiogRnVuY3Rpb24gdGFraW5nIHVzZXIgdG8gdGhlIG5leHQgcGFnZSAqLwogIG5leHRQYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIC8qKiBGdW5jdGlvbiB0YWtpbmcgdXNlciB0byB0aGUgcHJldmlvdXMgcGFnZSAqLwogIHByZXZpb3VzUGFnZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICB0cmFuc2xhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIEFsbCBzdG9jayB0cmFuc2ZlcidzIGRhdGEgKi8KICBpbml0aWFsVmFsdWVzOiBQcm9wVHlwZXMuc2hhcGUoewogICAgc3RvY2tUcmFuc2ZlcjogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSkKICB9KS5pc1JlcXVpcmVkLAogIG1hdGNoOiBQcm9wVHlwZXMuc2hhcGUoewogICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoewogICAgICBzdG9ja1RyYW5zZmVySWQ6IFByb3BUeXBlcy5zdHJpbmcKICAgIH0pCiAgfSkuaXNSZXF1aXJlZCwKICAvKiogTG9jYXRpb24gKGN1cnJlbnRseSBjaG9zZW4pLiBUbyBiZSB1c2VkIGluIGludGVybmFsTG9jYXRpb25zIGFuZCBzdG9jayB0cmFuc2ZlciByZXF1ZXN0cy4gKi8KICBsb2NhdGlvbjogUHJvcFR5cGVzLnNoYXBlKHsKICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nCiAgfSkuaXNSZXF1aXJlZCwKICBzdG9ja1RyYW5zZmVyVHJhbnNsYXRpb25zRmV0Y2hlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZAp9Ow=="},null]}