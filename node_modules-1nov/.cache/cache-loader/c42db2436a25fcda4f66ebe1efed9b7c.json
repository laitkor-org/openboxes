{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/invoice/CreateInvoicePage.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/invoice/CreateInvoicePage.jsx","mtime":1698037748000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOwppbXBvcnQgeyBGb3JtIH0gZnJvbSAncmVhY3QtZmluYWwtZm9ybSc7CmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWxvY2FsaXplLXJlZHV4JzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaEN1cnJlbmNpZXMsIGhpZGVTcGlubmVyLCBzaG93U3Bpbm5lciB9IGZyb20gJ2FjdGlvbnMnOwppbXBvcnQgRGF0ZUZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9EYXRlRmllbGQnOwppbXBvcnQgU2VsZWN0RmllbGQgZnJvbSAnY29tcG9uZW50cy9mb3JtLWVsZW1lbnRzL1NlbGVjdEZpZWxkJzsKaW1wb3J0IFRleHRGaWVsZCBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvVGV4dEZpZWxkJzsKaW1wb3J0IGFwaUNsaWVudCBmcm9tICd1dGlscy9hcGlDbGllbnQnOwppbXBvcnQgeyByZW5kZXJGb3JtRmllbGQgfSBmcm9tICd1dGlscy9mb3JtLXV0aWxzJzsKaW1wb3J0IHsgZGVib3VuY2VPcmdhbml6YXRpb25zRmV0Y2ggfSBmcm9tICd1dGlscy9vcHRpb24tdXRpbHMnOwppbXBvcnQgVHJhbnNsYXRlLCB7IHRyYW5zbGF0ZVdpdGhEZWZhdWx0TWVzc2FnZSB9IGZyb20gJ3V0aWxzL1RyYW5zbGF0ZSc7CmltcG9ydCAncmVhY3QtY29uZmlybS1hbGVydC9zcmMvcmVhY3QtY29uZmlybS1hbGVydC5jc3MnOwpmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZXMpIHsKICB2YXIgZXJyb3JzID0ge307CiAgaWYgKCF2YWx1ZXMudmVuZG9yKSB7CiAgICBlcnJvcnMudmVuZG9yID0gJ3JlYWN0LmRlZmF1bHQuZXJyb3IucmVxdWlyZWRGaWVsZC5sYWJlbCc7CiAgfQogIGlmICghdmFsdWVzLnZlbmRvckludm9pY2VOdW1iZXIpIHsKICAgIGVycm9ycy52ZW5kb3JJbnZvaWNlTnVtYmVyID0gJ3JlYWN0LmRlZmF1bHQuZXJyb3IucmVxdWlyZWRGaWVsZC5sYWJlbCc7CiAgfQogIGlmICghdmFsdWVzLmRhdGVJbnZvaWNlZCkgewogICAgZXJyb3JzLmRhdGVJbnZvaWNlZCA9ICdyZWFjdC5kZWZhdWx0LmVycm9yLnJlcXVpcmVkRmllbGQubGFiZWwnOwogIH0gZWxzZSB7CiAgICB2YXIgZGF0ZUludm9pY2VkID0gbW9tZW50KHZhbHVlcy5kYXRlSW52b2ljZWQsICdNTS9ERC9ZWVlZJywgdHJ1ZSk7CiAgICBpZiAoIWRhdGVJbnZvaWNlZC5pc1ZhbGlkKCkpIHsKICAgICAgZXJyb3JzLmRhdGVJbnZvaWNlZCA9ICdyZWFjdC5kZWZhdWx0LmVycm9yLmludmFsaWQuZGF0ZSc7CiAgICB9CiAgfQogIGlmICghdmFsdWVzLmN1cnJlbmN5VW9tKSB7CiAgICBlcnJvcnMuY3VycmVuY3lVb20gPSAncmVhY3QuZGVmYXVsdC5lcnJvci5yZXF1aXJlZEZpZWxkLmxhYmVsJzsKICB9CiAgcmV0dXJuIGVycm9yczsKfQp2YXIgRklFTERTID0gewogIC8vIEludm9pY2UgTnVtYmVyIHdpbGwgYmUgYXV0by1nZW5lcmF0ZWQgYWZ0ZXIgZmlyc3Qgc2F2ZSByZXF1ZXN0CiAgaW52b2ljZU51bWJlcjogewogICAgdHlwZTogVGV4dEZpZWxkLAogICAgbGFiZWw6ICdyZWFjdC5pbnZvaWNlLmludm9pY2VOdW1iZXIubGFiZWwnLAogICAgZGVmYXVsdE1lc3NhZ2U6ICdJbnZvaWNlIG51bWJlcicsCiAgICBhdHRyaWJ1dGVzOiB7CiAgICAgIGRpc2FibGVkOiB0cnVlCiAgICB9CiAgfSwKICB2ZW5kb3I6IHsKICAgIHR5cGU6IFNlbGVjdEZpZWxkLAogICAgbGFiZWw6ICdyZWFjdC5JbnZvaWNlLnZlbmRvci5sYWJlbCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ1ZlbmRvcicsCiAgICBhdHRyaWJ1dGVzOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBhc3luYzogdHJ1ZSwKICAgICAgc2hvd1ZhbHVlVG9vbHRpcDogdHJ1ZSwKICAgICAgb3Blbk9uQ2xpY2s6IGZhbHNlLAogICAgICBhdXRvbG9hZDogZmFsc2UsCiAgICAgIGNhY2hlOiBmYWxzZSwKICAgICAgb3B0aW9uczogW10sCiAgICAgIGZpbHRlck9wdGlvbnM6IGZ1bmN0aW9uIGZpbHRlck9wdGlvbnMob3B0aW9ucykgewogICAgICAgIHJldHVybiBvcHRpb25zOwogICAgICB9CiAgICB9LAogICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWYpIHsKICAgICAgdmFyIGRlYm91bmNlZE9yZ2FuaXphdGlvbnNGZXRjaCA9IF9yZWYuZGVib3VuY2VkT3JnYW5pemF0aW9uc0ZldGNoOwogICAgICByZXR1cm4gewogICAgICAgIGxvYWRPcHRpb25zOiBkZWJvdW5jZWRPcmdhbml6YXRpb25zRmV0Y2gKICAgICAgfTsKICAgIH0KICB9LAogIHZlbmRvckludm9pY2VOdW1iZXI6IHsKICAgIHR5cGU6IFRleHRGaWVsZCwKICAgIGxhYmVsOiAncmVhY3QuaW52b2ljZS52ZW5kb3JJbnZvaWNlTnVtYmVyLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnVmVuZG9yIEludm9pY2UgTnVtYmVyJywKICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGVJbnZvaWNlZDogewogICAgdHlwZTogRGF0ZUZpZWxkLAogICAgbGFiZWw6ICdyZWFjdC5pbnZvaWNlLmludm9pY2VEYXRlLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnSW52b2ljZSBEYXRlJywKICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRhdGVGb3JtYXQ6ICdNTS9ERC9ZWVlZJywKICAgICAgYXV0b0NvbXBsZXRlOiAnb2ZmJwogICAgfQogIH0sCiAgY3VycmVuY3lVb206IHsKICAgIGxhYmVsOiAncmVhY3QuaW52b2ljZS5jdXJyZW5jeS5sYWJlbCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ0N1cnJlbmN5JywKICAgIHR5cGU6IFNlbGVjdEZpZWxkLAogICAgYXR0cmlidXRlczogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgc2hvd1ZhbHVlVG9vbHRpcDogdHJ1ZSwKICAgICAgdmFsdWVLZXk6ICdpZCcsCiAgICAgIGxhYmVsS2V5OiAnbmFtZScKICAgIH0sCiAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZjIpIHsKICAgICAgdmFyIGN1cnJlbmNpZXMgPSBfcmVmMi5jdXJyZW5jaWVzOwogICAgICByZXR1cm4gewogICAgICAgIG9wdGlvbnM6IGN1cnJlbmNpZXMKICAgICAgfTsKICAgIH0KICB9Cn07CnZhciBDcmVhdGVJbnZvaWNlUGFnZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhDcmVhdGVJbnZvaWNlUGFnZSwgX0NvbXBvbmVudCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDcmVhdGVJbnZvaWNlUGFnZSk7CiAgZnVuY3Rpb24gQ3JlYXRlSW52b2ljZVBhZ2UocHJvcHMpIHsKICAgIHZhciBfdGhpczsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDcmVhdGVJbnZvaWNlUGFnZSk7CiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICB2YWx1ZXM6IF90aGlzLnByb3BzLmluaXRpYWxWYWx1ZXMKICAgIH07CiAgICBfdGhpcy5kZWJvdW5jZU9yZ2FuaXphdGlvbnNGZXRjaCA9IGRlYm91bmNlT3JnYW5pemF0aW9uc0ZldGNoKF90aGlzLnByb3BzLmRlYm91bmNlVGltZSwgX3RoaXMucHJvcHMubWluU2VhcmNoTGVuZ3RoKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKENyZWF0ZUludm9pY2VQYWdlLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICAvLyBUT0RPOiBJZiBmdWxsIFJlYWN0LCBmZXRjaCBvbmx5IGlmIG5vdCBmZXRjaGVkIHlldAogICAgICB0aGlzLnByb3BzLmZldGNoQ3VycmVuY2llcygpOwogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrSW52b2ljZUNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJbnZvaWNlQ2hhbmdlKG5ld1ZhbHVlcykgewogICAgICBpZiAoIXRoaXMuc3RhdGUuaWQpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIF90aGlzJHByb3BzJGluaXRpYWxWYSA9IHRoaXMucHJvcHMuaW5pdGlhbFZhbHVlcywKICAgICAgICB2ZW5kb3IgPSBfdGhpcyRwcm9wcyRpbml0aWFsVmEudmVuZG9yLAogICAgICAgIHZlbmRvckludm9pY2VOdW1iZXIgPSBfdGhpcyRwcm9wcyRpbml0aWFsVmEudmVuZG9ySW52b2ljZU51bWJlciwKICAgICAgICBkYXRlSW52b2ljZWQgPSBfdGhpcyRwcm9wcyRpbml0aWFsVmEuZGF0ZUludm9pY2VkLAogICAgICAgIGN1cnJlbmN5VW9tID0gX3RoaXMkcHJvcHMkaW5pdGlhbFZhLmN1cnJlbmN5VW9tOwogICAgICB2YXIgdmVuZG9yU2VsZWN0ZWQgPSBuZXdWYWx1ZXMudmVuZG9yICYmIHZlbmRvcjsKICAgICAgdmFyIHZlbmRvckNoZWNrID0gdmVuZG9yU2VsZWN0ZWQgJiYgbmV3VmFsdWVzLnZlbmRvci5pZCAhPT0gdmVuZG9yLmlkOwogICAgICB2YXIgdmVuZG9ySW52b2ljZU51bWJlckNoZWNrID0gdmVuZG9ySW52b2ljZU51bWJlciAhPT0gbmV3VmFsdWVzLnZlbmRvckludm9pY2VOdW1iZXI7CiAgICAgIHZhciBkYXRlSW52b2ljZWRDaGVjayA9IGRhdGVJbnZvaWNlZCAhPT0gbmV3VmFsdWVzLmRhdGVJbnZvaWNlZDsKICAgICAgdmFyIGN1cnJlbmN5VW9tU2VsZWN0ZWQgPSBuZXdWYWx1ZXMuY3VycmVuY3lVb20gJiYgY3VycmVuY3lVb207CiAgICAgIHZhciBjdXJyZW5jeVVvbUNoZWNrID0gY3VycmVuY3lVb21TZWxlY3RlZCAmJiBuZXdWYWx1ZXMudmVuZG9yLmlkICE9PSB2ZW5kb3IuaWQ7CiAgICAgIHJldHVybiB2ZW5kb3JDaGVjayB8fCB2ZW5kb3JJbnZvaWNlTnVtYmVyQ2hlY2sgfHwgZGF0ZUludm9pY2VkQ2hlY2sgfHwgY3VycmVuY3lVb21DaGVjazsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYXZlSW52b2ljZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUludm9pY2UodmFsdWVzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodmFsdWVzLnZlbmRvciAmJiB2YWx1ZXMudmVuZG9ySW52b2ljZU51bWJlciAmJiB2YWx1ZXMuZGF0ZUludm9pY2VkICYmIHZhbHVlcy5jdXJyZW5jeVVvbSkgewogICAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgICB2YXIgaW52b2ljZVVybCA9ICIvb3BlbmJveGVzL2FwaS9pbnZvaWNlcy8iLmNvbmNhdCh2YWx1ZXMuaWQgfHwgJycpOwogICAgICAgIHZhciBwYXlsb2FkID0gewogICAgICAgICAgdmVuZG9yOiB2YWx1ZXMudmVuZG9yLmlkLAogICAgICAgICAgdmVuZG9ySW52b2ljZU51bWJlcjogdmFsdWVzLnZlbmRvckludm9pY2VOdW1iZXIsCiAgICAgICAgICBkYXRlSW52b2ljZWQ6IHZhbHVlcy5kYXRlSW52b2ljZWQsCiAgICAgICAgICAnY3VycmVuY3lVb20uaWQnOiB2YWx1ZXMuY3VycmVuY3lVb20uaWQKICAgICAgICB9OwogICAgICAgIGFwaUNsaWVudC5wb3N0KGludm9pY2VVcmwsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICB2YXIgcmVzcCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgX3RoaXMyLnByb3BzLmhpc3RvcnkucHVzaCgiL29wZW5ib3hlcy9pbnZvaWNlL2NyZWF0ZS8iLmNvbmNhdChyZXNwLmlkKSk7CiAgICAgICAgICAgIF90aGlzMi5wcm9wcy5uZXh0UGFnZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHZhbHVlcyksIHt9LCB7CiAgICAgICAgICAgICAgaWQ6IHJlc3AuaWQsCiAgICAgICAgICAgICAgdmVuZG9yTmFtZTogcmVzcC52ZW5kb3JOYW1lLAogICAgICAgICAgICAgIGludm9pY2VOdW1iZXI6IHJlc3AuaW52b2ljZU51bWJlciwKICAgICAgICAgICAgICB0b3RhbENvdW50OiByZXNwLnRvdGFsQ291bnQsCiAgICAgICAgICAgICAgY3VycmVuY3lVb206IHJlc3AuY3VycmVuY3lVb20KICAgICAgICAgICAgfSkpOwogICAgICAgICAgICBfdGhpczIucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICAgIH0KICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoX3RoaXMyLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QuaW52b2ljZS5lcnJvci5jcmVhdGVJbnZvaWNlLmxhYmVsJywgJ0NvdWxkIG5vdCBjcmVhdGUgaW52b2ljZScpKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldFRvSW5pdGlhbFZhbHVlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRUb0luaXRpYWxWYWx1ZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICB2YWx1ZXM6IHt9CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnNldFN0YXRlKHsKICAgICAgICAgIHZhbHVlczogX3RoaXMzLnByb3BzLmluaXRpYWxWYWx1ZXMKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibmV4dFBhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5leHRQYWdlKHZhbHVlcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIHNob3dNb2RhbCA9IHRoaXMuY2hlY2tJbnZvaWNlQ2hhbmdlKHZhbHVlcyk7CiAgICAgIGlmICghc2hvd01vZGFsKSB7CiAgICAgICAgdGhpcy5zYXZlSW52b2ljZSh2YWx1ZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbmZpcm1BbGVydCh7CiAgICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0Lmludm9pY2UuY29uZmlybUNoYW5nZS5sYWJlbCcsICdDb25maXJtIGNoYW5nZScpLAogICAgICAgICAgbWVzc2FnZTogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0Lmludm9pY2UuY29uZmlybUNoYW5nZS5sYWJlbCcsICdEbyB5b3Ugd2FudCB0byBjaGFuZ2UgaW52b2ljZSBkYXRhPycpLAogICAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lm5vLmxhYmVsJywgJ05vJyksCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5yZXNldFRvSW5pdGlhbFZhbHVlcygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QuZGVmYXVsdC55ZXMubGFiZWwnLCAnWWVzJyksCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zYXZlSW52b2ljZSh2YWx1ZXMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybSwgewogICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUubmV4dFBhZ2UodmFsdWVzKTsKICAgICAgICB9LAogICAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSwKICAgICAgICBpbml0aWFsVmFsdWVzOiB0aGlzLnN0YXRlLnZhbHVlcywKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmMykgewogICAgICAgICAgdmFyIGZvcm0gPSBfcmVmMy5mb3JtLAogICAgICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmMy5oYW5kbGVTdWJtaXQ7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImZvcm0iLCB7CiAgICAgICAgICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImNsYXNzaWMtZm9ybSB3aXRoLWRlc2NyaXB0aW9uIgogICAgICAgICAgfSwgXy5tYXAoRklFTERTLCBmdW5jdGlvbiAoZmllbGRDb25maWcsIGZpZWxkTmFtZSkgewogICAgICAgICAgICByZXR1cm4gcmVuZGVyRm9ybUZpZWxkKGZpZWxkQ29uZmlnLCBmaWVsZE5hbWUsIHsKICAgICAgICAgICAgICBjdXJyZW5jaWVzOiBfdGhpczUucHJvcHMuY3VycmVuY2llcywKICAgICAgICAgICAgICBkZWJvdW5jZWRPcmdhbml6YXRpb25zRmV0Y2g6IF90aGlzNS5kZWJvdW5jZU9yZ2FuaXphdGlvbnNGZXRjaAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAic3VibWl0LWJ1dHRvbnMiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgICAgICAgY2xhc3NOYW1lOiAiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgZmxvYXQtcmlnaHQgYnRuLXhzIgogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24ubmV4dC5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiTmV4dCIKICAgICAgICAgIH0pKSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBDcmVhdGVJbnZvaWNlUGFnZTsKfShDb21wb25lbnQpOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlKGdldFRyYW5zbGF0ZShzdGF0ZS5sb2NhbGl6ZSkpLAogICAgY3VycmVuY2llczogc3RhdGUuY3VycmVuY2llcy5kYXRhLAogICAgZGVib3VuY2VUaW1lOiBzdGF0ZS5zZXNzaW9uLnNlYXJjaENvbmZpZy5kZWJvdW5jZVRpbWUsCiAgICBtaW5TZWFyY2hMZW5ndGg6IHN0YXRlLnNlc3Npb24uc2VhcmNoQ29uZmlnLm1pblNlYXJjaExlbmd0aAogIH07Cn07CmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHsKICBzaG93U3Bpbm5lcjogc2hvd1NwaW5uZXIsCiAgaGlkZVNwaW5uZXI6IGhpZGVTcGlubmVyLAogIGZldGNoQ3VycmVuY2llczogZmV0Y2hDdXJyZW5jaWVzCn0pKENyZWF0ZUludm9pY2VQYWdlKSk7CkNyZWF0ZUludm9pY2VQYWdlLnByb3BUeXBlcyA9IHsKICBpbml0aWFsVmFsdWVzOiBQcm9wVHlwZXMuc2hhcGUoewogICAgdmVuZG9yOiBQcm9wVHlwZXMuc2hhcGUoe30pLAogICAgdmVuZG9ySW52b2ljZU51bWJlcjogUHJvcFR5cGVzLnN0cmluZywKICAgIGRhdGVJbnZvaWNlZDogUHJvcFR5cGVzLnN0cmluZywKICAgIGN1cnJlbmN5VW9tOiBQcm9wVHlwZXMuc2hhcGUoe30pCiAgfSkuaXNSZXF1aXJlZCwKICBmZXRjaEN1cnJlbmNpZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgc2hvd1NwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgaGlkZVNwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgbmV4dFBhZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgaGlzdG9yeTogUHJvcFR5cGVzLnNoYXBlKHsKICAgIHB1c2g6IFByb3BUeXBlcy5mdW5jCiAgfSkuaXNSZXF1aXJlZCwKICB0cmFuc2xhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgY3VycmVuY2llczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSkuaXNSZXF1aXJlZCwKICBkZWJvdW5jZVRpbWU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwKICBtaW5TZWFyY2hMZW5ndGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZAp9Ow=="},null]}