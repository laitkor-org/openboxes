{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/put-away/SplitLineModal.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/put-away/SplitLineModal.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlclsiQEBpdGVyYXRvciJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgdXBkYXRlIGZyb20gJ2ltbXV0YWJpbGl0eS1oZWxwZXInOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwppbXBvcnQgeyBjb25maXJtQWxlcnQgfSBmcm9tICdyZWFjdC1jb25maXJtLWFsZXJ0JzsKaW1wb3J0IHsgZ2V0VHJhbnNsYXRlIH0gZnJvbSAncmVhY3QtbG9jYWxpemUtcmVkdXgnOwppbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnOwppbXBvcnQgY29ubmVjdCBmcm9tICdyZWFjdC1yZWR1eC9lcy9jb25uZWN0L2Nvbm5lY3QnOwppbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAncmVhY3QtdGlwcHknOwppbXBvcnQgSW5wdXQgZnJvbSAndXRpbHMvSW5wdXQnOwppbXBvcnQgU2VsZWN0IGZyb20gJ3V0aWxzL1NlbGVjdCc7CmltcG9ydCBUcmFuc2xhdGUsIHsgdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlIH0gZnJvbSAndXRpbHMvVHJhbnNsYXRlJzsKaW1wb3J0ICdyZWFjdC1jb25maXJtLWFsZXJ0L3NyYy9yZWFjdC1jb25maXJtLWFsZXJ0LmNzcyc7CmltcG9ydCAncmVhY3QtdGlwcHkvZGlzdC90aXBweS5jc3MnOwoKLyoqCiAqIE1vZGFsIHdpbmRvdyB3aGVyZSB1c2VyIGNhbiBzcGxpdCBwdXQtYXdheSdzIGxpbmUuIEl0IGhhcyBkZXRhaWxzIG9mIHRoZSBsaW5lCiAqIGF0IHRoZSB0b3AsIGluY2x1ZGluZyB0b3RhbCBxdWFudGl0eSB0byBiZSBwdXQgYXdheS4gQWZ0ZXIgY2xpY2tpbmcgImFkZCBsaW5lIiwKICogYSBuZXcgc3BsaXQgbGluZSBpcyBhZGRlZC4gVXNlciBjYW4gc2VsZWN0IGEgYmluIGFuZCBmaWxsIGluIHRoZSBxdWFudGl0eSB0byBhZGQgdG8gdGhhdCBiaW4uCiAqLwp2YXIgU3BsaXRMaW5lTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoU3BsaXRMaW5lTW9kYWwsIF9Db21wb25lbnQpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3BsaXRMaW5lTW9kYWwpOwogIGZ1bmN0aW9uIFNwbGl0TGluZU1vZGFsKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3BsaXRMaW5lTW9kYWwpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgc3BsaXRJdGVtczogW10sCiAgICAgIHNob3dNb2RhbDogZmFsc2UKICAgIH07CiAgICBfdGhpcy5vcGVuTW9kYWwgPSBfdGhpcy5vcGVuTW9kYWwuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy5vblNhdmUgPSBfdGhpcy5vblNhdmUuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy5jbG9zZU1vZGFsID0gX3RoaXMuY2xvc2VNb2RhbC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLmlzVmFsaWQgPSBfdGhpcy5pc1ZhbGlkLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMuaXNCaW5TZWxlY3RlZCA9IF90aGlzLmlzQmluU2VsZWN0ZWQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICAvKioKICAgKiBDaGVja3MgaWYgdGhlcmUgaXMgc3RpbGwgc3RvY2sgaW4gdGhlIHJlY2VpdmluZyBiaW4gYW5kIGlmIHRoZXJlIGlzLCBhbiBlcnJvciBjb21lcyB1cC4KICAgKiBJZiB1c2VyIGRvZXNuJ3Qgd2FudCB0byBwdXQgYXdheSB0aGUgcmVzdCBvZiB0aGUgbGluZSwgc3BsaXQgbGluZSBpcyBzYXZlZCBhbmQgcmVtYWluaW5nCiAgICogcXVhbnRpdHkgd2lsbCBhcHBlYXIgbmV4dCB0aW1lIHNvbWVvbmUgc3RhcnRzIGEgcHV0IGF3YXkuCiAgICogQHB1YmxpYwogICAqLwogIF9jcmVhdGVDbGFzcyhTcGxpdExpbmVNb2RhbCwgW3sKICAgIGtleTogIm9uU2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHB1dEF3YXlRdHkgPSB0aGlzLmNhbGN1bGF0ZVB1dEF3YXlRdHkoKTsKICAgICAgaWYgKHB1dEF3YXlRdHkgPCB0aGlzLnByb3BzLnB1dGF3YXlJdGVtLnF1YW50aXR5KSB7CiAgICAgICAgY29uZmlybUFsZXJ0KHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QucHV0QXdheS5tZXNzYWdlLmNvbmZpcm1TcGxpdExpbmUubGFiZWwnLCAnQ29uZmlybSBzcGxpdCBsaW5lJyksCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QucHV0QXdheS5jb25maXJtU3BsaXRMaW5lLmxhYmVsJywgJ1RoZXJlIGlzIHN0aWxsIHN0b2NrIGluIHRoZSByZWNlaXZpbmcgYmluLiBEbyB5b3Ugd2FudCB0byBwdXRhd2F5IHRoZSByZXN0IG9mIHRoaXMgbGluZT8nKSwKICAgICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICAgIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QuZGVmYXVsdC55ZXMubGFiZWwnLCAnWWVzJykKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lm5vLmxhYmVsJywgJ05vJyksCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zYXZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRFcnJvck1lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSgpIHsKICAgICAgaWYgKHRoaXMuaXNRdWFudGl0eUdyZWF0ZXJUaGFuT3JpZ2luYWxQdXRhd2F5KCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnB1dEF3YXkuc3VtT2ZBbGwubGFiZWwnLCAnU3VtIG9mIGFsbCBzcGxpdCBpdGVtcyBxdWFudGl0aWVzIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gb3JpZ2luYWwgcHV0YXdheSBpdGVtIHF1YW50aXR5Jyk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaXNOZWdhdGl2ZVF1YW50aXR5KCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnB1dEF3YXkubmVnYXRpdmVTdW1PZkFsbC5sYWJlbCcsICdJdGVtcyBxdWFudGl0eSBjYW5ub3QgYmUgbGVzcyB0aGFuIDEnKTsKICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgICB9CgogICAgLyoqCiAgICAgKiBTYXZlcyBzcGxpdCBpdGVtcyBhZGRlZCBieSB1c2VyIGluIHRoaXMgbW9kYWwuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJzYXZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB0aGlzLnByb3BzLnNhdmVTcGxpdEl0ZW1zKF8ubWFwKHRoaXMuc3RhdGUuc3BsaXRJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoIWl0ZW0ucXVhbnRpdHkgfHwgaXRlbS5xdWFudGl0eSA9PT0gJzAnKSB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgICAgImRlbGV0ZSI6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSkpOwogICAgICB0aGlzLmNsb3NlTW9kYWwoKTsKICAgIH0KCiAgICAvKioKICAgICAqIExvYWRzIGV4aXN0aW5nIHNwbGl0IGl0ZW1zKGRlZmF1bHQgb25lIG9yIGFsbCBhZGRlZCBieSB1c2VyKS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogIH0sIHsKICAgIGtleTogIm9wZW5Nb2RhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbk1vZGFsKCkgewogICAgICB2YXIgc3BsaXRJdGVtcyA9IFtdOwogICAgICBpZiAodGhpcy5wcm9wcy5zcGxpdEl0ZW1zICYmIHRoaXMucHJvcHMuc3BsaXRJdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgc3BsaXRJdGVtcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnByb3BzLnNwbGl0SXRlbXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHNwbGl0SXRlbXMucHVzaCh7CiAgICAgICAgICBxdWFudGl0eTogdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5xdWFudGl0eSwKICAgICAgICAgIHB1dGF3YXlGYWNpbGl0eTogewogICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5wdXRhd2F5RmFjaWxpdHkgPyB0aGlzLnByb3BzLnB1dGF3YXlJdGVtLnB1dGF3YXlGYWNpbGl0eS5pZCA6IG51bGwKICAgICAgICAgIH0sCiAgICAgICAgICBwdXRhd2F5TG9jYXRpb246IHsKICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucHV0YXdheUxvY2F0aW9uID8gdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5wdXRhd2F5TG9jYXRpb24uaWQgOiBudWxsLAogICAgICAgICAgICBuYW1lOiB0aGlzLnByb3BzLnB1dGF3YXlJdGVtLnB1dGF3YXlMb2NhdGlvbiA/IHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucHV0YXdheUxvY2F0aW9uLm5hbWUgOiBudWxsLAogICAgICAgICAgICB6b25lSWQ6IHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucHV0YXdheUxvY2F0aW9uID8gdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5wdXRhd2F5TG9jYXRpb24uem9uZUlkIDogbnVsbCwKICAgICAgICAgICAgem9uZU5hbWU6IHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucHV0YXdheUxvY2F0aW9uID8gdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5wdXRhd2F5TG9jYXRpb24uem9uZU5hbWUgOiBudWxsCiAgICAgICAgICB9LAogICAgICAgICAgcHJvZHVjdDogewogICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5wcm9kdWN0LmlkCiAgICAgICAgICB9LAogICAgICAgICAgaW52ZW50b3J5SXRlbTogewogICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5pbnZlbnRvcnlJdGVtLmlkCiAgICAgICAgICB9LAogICAgICAgICAgY3VycmVudExvY2F0aW9uOiB7CiAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLnB1dGF3YXlJdGVtLmN1cnJlbnRMb2NhdGlvbiA/IHRoaXMucHJvcHMucHV0YXdheUl0ZW0uY3VycmVudExvY2F0aW9uLmlkIDogbnVsbAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgIHNwbGl0SXRlbXM6IHNwbGl0SXRlbXMsCiAgICAgICAgc2hvd01vZGFsOiB0cnVlCiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogQ2hhbmdlcyBzdGF0ZSBvZiBzaG93TW9kYWwgdG8gZmFsc2Ugc28gdGhpcyBtb2RhbCdzIHdpbmRvdyBpcyBubyBsb25nZXIgdmlzaWJsZS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogIH0sIHsKICAgIGtleTogImNsb3NlTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgIHNob3dNb2RhbDogZmFsc2UKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYWxsIHNwbGl0IGl0ZW1zIHF1YW50aXRpZXMgYXJlIG5vdCBoaWdoZXIgdGhhbiBvcmlnaW5hbCBwdXQtYXdheSBpdGVtIHF1YW50aXR5LgogICAgICogSXQgaXMgbmVlZGVkIGZvciB2YWxpZGF0aW9uIC0gdGhlcmUgaXMgbm8gd2F5IHRvIHNwbGl0IGxpbmVzIGlmIHF1YW50aXR5IGFkZGVkIGJ5IHVzZXIgaXMKICAgICAqIGhpZ2hlciB0aGFuIGF2YWlsYWJsZSBvbmUuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJpc05lZ2F0aXZlUXVhbnRpdHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzTmVnYXRpdmVRdWFudGl0eSgpIHsKICAgICAgcmV0dXJuIF8uc29tZSh0aGlzLnN0YXRlLnNwbGl0SXRlbXMsIGZ1bmN0aW9uIChpdGVtcykgewogICAgICAgIHJldHVybiBfLnRvSW50ZWdlcihpdGVtcy5xdWFudGl0eSkgPD0gMDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNRdWFudGl0eUdyZWF0ZXJUaGFuT3JpZ2luYWxQdXRhd2F5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1F1YW50aXR5R3JlYXRlclRoYW5PcmlnaW5hbFB1dGF3YXkoKSB7CiAgICAgIHZhciBxdHlTdW0gPSB0aGlzLmNhbGN1bGF0ZVB1dEF3YXlRdHkoKTsKICAgICAgcmV0dXJuIHF0eVN1bSA+IF8udG9JbnRlZ2VyKHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucXVhbnRpdHkpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzVmFsaWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWQoKSB7CiAgICAgIHJldHVybiAhdGhpcy5pc05lZ2F0aXZlUXVhbnRpdHkoKSAmJiAhdGhpcy5pc1F1YW50aXR5R3JlYXRlclRoYW5PcmlnaW5hbFB1dGF3YXkoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFN1bXMgdXAgcXVhbnRpdHkgYWRkZWQgYnkgdXNlciB0byBlYWNoIHNwbGl0IGxpbmUuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJjYWxjdWxhdGVQdXRBd2F5UXR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVQdXRBd2F5UXR5KCkgewogICAgICByZXR1cm4gXy5yZWR1Y2UodGhpcy5zdGF0ZS5zcGxpdEl0ZW1zLCBmdW5jdGlvbiAoc3VtLCB2YWwpIHsKICAgICAgICByZXR1cm4gc3VtICsgKCF2YWxbImRlbGV0ZSJdICYmIHZhbC5xdWFudGl0eSA/IF8udG9JbnRlZ2VyKHZhbC5xdWFudGl0eSkgOiAwKTsKICAgICAgfSwgMCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYmluIGxvY2F0aW9uIGhhcyBiZWVuIHNlbGVjdGVkLiBJdCBpcyBuZWVkZWQgZm9yIHZhbGlkYXRpb24gLSB0aGVyZSBpcyBubyB3YXkKICAgICAqIHRvIHNwbGl0IGxpbmVzIGlmIGJpbiBsb2NhdGlvbiBoYXNuJ3QgYmVlbiBjaG9zZW4gZm9yIGVhY2ggbGluZS4KICAgICAqIEBwdWJsaWMKICAgICAqLwogIH0sIHsKICAgIGtleTogImlzQmluU2VsZWN0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQmluU2VsZWN0ZWQoKSB7CiAgICAgIHJldHVybiBfLmV2ZXJ5KHRoaXMuc3RhdGUuc3BsaXRJdGVtcywgZnVuY3Rpb24gKHNwbGl0SXRlbSkgewogICAgICAgIHJldHVybiBfLmdldChzcGxpdEl0ZW0sICdwdXRhd2F5TG9jYXRpb24uaWQnKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgY2xhc3NOYW1lOiAiYnRuIGJ0bi1vdXRsaW5lLXN1Y2Nlc3MgYnRuLXhzIG1yLTEgbWItMSIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMub3Blbk1vZGFsKCk7CiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LnB1dEF3YXkuc3BsaXRMaW5lLmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNwbGl0IGxpbmUiCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWwsIHsKICAgICAgICBpc09wZW46IHRoaXMuc3RhdGUuc2hvd01vZGFsLAogICAgICAgIG9uUmVxdWVzdENsb3NlOiB0aGlzLmNsb3NlTW9kYWwsCiAgICAgICAgY2xhc3NOYW1lOiAibW9kYWwtY29udGVudC1jdXN0b20iLAogICAgICAgIHNob3VsZENsb3NlT25PdmVybGF5Q2xpY2s6IGZhbHNlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDMiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZm9udC13ZWlnaHQtYm9sZCIKICAgICAgfSwgIiIuY29uY2F0KHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucHJvZHVjdC5wcm9kdWN0Q29kZSwgIiAiKS5jb25jYXQodGhpcy5wcm9wcy5wdXRhd2F5SXRlbS5wcm9kdWN0Lm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJmb250LXdlaWdodC1ib2xkIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LnB1dEF3YXkuZXhwaXJ5LmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkV4cGlyeSIKICAgICAgfSksICI6ICIsIHRoaXMucHJvcHMucHV0YXdheUl0ZW0uaW52ZW50b3J5SXRlbS5leHBpcmF0aW9uRGF0ZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZm9udC13ZWlnaHQtYm9sZCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5wdXRBd2F5LnRvdGFsUXR5LmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlRvdGFsIFFUWSIKICAgICAgfSksICI6ICIsIHRoaXMucHJvcHMucHV0YXdheUl0ZW0ucXVhbnRpdHkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogImZvbnQtd2VpZ2h0LWJvbGQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5wdXRBd2F5UXR5LmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlB1dGF3YXkgUVRZIgogICAgICB9KSwgIjogIiwgdGhpcy5jYWxjdWxhdGVQdXRBd2F5UXR5KCkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImhyIiwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAidGV4dC1jZW50ZXIiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyIGJvcmRlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoZWFkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICAgIGNsYXNzTmFtZTogInB5LTEiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QucHV0QXdheS5wdXRBd2F5QmluLmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlB1dGF3YXkgQmluIgogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICBjbGFzc05hbWU6ICJweS0xIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LnB1dEF3YXkucXVhbnRpdHkubGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUXVhbnRpdHkiCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICAgIGNsYXNzTmFtZTogInB5LTEiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24uZGVsZXRlLmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkRlbGV0ZSIKICAgICAgfSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIF8ubWFwKHRoaXMuc3RhdGUuc3BsaXRJdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuICFpdGVtWyJkZWxldGUiXSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5CiAgICAgICAgICBrZXk6IGluZGV4CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicHktMSAiLmNvbmNhdCghXy5nZXQoaXRlbSwgJ3B1dGF3YXlMb2NhdGlvbi5pZCcpID8gJ2hhcy1lcnJvciBhbGlnbi1taWRkbGUnIDogJ2FsaWduLW1pZGRsZScpCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgICAgICBvcHRpb25zOiBfdGhpczMucHJvcHMuYmlucywKICAgICAgICAgIHZhbHVlS2V5OiAiaWQiLAogICAgICAgICAgbGFiZWxLZXk6ICJuYW1lIiwKICAgICAgICAgIHZhbHVlOiBpdGVtLnB1dGF3YXlMb2NhdGlvbiwKICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNldFN0YXRlKHsKICAgICAgICAgICAgICBzcGxpdEl0ZW1zOiB1cGRhdGUoX3RoaXMzLnN0YXRlLnNwbGl0SXRlbXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaW5kZXgsIHsKICAgICAgICAgICAgICAgIHB1dGF3YXlMb2NhdGlvbjogewogICAgICAgICAgICAgICAgICAkc2V0OiB2YWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBjbGFzc05hbWU6ICJzZWxlY3QteHMiCiAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJweS0xIGFsaWduLW1pZGRsZSIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7CiAgICAgICAgICBodG1sOiBfdGhpczMuZ2V0RXJyb3JNZXNzYWdlKCksCiAgICAgICAgICBkaXNhYmxlZDogIV90aGlzMy5pc1F1YW50aXR5R3JlYXRlclRoYW5PcmlnaW5hbFB1dGF3YXkoKSAmJiBpdGVtLnF1YW50aXR5ID4gMCwKICAgICAgICAgIHRoZW1lOiAidHJhbnNwYXJlbnQiLAogICAgICAgICAgYXJyb3c6ICJ0cnVlIiwKICAgICAgICAgIGRlbGF5OiAiMTUwIiwKICAgICAgICAgIGR1cmF0aW9uOiAiMjUwIiwKICAgICAgICAgIGhpZGVEZWxheTogIjUwIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBjbGFzc05hbWU6IF90aGlzMy5pc1F1YW50aXR5R3JlYXRlclRoYW5PcmlnaW5hbFB1dGF3YXkoKSB8fCBpdGVtLnF1YW50aXR5IDw9IDAgPyAnaGFzLWVycm9yJyA6ICcnCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIHsKICAgICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgICAgdmFsdWU6IGl0ZW0ucXVhbnRpdHksCiAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgc3BsaXRJdGVtczogdXBkYXRlKF90aGlzMy5zdGF0ZS5zcGxpdEl0ZW1zLCBfZGVmaW5lUHJvcGVydHkoe30sIGluZGV4LCB7CiAgICAgICAgICAgICAgICBxdWFudGl0eTogewogICAgICAgICAgICAgICAgICAkc2V0OiB2YWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgd2lkdGg6ICIxMjBweCIsCiAgICAgICAgICBjbGFzc05hbWU6ICJweS0xIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtZGFuZ2VyIGJ0bi14cyIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBpZiAoX3RoaXMzLnN0YXRlLnNwbGl0SXRlbXNbaW5kZXhdLmlkKSB7CiAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNwbGl0SXRlbXM6IHVwZGF0ZShfdGhpczMuc3RhdGUuc3BsaXRJdGVtcywgX2RlZmluZVByb3BlcnR5KHt9LCBpbmRleCwgewogICAgICAgICAgICAgICAgICAiZGVsZXRlIjogewogICAgICAgICAgICAgICAgICAgICRzZXQ6IHRydWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHNwbGl0SXRlbXM6IHVwZGF0ZShfdGhpczMuc3RhdGUuc3BsaXRJdGVtcywgewogICAgICAgICAgICAgICAgICAkc3BsaWNlOiBbW2luZGV4LCAxXV0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24uZGVsZXRlLmxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRGVsZXRlIgogICAgICAgIH0pKSkpOwogICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1zdWNjZXNzIGJ0bi14cyIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuc2V0U3RhdGUoewogICAgICAgICAgICBzcGxpdEl0ZW1zOiB1cGRhdGUoX3RoaXMzLnN0YXRlLnNwbGl0SXRlbXMsIHsKICAgICAgICAgICAgICAkcHVzaDogW3sKICAgICAgICAgICAgICAgIHF1YW50aXR5OiAnJywKICAgICAgICAgICAgICAgIHB1dGF3YXlGYWNpbGl0eTogewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMzLnByb3BzLnB1dGF3YXlJdGVtLnB1dGF3YXlGYWNpbGl0eSA/IF90aGlzMy5wcm9wcy5wdXRhd2F5SXRlbS5wdXRhd2F5RmFjaWxpdHkuaWQgOiBudWxsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcHV0YXdheUxvY2F0aW9uOiB7CiAgICAgICAgICAgICAgICAgIGlkOiBudWxsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcHJvZHVjdDogewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMzLnByb3BzLnB1dGF3YXlJdGVtLnByb2R1Y3QuaWQKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBpbnZlbnRvcnlJdGVtOiB7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczMucHJvcHMucHV0YXdheUl0ZW0uaW52ZW50b3J5SXRlbS5pZAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMzLnByb3BzLnB1dGF3YXlJdGVtLmN1cnJlbnRMb2NhdGlvbiA/IF90aGlzMy5wcm9wcy5wdXRhd2F5SXRlbS5jdXJyZW50TG9jYXRpb24uaWQgOiBudWxsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5hZGRMaW5lLmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZCBsaW5lIgogICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaHIiLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJidG4tZ3JvdXAgZmxvYXQtcmlnaHQiLAogICAgICAgIHJvbGU6ICJncm91cCIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyBidG4tc20iLAogICAgICAgIGRpc2FibGVkOiAhdGhpcy5pc1ZhbGlkKCkgfHwgIXRoaXMuaXNCaW5TZWxlY3RlZCgpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLm9uU2F2ZSgpOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5zYXZlLmxhYmVsIiwKICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNhdmUiCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbSIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuY2xvc2VNb2RhbCgpOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5jYW5jZWwubGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQ2FuY2VsIgogICAgICB9KSkpKSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBTcGxpdExpbmVNb2RhbDsKfShDb21wb25lbnQpOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlKGdldFRyYW5zbGF0ZShzdGF0ZS5sb2NhbGl6ZSkpCiAgfTsKfTsKZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKFNwbGl0TGluZU1vZGFsKTsKU3BsaXRMaW5lTW9kYWwucHJvcFR5cGVzID0gewogIC8qKiBGdW5jdGlvbiBzYXZpbmcgc3BsaXQgbGluZSdzIGl0ZW1zICovCiAgc2F2ZVNwbGl0SXRlbXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIFB1dC1hd2F5IGl0ZW1zJyBkYXRhICovCiAgcHV0YXdheUl0ZW06IFByb3BUeXBlcy5zaGFwZSh7CiAgICAvKiogUHJvZHVjdCdzIGRhdGEgKi8KICAgIHByb2R1Y3Q6IFByb3BUeXBlcy5zaGFwZSh7CiAgICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICBwcm9kdWN0Q29kZTogUHJvcFR5cGVzLnN0cmluZywKICAgICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZwogICAgfSksCiAgICAvKiogSW52ZW50b3J5J3MgZGF0YSAqLwogICAgaW52ZW50b3J5SXRlbTogUHJvcFR5cGVzLnNoYXBlKHsKICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsCiAgICAgIGV4cGlyYXRpb25EYXRlOiBQcm9wVHlwZXMuc3RyaW5nCiAgICB9KSwKICAgIC8qKiBJdGVtJ3MgcXVhbnRpdHkgdG8gcHV0IGF3YXkuIENhbiBiZSBlaXRoZXIgc3RyaW5nIG9yIG51bWJlci4gKi8KICAgIHF1YW50aXR5OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksCiAgICAvKiogRmFjaWxpdHkgb2YgcHV0LWF3YXkncyBpdGVtICovCiAgICBwdXRhd2F5RmFjaWxpdHk6IFByb3BUeXBlcy5zaGFwZSh7CiAgICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nCiAgICB9KSwKICAgIC8qKiBMb2NhdGlvbiBvZiBwdXQtYXdheSBpdGVtJ3MgYmluICovCiAgICBwdXRhd2F5TG9jYXRpb246IFByb3BUeXBlcy5zaGFwZSh7CiAgICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICB6b25lSWQ6IFByb3BUeXBlcy5zdHJpbmcsCiAgICAgIHpvbmVOYW1lOiBQcm9wVHlwZXMuc3RyaW5nCiAgICB9KSwKICAgIGN1cnJlbnRMb2NhdGlvbjogUHJvcFR5cGVzLnNoYXBlKHsKICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcKICAgIH0pCiAgfSksCiAgLyoqIEFuIGFycmF5IG9mIGl0ZW1zIHRvIHNwbGl0ICovCiAgc3BsaXRJdGVtczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSksCiAgLyoqIEFuIGFycmF5IG9mIGF2YWlsYWJsZSBiaW4gbG9jYXRpb25zICovCiAgYmluczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSksCiAgdHJhbnNsYXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkCn07ClNwbGl0TGluZU1vZGFsLmRlZmF1bHRQcm9wcyA9IHsKICBwdXRhd2F5SXRlbToge30sCiAgc3BsaXRJdGVtczogW10sCiAgYmluczogW10KfTs="},null]}