{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/returns/inbound/SendInboundReturn.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/returns/inbound/SendInboundReturn.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbIkBAaXRlcmF0b3IiXTsgaWYgKG51bGwgIT0gX2kpIHsgdmFyIF9zLCBfZSwgX3gsIF9yLCBfYXJyID0gW10sIF9uID0gITAsIF9kID0gITE7IHRyeSB7IGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkgeyBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjsgX24gPSAhMTsgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApIHsgOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9ICEwLCBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBudWxsICE9IF9pWyJyZXR1cm4iXSAmJiAoX3IgPSBfaVsicmV0dXJuIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSB9CmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfQpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9CmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICJzdHJpbmciKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gInN5bWJvbCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSAib2JqZWN0IiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAiZGVmYXVsdCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSAib2JqZWN0IikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKGhpbnQgPT09ICJzdHJpbmciID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH0KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGFycmF5TXV0YXRvcnMgZnJvbSAnZmluYWwtZm9ybS1hcnJheXMnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOwppbXBvcnQgeyBGb3JtIH0gZnJvbSAncmVhY3QtZmluYWwtZm9ybSc7CmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWxvY2FsaXplLXJlZHV4JzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IEFsZXJ0IGZyb20gJ3JlYWN0LXMtYWxlcnQnOwppbXBvcnQgeyBoaWRlU3Bpbm5lciwgc2hvd1NwaW5uZXIgfSBmcm9tICdhY3Rpb25zJzsKaW1wb3J0IEFycmF5RmllbGQgZnJvbSAnY29tcG9uZW50cy9mb3JtLWVsZW1lbnRzL0FycmF5RmllbGQnOwppbXBvcnQgRGF0ZUZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9EYXRlRmllbGQnOwppbXBvcnQgTGFiZWxGaWVsZCBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvTGFiZWxGaWVsZCc7CmltcG9ydCBTZWxlY3RGaWVsZCBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvU2VsZWN0RmllbGQnOwppbXBvcnQgVGV4dEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9UZXh0RmllbGQnOwppbXBvcnQgYXBpQ2xpZW50LCB7IGZsYXR0ZW5SZXF1ZXN0LCBwYXJzZVJlc3BvbnNlIH0gZnJvbSAndXRpbHMvYXBpQ2xpZW50JzsKaW1wb3J0IHsgcmVuZGVyRm9ybUZpZWxkIH0gZnJvbSAndXRpbHMvZm9ybS11dGlscyc7CmltcG9ydCB7IGZvcm1hdFByb2R1Y3REaXNwbGF5TmFtZSB9IGZyb20gJ3V0aWxzL2Zvcm0tdmFsdWVzLXV0aWxzJzsKaW1wb3J0IFRyYW5zbGF0ZSwgeyB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICd1dGlscy9UcmFuc2xhdGUnOwppbXBvcnQgc3BsaXRUcmFuc2xhdGlvbiBmcm9tICd1dGlscy90cmFuc2xhdGlvbi11dGlscyc7CmltcG9ydCAncmVhY3QtY29uZmlybS1hbGVydC9zcmMvcmVhY3QtY29uZmlybS1hbGVydC5jc3MnOwp2YXIgU0hJUE1FTlRfRklFTERTID0gewogICdvcmlnaW4ubmFtZSc6IHsKICAgIGxhYmVsOiAncmVhY3QuaW5ib3VuZFJldHVybnMub3JpZ2luLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnT3JpZ2luJywKICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUocGFyYW1zKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHBhcmFtcyk7CiAgICB9LAogICAgYXR0cmlidXRlczogewogICAgICBkaXNhYmxlZDogdHJ1ZQogICAgfQogIH0sCiAgJ2Rlc3RpbmF0aW9uLm5hbWUnOiB7CiAgICBsYWJlbDogJ3JlYWN0LmluYm91bmRSZXR1cm5zLmRlc3RpbmF0aW9uLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnT3JpZ2luJywKICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUocGFyYW1zKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIHBhcmFtcyk7CiAgICB9LAogICAgYXR0cmlidXRlczogewogICAgICBkaXNhYmxlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0ZVNoaXBwZWQ6IHsKICAgIHR5cGU6IERhdGVGaWVsZCwKICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5zaGlwRGF0ZS5sYWJlbCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ1NoaXBtZW50IGRhdGUnLAogICAgYXR0cmlidXRlczogewogICAgICBkYXRlRm9ybWF0OiAnTU0vREQvWVlZWScsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBhdXRvQ29tcGxldGU6ICdvZmYnLAogICAgICBzaG93RXJyb3I6IHRydWUKICAgIH0sCiAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZikgewogICAgICB2YXIgaXNzdWVkID0gX3JlZi5pc3N1ZWQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGlzYWJsZWQ6IGlzc3VlZAogICAgICB9OwogICAgfQogIH0sCiAgc2hpcG1lbnRUeXBlOiB7CiAgICB0eXBlOiBTZWxlY3RGaWVsZCwKICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5zaGlwbWVudFR5cGUubGFiZWwnLAogICAgZGVmYXVsdE1lc3NhZ2U6ICdTaGlwbWVudCB0eXBlJywKICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHNob3dWYWx1ZVRvb2x0aXA6IHRydWUsCiAgICAgIHZhbHVlS2V5OiAnaWQnLAogICAgICBsYWJlbEtleTogJ25hbWUnCiAgICB9LAogICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWYyKSB7CiAgICAgIHZhciBzaGlwbWVudFR5cGVzID0gX3JlZjIuc2hpcG1lbnRUeXBlcywKICAgICAgICBpc3N1ZWQgPSBfcmVmMi5pc3N1ZWQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgb3B0aW9uczogc2hpcG1lbnRUeXBlcywKICAgICAgICBkaXNhYmxlZDogaXNzdWVkCiAgICAgIH07CiAgICB9CiAgfSwKICB0cmFja2luZ051bWJlcjogewogICAgdHlwZTogVGV4dEZpZWxkLAogICAgbGFiZWw6ICdyZWFjdC5zdG9ja01vdmVtZW50LnRyYWNraW5nTnVtYmVyLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnVHJhY2tpbmcgbnVtYmVyJywKICAgIGdldER5bmFtaWNBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljQXR0cihfcmVmMykgewogICAgICB2YXIgaXNzdWVkID0gX3JlZjMuaXNzdWVkOwogICAgICByZXR1cm4gewogICAgICAgIGRpc2FibGVkOiBpc3N1ZWQKICAgICAgfTsKICAgIH0KICB9LAogIGRyaXZlck5hbWU6IHsKICAgIHR5cGU6IFRleHRGaWVsZCwKICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5kcml2ZXJOYW1lLmxhYmVsJywKICAgIGRlZmF1bHRNZXNzYWdlOiAnRHJpdmVyIG5hbWUnLAogICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWY0KSB7CiAgICAgIHZhciBpc3N1ZWQgPSBfcmVmNC5pc3N1ZWQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGlzYWJsZWQ6IGlzc3VlZAogICAgICB9OwogICAgfQogIH0sCiAgY29tbWVudHM6IHsKICAgIHR5cGU6IFRleHRGaWVsZCwKICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5jb21tZW50cy5sYWJlbCcsCiAgICBkZWZhdWx0TWVzc2FnZTogJ0NvbW1lbnRzJywKICAgIGdldER5bmFtaWNBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljQXR0cihfcmVmNSkgewogICAgICB2YXIgaXNzdWVkID0gX3JlZjUuaXNzdWVkOwogICAgICByZXR1cm4gewogICAgICAgIGRpc2FibGVkOiBpc3N1ZWQKICAgICAgfTsKICAgIH0KICB9LAogIGV4cGVjdGVkRGVsaXZlcnlEYXRlOiB7CiAgICB0eXBlOiBEYXRlRmllbGQsCiAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQuZXhwZWN0ZWREZWxpdmVyeURhdGUubGFiZWwnLAogICAgZGVmYXVsdE1lc3NhZ2U6ICdFeHBlY3RlZCByZWNlaXB0IGRhdGUnLAogICAgYXR0cmlidXRlczogewogICAgICBkYXRlRm9ybWF0OiAnTU0vREQvWVlZWScsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBhdXRvQ29tcGxldGU6ICdvZmYnCiAgICB9LAogICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWY2KSB7CiAgICAgIHZhciBpc3N1ZWQgPSBfcmVmNi5pc3N1ZWQ7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGlzYWJsZWQ6IGlzc3VlZAogICAgICB9OwogICAgfQogIH0KfTsKdmFyIEZJRUxEUyA9IHsKICBzdG9ja1RyYW5zZmVySXRlbXM6IHsKICAgIHR5cGU6IEFycmF5RmllbGQsCiAgICBnZXREeW5hbWljUm93QXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY1Jvd0F0dHIoX3JlZjcpIHsKICAgICAgdmFyIHJvd1ZhbHVlcyA9IF9yZWY3LnJvd1ZhbHVlcywKICAgICAgICB0cmFuc2xhdGUgPSBfcmVmNy50cmFuc2xhdGU7CiAgICAgIHZhciBjbGFzc05hbWUgPSAnJzsKICAgICAgdmFyIHRvb2x0aXAgPSAnJzsKICAgICAgaWYgKHJvd1ZhbHVlcy5yZWNhbGxlZCAmJiByb3dWYWx1ZXMub25Ib2xkKSB7CiAgICAgICAgY2xhc3NOYW1lID0gJ3JlY2FsbGVkLWFuZC1vbi1ob2xkJzsKICAgICAgICB0b29sdGlwID0gdHJhbnNsYXRlKCdyZWFjdC5pbmJvdW5kUmV0dXJucy5yZWNhbGxlZEFuZE9uSG9sZC5sYWJlbCcpOwogICAgICB9IGVsc2UgaWYgKHJvd1ZhbHVlcy5yZWNhbGxlZCkgewogICAgICAgIGNsYXNzTmFtZSA9ICdyZWNhbGxlZCc7CiAgICAgICAgdG9vbHRpcCA9IHRyYW5zbGF0ZSgncmVhY3QuaW5ib3VuZFJldHVybnMucmVjYWxsZWQubGFiZWwnKTsKICAgICAgfSBlbHNlIGlmIChyb3dWYWx1ZXMub25Ib2xkKSB7CiAgICAgICAgY2xhc3NOYW1lID0gJ29uLWhvbGQnOwogICAgICAgIHRvb2x0aXAgPSB0cmFuc2xhdGUoJ3JlYWN0LmluYm91bmRSZXR1cm5zLm9uSG9sZC5sYWJlbCcpOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsCiAgICAgICAgdG9vbHRpcDogdG9vbHRpcAogICAgICB9OwogICAgfSwKICAgIGZpZWxkczogewogICAgICAncHJvZHVjdC5wcm9kdWN0Q29kZSc6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5wcm9kdWN0Q29kZS5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDb2RlJywKICAgICAgICBmbGV4V2lkdGg6ICcxJwogICAgICB9LAogICAgICBwcm9kdWN0OiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQucHJvZHVjdC5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdQcm9kdWN0JywKICAgICAgICBmbGV4V2lkdGg6ICcyJywKICAgICAgICBoZWFkZXJBbGlnbjogJ2xlZnQnLAogICAgICAgIGdldER5bmFtaWNBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljQXR0cihfcmVmOCkgewogICAgICAgICAgdmFyIGZpZWxkVmFsdWUgPSBfcmVmOC5maWVsZFZhbHVlOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdG9vbHRpcFZhbHVlOiBmaWVsZFZhbHVlID09PSBudWxsIHx8IGZpZWxkVmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpZWxkVmFsdWUubmFtZQogICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgIGZvcm1hdFZhbHVlOiBmb3JtYXRQcm9kdWN0RGlzcGxheU5hbWUsCiAgICAgICAgICBjbGFzc05hbWU6ICd0ZXh0LWxlZnQgbWwtMScsCiAgICAgICAgICBzaG93VmFsdWVUb29sdGlwOiB0cnVlCiAgICAgICAgfQogICAgICB9LAogICAgICBsb3ROdW1iZXI6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QuaW5ib3VuZFJldHVybi5sb3QubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTG90JywKICAgICAgICBmbGV4V2lkdGg6ICcxJwogICAgICB9LAogICAgICBleHBpcmF0aW9uRGF0ZTogewogICAgICAgIHR5cGU6IExhYmVsRmllbGQsCiAgICAgICAgbGFiZWw6ICdyZWFjdC5pbmJvdW5kUmV0dXJuLmV4cGlyeS5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdFeHBpcnknLAogICAgICAgIGZsZXhXaWR0aDogJzEnCiAgICAgIH0sCiAgICAgIHF1YW50aXR5OiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LmluYm91bmRSZXR1cm4ucXVhbnRpdHkubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUXVhbnRpdHknLAogICAgICAgIGZsZXhXaWR0aDogJzEnCiAgICAgIH0sCiAgICAgICdyZWNpcGllbnQubmFtZSc6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QuaW5ib3VuZFJldHVybi5yZWNpcGllbnQubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUmVjaXBpZW50JywKICAgICAgICBmbGV4V2lkdGg6ICcxJwogICAgICB9CiAgICB9CiAgfQp9Owp2YXIgU2VuZE1vdmVtZW50UGFnZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhTZW5kTW92ZW1lbnRQYWdlLCBfQ29tcG9uZW50KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNlbmRNb3ZlbWVudFBhZ2UpOwogIGZ1bmN0aW9uIFNlbmRNb3ZlbWVudFBhZ2UocHJvcHMpIHsKICAgIHZhciBfdGhpczsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZW5kTW92ZW1lbnRQYWdlKTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGF0YUZldGNoZWQiLCBmYWxzZSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgc2hpcG1lbnRUeXBlczogW10sCiAgICAgIHZhbHVlczogewogICAgICAgIGluYm91bmRSZXR1cm46IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnByb3BzLmluaXRpYWxWYWx1ZXMpCiAgICAgIH0KICAgIH07CiAgICBfdGhpcy5mZXRjaEluYm91bmRSZXR1cm4gPSBfdGhpcy5mZXRjaEluYm91bmRSZXR1cm4uYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy52YWxpZGF0ZSA9IF90aGlzLnZhbGlkYXRlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMucm9sbGJhY2tSZXR1cm5PcmRlciA9IF90aGlzLnJvbGxiYWNrUmV0dXJuT3JkZXIuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIF9jcmVhdGVDbGFzcyhTZW5kTW92ZW1lbnRQYWdlLCBbewogICAga2V5OiAiY29tcG9uZW50RGlkTW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICBpZiAodGhpcy5wcm9wcy5pbmJvdW5kUmV0dXJuc1RyYW5zbGF0aW9uc0ZldGNoZWQpIHsKICAgICAgICB0aGlzLmRhdGFGZXRjaGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLmZldGNoSW5ib3VuZFJldHVybigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHsKICAgICAgaWYgKG5leHRQcm9wcy5pbmJvdW5kUmV0dXJuc1RyYW5zbGF0aW9uc0ZldGNoZWQgJiYgIXRoaXMuZGF0YUZldGNoZWQpIHsKICAgICAgICB0aGlzLmRhdGFGZXRjaGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLmZldGNoSW5ib3VuZFJldHVybigpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZmV0Y2hTaGlwbWVudFR5cGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaFNoaXBtZW50VHlwZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgdXJsID0gJy9vcGVuYm94ZXMvYXBpL2dlbmVyaWMvc2hpcG1lbnRUeXBlJzsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBzaGlwbWVudFR5cGVzID0gXy5tYXAocmVzcG9uc2UuZGF0YS5kYXRhLCBmdW5jdGlvbiAodHlwZSkgewogICAgICAgICAgdmFyIF8kc3BsaXQgPSBfLnNwbGl0KHR5cGUubmFtZSwgJ3xmcjonKSwKICAgICAgICAgICAgXyRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfJHNwbGl0LCAyKSwKICAgICAgICAgICAgZW4gPSBfJHNwbGl0MlswXSwKICAgICAgICAgICAgZnIgPSBfJHNwbGl0MlsxXTsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHR5cGUpLCB7fSwgewogICAgICAgICAgICBsYWJlbDogX3RoaXMyLnByb3BzLmxvY2FsZSA9PT0gJ2ZyJyAmJiBmciA/IGZyIDogZW4KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7CiAgICAgICAgICBzaGlwbWVudFR5cGVzOiBzaGlwbWVudFR5cGVzCiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICAgIH0pOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmZXRjaEluYm91bmRSZXR1cm4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoSW5ib3VuZFJldHVybigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgdmFyIHVybCA9ICIvb3BlbmJveGVzL2FwaS9zdG9ja1RyYW5zZmVycy8iLmNvbmNhdCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pbmJvdW5kUmV0dXJuSWQpOwogICAgICByZXR1cm4gYXBpQ2xpZW50LmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICB2YXIgaW5ib3VuZFJldHVybiA9IHBhcnNlUmVzcG9uc2UocmVzcC5kYXRhLmRhdGEpOwogICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7CiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgaW5ib3VuZFJldHVybjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpbmJvdW5kUmV0dXJuKSwge30sIHsKICAgICAgICAgICAgICBzaGlwbWVudFR5cGU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5ib3VuZFJldHVybi5zaGlwbWVudFR5cGUpLCB7fSwgewogICAgICAgICAgICAgICAgbGFiZWw6IHNwbGl0VHJhbnNsYXRpb24oaW5ib3VuZFJldHVybi5zaGlwbWVudFR5cGUubmFtZSwgX3RoaXMzLnByb3BzLmxvY2FsZSkKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuZmV0Y2hTaGlwbWVudFR5cGVzKCk7CiAgICAgICAgfSk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJvbGxiYWNrUmV0dXJuT3JkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvbGxiYWNrUmV0dXJuT3JkZXIodmFsdWVzKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tUcmFuc2ZlcnMvIi5jb25jYXQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaW5ib3VuZFJldHVybklkLCAiL3JvbGxiYWNrIik7CiAgICAgIHZhciBpc0Rlc3RpbmF0aW9uID0gdGhpcy5wcm9wcy5jdXJyZW50TG9jYXRpb25JZCA9PT0gdmFsdWVzLmRlc3RpbmF0aW9uLmlkOwogICAgICBpZiAoaXNEZXN0aW5hdGlvbikgewogICAgICAgIGFwaUNsaWVudC5wb3N0KHVybCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgQWxlcnQuZXJyb3IodGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQuYWxlcnQucm9sbGJhY2tTaGlwbWVudC5sYWJlbCcsICdZb3UgYXJlIG5vdCBhYmxlIHRvIHJvbGxiYWNrIHNoaXBtZW50IGZyb20geW91ciBsb2NhdGlvbi4nKSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZW5kSW5ib3VuZFJldHVybiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEluYm91bmRSZXR1cm4odmFsdWVzLCBpbnZhbGlkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBpZiAoIWludmFsaWQpIHsKICAgICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgICAgdmFyIHBheWxvYWQgPSBfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZXMpOwogICAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tUcmFuc2ZlcnMvIi5jb25jYXQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaW5ib3VuZFJldHVybklkLCAiL3NlbmRTaGlwbWVudCIpOwogICAgICAgIHRoaXMuc2F2ZVZhbHVlcyhwYXlsb2FkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGFwaUNsaWVudC5wb3N0KHVybCwgZmxhdHRlblJlcXVlc3QocGF5bG9hZCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAiL29wZW5ib3hlcy9zdG9ja01vdmVtZW50L3Nob3cvIi5jb25jYXQoX3RoaXM1LnByb3BzLm1hdGNoLnBhcmFtcy5pbmJvdW5kUmV0dXJuSWQpOwogICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczUucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZXMpIHsKICAgICAgdmFyIGVycm9ycyA9IHt9OwogICAgICB2YXIgZGF0ZSA9IG1vbWVudCh0aGlzLnByb3BzLm1pbmltdW1FeHBpcmF0aW9uRGF0ZSwgJ01NL0REL1lZWVknKTsKICAgICAgdmFyIGRhdGVTaGlwcGVkID0gbW9tZW50KHZhbHVlcy5kYXRlU2hpcHBlZCwgJ01NL0REL1lZWVknKTsKICAgICAgdmFyIGV4cGVjdGVkRGVsaXZlcnlEYXRlID0gbW9tZW50KHZhbHVlcy5leHBlY3RlZERlbGl2ZXJ5RGF0ZSwgJ01NL0REL1lZWVknKTsKICAgICAgaWYgKGRhdGUuZGlmZihkYXRlU2hpcHBlZCkgPiAwKSB7CiAgICAgICAgZXJyb3JzLmRhdGVTaGlwcGVkID0gJ3JlYWN0LnN0b2NrTW92ZW1lbnQuZXJyb3IuaW52YWxpZERhdGUubGFiZWwnOwogICAgICB9CiAgICAgIGlmICghdmFsdWVzLmRhdGVTaGlwcGVkKSB7CiAgICAgICAgZXJyb3JzLmRhdGVTaGlwcGVkID0gJ3JlYWN0LmRlZmF1bHQuZXJyb3IucmVxdWlyZWRGaWVsZC5sYWJlbCc7CiAgICAgIH0KICAgICAgaWYgKCF2YWx1ZXMuc2hpcG1lbnRUeXBlKSB7CiAgICAgICAgZXJyb3JzLnNoaXBtZW50VHlwZSA9ICdyZWFjdC5kZWZhdWx0LmVycm9yLnJlcXVpcmVkRmllbGQubGFiZWwnOwogICAgICB9CiAgICAgIGlmICghdmFsdWVzLmV4cGVjdGVkRGVsaXZlcnlEYXRlKSB7CiAgICAgICAgZXJyb3JzLmV4cGVjdGVkRGVsaXZlcnlEYXRlID0gJ3JlYWN0LmRlZmF1bHQuZXJyb3IucmVxdWlyZWRGaWVsZC5sYWJlbCc7CiAgICAgIH0KICAgICAgaWYgKG1vbWVudChkYXRlU2hpcHBlZCkuZGlmZihleHBlY3RlZERlbGl2ZXJ5RGF0ZSkgPiAwKSB7CiAgICAgICAgZXJyb3JzLmV4cGVjdGVkRGVsaXZlcnlEYXRlID0gJ3JlYWN0LnN0b2NrTW92ZW1lbnQuZXJyb3IuZGVsaXZlcnlEYXRlQmVmb3JlU2hpcERhdGUubGFiZWwnOwogICAgICAgIGVycm9ycy5kYXRlU2hpcHBlZCA9ICdyZWFjdC5zdG9ja01vdmVtZW50LmVycm9yLmRlbGl2ZXJ5RGF0ZUJlZm9yZVNoaXBEYXRlLmxhYmVsJzsKICAgICAgfQogICAgICByZXR1cm4gZXJyb3JzOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVBbmRFeGl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlQW5kRXhpdCh2YWx1ZXMpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKHZhbHVlcyk7CiAgICAgIGlmIChfLmlzRW1wdHkoZXJyb3JzKSkgewogICAgICAgIHRoaXMuc2F2ZVZhbHVlcyh2YWx1ZXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gIi9vcGVuYm94ZXMvc3RvY2tNb3ZlbWVudC9zaG93LyIuY29uY2F0KF90aGlzNi5wcm9wcy5tYXRjaC5wYXJhbXMuaW5ib3VuZFJldHVybklkKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25maXJtQWxlcnQoewogICAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50LmNvbmZpcm1FeGl0LmxhYmVsJywgJ0NvbmZpcm0gc2F2ZScpLAogICAgICAgICAgbWVzc2FnZTogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQuY29uZmlybUV4aXQubWVzc2FnZScsICdWYWxpZGF0aW9uIGVycm9ycyBvY2N1cnJlZC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGV4aXQgYW5kIGxvc2UgdW5zYXZlZCBkYXRhPycpLAogICAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lnllcy5sYWJlbCcsICdZZXMnKSwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAiL29wZW5ib3hlcy9zdG9ja01vdmVtZW50L3Nob3cvIi5jb25jYXQoX3RoaXM2LnByb3BzLm1hdGNoLnBhcmFtcy5pbmJvdW5kUmV0dXJuSWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QuZGVmYXVsdC5uby5sYWJlbCcsICdObycpCiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSh2YWx1ZXMpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHRoaXMuc2F2ZVZhbHVlcyh2YWx1ZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3AuZGF0YS5kYXRhOwogICAgICAgIHZhciBpbmJvdW5kUmV0dXJuID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJzZVJlc3BvbnNlKGRhdGEpKSwge30sIHsKICAgICAgICAgIHNoaXBtZW50VHlwZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYXRhLnNoaXBtZW50VHlwZSksIHt9LCB7CiAgICAgICAgICAgIGxhYmVsOiBzcGxpdFRyYW5zbGF0aW9uKGRhdGEuc2hpcG1lbnRUeXBlLm5hbWUsIF90aGlzNy5wcm9wcy5sb2NhbGUpCiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICAgIF90aGlzNy5zZXRTdGF0ZSh7CiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgaW5ib3VuZFJldHVybjogaW5ib3VuZFJldHVybgogICAgICAgICAgfQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczcucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICB9KTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczcucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZVZhbHVlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZVZhbHVlcyh2YWx1ZXMpIHsKICAgICAgdGhpcy5wcm9wcy5zaG93U3Bpbm5lcigpOwogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3N0b2NrVHJhbnNmZXJzLyIuY29uY2F0KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmluYm91bmRSZXR1cm5JZCk7CiAgICAgIHZhciBwYXlsb2FkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZXMpLCB7fSwgewogICAgICAgIHNoaXBtZW50VHlwZTogewogICAgICAgICAgaWQ6IHZhbHVlcy5zaGlwbWVudFR5cGUuaWQKICAgICAgICB9LAogICAgICAgIHRyYWNraW5nTnVtYmVyOiB2YWx1ZXMudHJhY2tpbmdOdW1iZXIgfHwgJycsCiAgICAgICAgZHJpdmVyTmFtZTogdmFsdWVzLmRyaXZlck5hbWUgfHwgJycsCiAgICAgICAgY29tbWVudHM6IHZhbHVlcy5jb21tZW50cyB8fCAnJywKICAgICAgICBkYXRlU2hpcHBlZDogdmFsdWVzLmRhdGVTaGlwcGVkIHx8ICcnLAogICAgICAgIGV4cGVjdGVkRGVsaXZlcnlEYXRlOiB2YWx1ZXMuZXhwZWN0ZWREZWxpdmVyeURhdGUgfHwgJycKICAgICAgfSk7CiAgICAgIHJldHVybiBhcGlDbGllbnQucHV0KHVybCwgZmxhdHRlblJlcXVlc3QocGF5bG9hZCkpOwogICAgfQogIH0sIHsKICAgIGtleTogInByZXZpb3VzUGFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJldmlvdXNQYWdlKHZhbHVlcywgaW52YWxpZCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgaWYgKCFpbnZhbGlkKSB7CiAgICAgICAgdGhpcy5zYXZlVmFsdWVzKHZhbHVlcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM4LnByb3BzLnByZXZpb3VzUGFnZSh2YWx1ZXMpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbmZpcm1BbGVydCh7CiAgICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQuY29uZmlybVByZXZpb3VzUGFnZS5sYWJlbCcsICdWYWxpZGF0aW9uIGVycm9yJyksCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3Quc3RvY2tNb3ZlbWVudC5jb25maXJtUHJldmlvdXNQYWdlLm1lc3NhZ2UubGFiZWwnLCAnQ2Fubm90IHNhdmUgZHVlIHRvIHZhbGlkYXRpb24gZXJyb3Igb24gcGFnZScpLAogICAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50LmNvbmZpcm1QcmV2aW91c1BhZ2UuY29ycmVjdEVycm9yLmxhYmVsJywgJ0NvcnJlY3QgZXJyb3InKQogICAgICAgICAgfSwgewogICAgICAgICAgICBsYWJlbDogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQuY29uZmlybVByZXZpb3VzUGFnZS5jb250aW51ZS5sYWJlbCcsICdDb250aW51ZSAobG9zZSB1bnNhdmVkIHdvcmspJyksCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5wcm9wcy5wcmV2aW91c1BhZ2UodmFsdWVzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdmFyIGluYm91bmRSZXR1cm4gPSB0aGlzLnN0YXRlLnZhbHVlcy5pbmJvdW5kUmV0dXJuOwogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybSwgewogICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHt9LAogICAgICAgIHZhbGlkYXRlOiB0aGlzLnZhbGlkYXRlLAogICAgICAgIG11dGF0b3JzOiBfb2JqZWN0U3ByZWFkKHt9LCBhcnJheU11dGF0b3JzKSwKICAgICAgICBpbml0aWFsVmFsdWVzOiBpbmJvdW5kUmV0dXJuLAogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKF9yZWY5KSB7CiAgICAgICAgICB2YXIgaGFuZGxlU3VibWl0ID0gX3JlZjkuaGFuZGxlU3VibWl0LAogICAgICAgICAgICB2YWx1ZXMgPSBfcmVmOS52YWx1ZXMsCiAgICAgICAgICAgIGludmFsaWQgPSBfcmVmOS5pbnZhbGlkOwogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJmb3JtIiwgewogICAgICAgICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0CiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJjbGFzc2ljLWZvcm0gY2xhc3NpYy1mb3JtLWNvbmRlbnNlZCIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJidXR0b25zLWNvbnRhaW5lciBjbGFzc2ljLWZvcm0tYnV0dG9ucyIKICAgICAgICAgIH0sICEodmFsdWVzICYmIHZhbHVlcy5zdGF0dXMgPT09ICdDT01QTEVURUQnKSA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5zYXZlKHZhbHVlcyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgZmxvYXQtcmlnaHQgYnRuLWZvcm0gYnRuLXhzIiwKICAgICAgICAgICAgZGlzYWJsZWQ6IGludmFsaWQKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImZhIGZhLXNhdmUgcHItMiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5zYXZlLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTYXZlIgogICAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5zYXZlQW5kRXhpdCh2YWx1ZXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgYnRuLXhzIgogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaSIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZmEgZmEtc2lnbi1vdXQgcHItMiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5zYXZlQW5kRXhpdC5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2ZSBhbmQgZXhpdCIKICAgICAgICAgIH0pKSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIGRpc2FibGVkOiBpbnZhbGlkLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICIvb3BlbmJveGVzL3N0b2NrTW92ZW1lbnQvc2hvdy8iLmNvbmNhdChfdGhpczkucHJvcHMubWF0Y2gucGFyYW1zLmluYm91bmRSZXR1cm5JZCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsYXNzTmFtZTogImZsb2F0LXJpZ2h0IG1iLTEgYnRuIGJ0bi1vdXRsaW5lLWRhbmdlciBhbGlnbi1zZWxmLWVuZCBidG4teHMgbXItMiIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImZhIGZhLXNpZ24tb3V0IHByLTIiCiAgICAgICAgICB9KSwgIiAiLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5leGl0LmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFeGl0IgogICAgICAgICAgfSksICIgIikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZm9ybS10aXRsZSIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LmF0dHJpYnV0ZS5vcHRpb25zLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZW5kaW5nIG9wdGlvbnMiCiAgICAgICAgICB9KSksIF8ubWFwKFNISVBNRU5UX0ZJRUxEUywgZnVuY3Rpb24gKGZpZWxkQ29uZmlnLCBmaWVsZE5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1GaWVsZChmaWVsZENvbmZpZywgZmllbGROYW1lLCB7CiAgICAgICAgICAgICAgc2hpcG1lbnRUeXBlczogX3RoaXM5LnN0YXRlLnNoaXBtZW50VHlwZXMsCiAgICAgICAgICAgICAgaXNzdWVkOiB2YWx1ZXMgJiYgdmFsdWVzLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4iCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgICAgICAgY2xhc3NOYW1lOiAiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLWZvcm0gYnRuLXhzIG14LTAiLAogICAgICAgICAgICBkaXNhYmxlZDogdmFsdWVzICYmIHZhbHVlcy5zdGF0dXMgPT09ICdDT01QTEVURUQnLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczkucHJldmlvdXNQYWdlKHZhbHVlcywgaW52YWxpZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLnByZXZpb3VzLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJQcmV2aW91cyIKICAgICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZC1mbGV4IgogICAgICAgICAgfSwgdmFsdWVzLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcgJiYgX3RoaXM5LnByb3BzLmlzVXNlckFkbWluICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczkucm9sbGJhY2tSZXR1cm5PcmRlcih2YWx1ZXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyBmbG9hdC1yaWdodCBidG4tZm9ybSBidG4teHMiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaSIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZmEgZmEtdW5kbyBwci0yIgogICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLnJvbGxiYWNrLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSb2xsYmFjayIKICAgICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5zZW5kSW5ib3VuZFJldHVybih2YWx1ZXMsIGludmFsaWQpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyBmbG9hdC1yaWdodCBidG4tZm9ybSBidG4teHMgbXgtMCIsCiAgICAgICAgICAgIGRpc2FibGVkOiB2YWx1ZXMgJiYgdmFsdWVzLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LnN0b2NrTW92ZW1lbnQuc2VuZFNoaXBtZW50LmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTZW5kIHNoaXBtZW50IgogICAgICAgICAgfSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogIm15LTIgdGFibGUtZm9ybSIKICAgICAgICAgIH0sIF8ubWFwKEZJRUxEUywgZnVuY3Rpb24gKGZpZWxkQ29uZmlnLCBmaWVsZE5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1GaWVsZChmaWVsZENvbmZpZywgZmllbGROYW1lLCB7CiAgICAgICAgICAgICAgdHJhbnNsYXRlOiBfdGhpczkucHJvcHMudHJhbnNsYXRlLAogICAgICAgICAgICAgIHZhbHVlczogdmFsdWVzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkpKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFNlbmRNb3ZlbWVudFBhZ2U7Cn0oQ29tcG9uZW50KTsKdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkgewogIHJldHVybiB7CiAgICB0cmFuc2xhdGU6IHRyYW5zbGF0ZVdpdGhEZWZhdWx0TWVzc2FnZShnZXRUcmFuc2xhdGUoc3RhdGUubG9jYWxpemUpKSwKICAgIGluYm91bmRSZXR1cm5zVHJhbnNsYXRpb25zRmV0Y2hlZDogc3RhdGUuc2Vzc2lvbi5mZXRjaGVkVHJhbnNsYXRpb25zLmluYm91bmRSZXR1cm5zLAogICAgbWluaW11bUV4cGlyYXRpb25EYXRlOiBzdGF0ZS5zZXNzaW9uLm1pbmltdW1FeHBpcmF0aW9uRGF0ZSwKICAgIGxvY2FsZTogc3RhdGUuc2Vzc2lvbi5hY3RpdmVMYW5ndWFnZSwKICAgIGlzVXNlckFkbWluOiBzdGF0ZS5zZXNzaW9uLmlzVXNlckFkbWluLAogICAgY3VycmVudExvY2F0aW9uSWQ6IHN0YXRlLnNlc3Npb24uY3VycmVudExvY2F0aW9uLmlkCiAgfTsKfTsKZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIHsKICBzaG93U3Bpbm5lcjogc2hvd1NwaW5uZXIsCiAgaGlkZVNwaW5uZXI6IGhpZGVTcGlubmVyCn0pKFNlbmRNb3ZlbWVudFBhZ2UpOwpTZW5kTW92ZW1lbnRQYWdlLnByb3BUeXBlcyA9IHsKICBpbml0aWFsVmFsdWVzOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWQsCiAgcHJldmlvdXNQYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIHNob3dTcGlubmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIGhpZGVTcGlubmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIHRyYW5zbGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBpbmJvdW5kUmV0dXJuc1RyYW5zbGF0aW9uc0ZldGNoZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsCiAgbWF0Y2g6IFByb3BUeXBlcy5zaGFwZSh7CiAgICBwYXJhbXM6IFByb3BUeXBlcy5zaGFwZSh7CiAgICAgIGluYm91bmRSZXR1cm5JZDogUHJvcFR5cGVzLnN0cmluZwogICAgfSkKICB9KS5pc1JlcXVpcmVkLAogIG1pbmltdW1FeHBpcmF0aW9uRGF0ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIGxvY2FsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIGlzVXNlckFkbWluOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLAogIGN1cnJlbnRMb2NhdGlvbklkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQKfTs="},null]}