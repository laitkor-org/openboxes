{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/dashboard/Filter.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/dashboard/Filter.jsx","mtime":1698037747000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gbnVsbCA9PSBhcnIgPyBudWxsIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbIkBAaXRlcmF0b3IiXTsgaWYgKG51bGwgIT0gX2kpIHsgdmFyIF9zLCBfZSwgX3gsIF9yLCBfYXJyID0gW10sIF9uID0gITAsIF9kID0gITE7IHRyeSB7IGlmIChfeCA9IChfaSA9IF9pLmNhbGwoYXJyKSkubmV4dCwgMCA9PT0gaSkgeyBpZiAoT2JqZWN0KF9pKSAhPT0gX2kpIHJldHVybjsgX24gPSAhMTsgfSBlbHNlIGZvciAoOyAhKF9uID0gKF9zID0gX3guY2FsbChfaSkpLmRvbmUpICYmIChfYXJyLnB1c2goX3MudmFsdWUpLCBfYXJyLmxlbmd0aCAhPT0gaSk7IF9uID0gITApIHsgOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9ICEwLCBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBudWxsICE9IF9pWyJyZXR1cm4iXSAmJiAoX3IgPSBfaVsicmV0dXJuIl0oKSwgT2JqZWN0KF9yKSAhPT0gX3IpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSB9CmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9CmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgInByb3RvdHlwZSIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICJzdHJpbmciKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gInN5bWJvbCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSAib2JqZWN0IiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAiZGVmYXVsdCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSAib2JqZWN0IikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKGhpbnQgPT09ICJzdHJpbmciID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH0KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsKaW1wb3J0IGFwaUNsaWVudCBmcm9tICd1dGlscy9hcGlDbGllbnQnOwp2YXIgRmlsdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEZpbHRlciwgX0NvbXBvbmVudCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihGaWx0ZXIpOwogIGZ1bmN0aW9uIEZpbHRlcihwcm9wcykgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7CiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdldENhdGVnb3J5Um93cyIsIGZ1bmN0aW9uIChlbmRwb2ludCkgewogICAgICBhcGlDbGllbnQuZ2V0KGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBuZXdMaXN0Q2F0ZWdvcnlEYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhIHx8IFtdOwoKICAgICAgICAvLyBSZW1vdmUgZnJvbSBsaXN0IG9mIGZpbHRlciBhdmFpbGFibGVzIGlmIGZpbHRlciBhbHJlYWR5IHNlbGVjdGVkCiAgICAgICAgbmV3TGlzdENhdGVnb3J5RGF0YSA9IG5ld0xpc3RDYXRlZ29yeURhdGEuZmlsdGVyKGZ1bmN0aW9uIChjYXRlZ29yeURhdGEpIHsKICAgICAgICAgIHJldHVybiAhX3RoaXMuc3RhdGUubGlzdEZpbHRlclNlbGVjdGVkLnNvbWUoZnVuY3Rpb24gKGZpbHRlclNlbGVjdGVkKSB7CiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTZWxlY3RlZC5pZCA9PT0gY2F0ZWdvcnlEYXRhLmlkOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgbGlzdENhdGVnb3J5RGF0YTogbmV3TGlzdENhdGVnb3J5RGF0YSwKICAgICAgICAgIGxpc3RDYXRlZ29yeURhdGFGaWx0ZXJlZDogbmV3TGlzdENhdGVnb3J5RGF0YQogICAgICAgIH0pOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGxpc3RDYXRlZ29yeURhdGE6IFtdLAogICAgICAgICAgbGlzdENhdGVnb3J5RGF0YUZpbHRlcmVkOiBbXQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2VhcmNoT25DaGFuZ2UiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIGZpbHRlcmVkTGlzdCA9IF90aGlzLnN0YXRlLmxpc3RDYXRlZ29yeURhdGEuZmlsdGVyKGZ1bmN0aW9uIChjYXRlZ29yeURhdGEpIHsKICAgICAgICByZXR1cm4gY2F0ZWdvcnlEYXRhLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhldmVudC50YXJnZXQudmFsdWUudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgbGlzdENhdGVnb3J5RGF0YUZpbHRlcmVkOiBmaWx0ZXJlZExpc3QsCiAgICAgICAgc2VhcmNoVGVybTogZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgIH0pOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ0b2dnbGVBZGRpbmdGaWx0ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIFBvcHVwIGFkZCBmaWx0ZXIgc2hvd3MgdXAgb3IgY2xvc2UKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGFkZGluZ0ZpbHRlcjogIV90aGlzLnN0YXRlLmFkZGluZ0ZpbHRlcgogICAgICB9KTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlQ2F0ZWdvcnlTZWxlY3RlZCIsIGZ1bmN0aW9uIChuYW1lQ2F0ZWdvcnksIGNhdGVnb3J5RGF0YSkgewogICAgICBpZiAoY2F0ZWdvcnlEYXRhKSBfdGhpcy5nZXRDYXRlZ29yeVJvd3MoY2F0ZWdvcnlEYXRhLmVuZHBvaW50KTsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHRpdGxlUG9wdXA6IG5hbWVDYXRlZ29yeSB8fCAnQWRkIEZpbHRlcicsCiAgICAgICAgY2F0ZWdvcnlTZWxlY3RlZDogbmFtZUNhdGVnb3J5IHx8ICcnLAogICAgICAgIC8vIFZhbHVlIGluIHRoZSBzZWFyY2hCYXIgcmVtb3ZlZAogICAgICAgIHNlYXJjaFRlcm06ICcnLAogICAgICAgIC8vIFBvcHVwIGZpbHRlclNlbGVjdGlvbiBzaG93IHVwIG9yIGNsb3NlCiAgICAgICAgZmlsdGVyQ2F0ZWdvcnlTZWxlY3RlZDogIV90aGlzLnN0YXRlLmZpbHRlckNhdGVnb3J5U2VsZWN0ZWQKICAgICAgfSk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImxvYWRTdG9yZWRGaWx0ZXJzIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICBwYWdlRmlsdGVycyA9IF90aGlzJHByb3BzLnBhZ2VGaWx0ZXJzLAogICAgICAgIGFjdGl2ZUNvbmZpZyA9IF90aGlzJHByb3BzLmFjdGl2ZUNvbmZpZzsKICAgICAgaWYgKHBhZ2VGaWx0ZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgbGlzdEZpbHRlclNlbGVjdGVkID0gW107CgogICAgICAgIC8vIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwYWdlIGNvbmZpZwogICAgICAgIHZhciBwYWdlQ29uZmlnID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYWdlQ29uZmlnJykpOwogICAgICAgIGlmICghcGFnZUNvbmZpZykgewogICAgICAgICAgcGFnZUNvbmZpZyA9IHt9OwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGFnZUNvbmZpZycsIEpTT04uc3RyaW5naWZ5KHBhZ2VDb25maWcpKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFwYWdlQ29uZmlnW2FjdGl2ZUNvbmZpZ10pIHsKICAgICAgICAgIHBhZ2VDb25maWdbYWN0aXZlQ29uZmlnXSA9IHt9OwogICAgICAgIH0KICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYWdlQ29uZmlnJywgSlNPTi5zdHJpbmdpZnkocGFnZUNvbmZpZykpOwogICAgICAgIHBhZ2VGaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgICB2YXIgbGlzdEZpbHRlclN0b3JlZCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFnZUNvbmZpZycpKVtfdGhpcy5wcm9wcy5hY3RpdmVDb25maWddW2NhdGVnb3J5Lm5hbWVdIHx8IFtdOwogICAgICAgICAgbGlzdEZpbHRlclN0b3JlZC5mb3JFYWNoKGZ1bmN0aW9uIChmaWx0ZXIpIHsKICAgICAgICAgICAgbGlzdEZpbHRlclNlbGVjdGVkLnB1c2goZmlsdGVyKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGxpc3RGaWx0ZXJTZWxlY3RlZDogbGlzdEZpbHRlclNlbGVjdGVkLAogICAgICAgICAgZmlsdGVyQXZhaWxhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgZmlsdGVyQXZhaWxhYmxlOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImFkZEZpbHRlclRvVGhlTGlzdCIsIGZ1bmN0aW9uIChuYW1lQ2F0ZWdvcnksIHZhbHVlQ2F0ZWdvcnkpIHsKICAgICAgdmFyIGFjdGl2ZUNvbmZpZyA9IF90aGlzLnByb3BzLmFjdGl2ZUNvbmZpZzsKICAgICAgLy8gTWFuYWdlbWVudCBvZiB0aGUgbGlzdCBvZiB0aGUgZmlsdGVyIGluIHRoZSBET00KICAgICAgX3RoaXMuc3RhdGUubGlzdEZpbHRlclNlbGVjdGVkLnB1c2goewogICAgICAgIGlkOiB2YWx1ZUNhdGVnb3J5LmlkLAogICAgICAgIG5hbWU6IHZhbHVlQ2F0ZWdvcnkubmFtZSwKICAgICAgICBuYW1lQ2F0ZWdvcnk6IG5hbWVDYXRlZ29yeQogICAgICB9KTsKCiAgICAgIC8vIE1hbmFnZW1lbnQgb2YgdGhlIGZpbHRlckxpc3QgaW4gdGhlIHNlc3Npb24gc3RvcmFnZQogICAgICBpZiAoIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhZ2VDb25maWcnKSkgewogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhZ2VDb25maWcnLCBKU09OLnN0cmluZ2lmeSh7fSkpOwogICAgICB9CiAgICAgIHZhciBsaXN0RmlsdGVyVG9TZW5kID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYWdlQ29uZmlnJykpOwogICAgICBpZiAoIWxpc3RGaWx0ZXJUb1NlbmRbYWN0aXZlQ29uZmlnXVtuYW1lQ2F0ZWdvcnldKSB7CiAgICAgICAgbGlzdEZpbHRlclRvU2VuZFthY3RpdmVDb25maWddW25hbWVDYXRlZ29yeV0gPSBbXTsKICAgICAgfQogICAgICBsaXN0RmlsdGVyVG9TZW5kW2FjdGl2ZUNvbmZpZ11bbmFtZUNhdGVnb3J5XS5wdXNoKHsKICAgICAgICBpZDogdmFsdWVDYXRlZ29yeS5pZCwKICAgICAgICBuYW1lOiB2YWx1ZUNhdGVnb3J5Lm5hbWUsCiAgICAgICAgbmFtZUNhdGVnb3J5OiBuYW1lQ2F0ZWdvcnkKICAgICAgfSk7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhZ2VDb25maWcnLCBKU09OLnN0cmluZ2lmeShsaXN0RmlsdGVyVG9TZW5kKSk7CiAgICAgIF90aGlzLnRvZ2dsZUFkZGluZ0ZpbHRlcigpOwogICAgICBfdGhpcy50b2dnbGVDYXRlZ29yeVNlbGVjdGVkKCk7CgogICAgICAvLyBSZWZyZXNoIGRhdGEKICAgICAgX3RoaXMucHJvcHMuZmV0Y2hEYXRhKGFjdGl2ZUNvbmZpZyk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlbW92ZUZpbHRlckZyb21MaXN0IiwgZnVuY3Rpb24gKGtleSkgewogICAgICB2YXIgYWN0aXZlQ29uZmlnID0gX3RoaXMucHJvcHMuYWN0aXZlQ29uZmlnOwogICAgICB2YXIgYWN0dWFsTGlzdCA9IF90aGlzLnN0YXRlLmxpc3RGaWx0ZXJTZWxlY3RlZDsKICAgICAgdmFyIGVsZW1lbnRUb0RlbGV0ZSA9IGFjdHVhbExpc3Rba2V5XTsKCiAgICAgIC8vIE1hbmFnZW1lbnQgb2YgdGhlIGZpbHRlckxpc3QgaW4gdGhlIHNlc3Npb24gc3RvcmFnZQogICAgICB2YXIgbmV3RmlsdGVyTGlzdCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFnZUNvbmZpZycpKTsKICAgICAgbmV3RmlsdGVyTGlzdFthY3RpdmVDb25maWddW2VsZW1lbnRUb0RlbGV0ZS5uYW1lQ2F0ZWdvcnldID0gbmV3RmlsdGVyTGlzdFthY3RpdmVDb25maWddW2VsZW1lbnRUb0RlbGV0ZS5uYW1lQ2F0ZWdvcnldLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBlbGVtZW50VG9EZWxldGUuaWQ7CiAgICAgIH0pOwogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYWdlQ29uZmlnJywgSlNPTi5zdHJpbmdpZnkobmV3RmlsdGVyTGlzdCkpOwoKICAgICAgLy8gTWFuYWdlbWVudCBvZiB0aGUgbGlzdCBvZiB0aGUgZmlsdGVyIGluIHRoZSBET00KICAgICAgdmFyIG5ld0xpc3QgPSBhY3R1YWxMaXN0LnNsaWNlKDAsIGtleSkuY29uY2F0KGFjdHVhbExpc3Quc2xpY2Uoa2V5ICsgMSwgYWN0dWFsTGlzdC5sZW5ndGgpKTsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGxpc3RGaWx0ZXJTZWxlY3RlZDogbmV3TGlzdAogICAgICB9KTsKCiAgICAgIC8vIFJlbW92aW5nIGN1cnJlbnQgY2F0ZWdvcnkgaWYgbm8gZmlsdGVyIHNlbGVjdGVkCiAgICAgIHZhciBwYWdlQ29uZmlnID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYWdlQ29uZmlnJykpOwogICAgICBpZiAocGFnZUNvbmZpZ1thY3RpdmVDb25maWddW2VsZW1lbnRUb0RlbGV0ZS5uYW1lQ2F0ZWdvcnldLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGRlbGV0ZSBwYWdlQ29uZmlnW2FjdGl2ZUNvbmZpZ11bZWxlbWVudFRvRGVsZXRlLm5hbWVDYXRlZ29yeV07CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGFnZUNvbmZpZycsIEpTT04uc3RyaW5naWZ5KHBhZ2VDb25maWcpKTsKICAgICAgfQoKICAgICAgLy8gUmVmcmVzaCBkYXRhCiAgICAgIF90aGlzLnByb3BzLmZldGNoRGF0YShhY3RpdmVDb25maWcpOwogICAgfSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgYWRkaW5nRmlsdGVyOiBmYWxzZSwKICAgICAgZmlsdGVyQ2F0ZWdvcnlTZWxlY3RlZDogZmFsc2UsCiAgICAgIGZpbHRlckF2YWlsYWJsZTogZmFsc2UsCiAgICAgIGxpc3RGaWx0ZXJTZWxlY3RlZDogW10sCiAgICAgIGxpc3RDYXRlZ29yeURhdGE6IFtdLAogICAgICBsaXN0Q2F0ZWdvcnlEYXRhRmlsdGVyZWQ6IFtdLAogICAgICB0aXRsZVBvcHVwOiAnQWRkIGZpbHRlcicsCiAgICAgIHNlYXJjaFRlcm06ICcnLAogICAgICBjYXRlZ29yeVNlbGVjdGVkOiAnJwogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKEZpbHRlciwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdGhpcy5sb2FkU3RvcmVkRmlsdGVycygpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykgewogICAgICBpZiAocHJldlByb3BzLnBhZ2VGaWx0ZXJzICE9PSB0aGlzLnByb3BzLnBhZ2VGaWx0ZXJzIHx8IHByZXZQcm9wcy5hY3RpdmVDb25maWcgIT09IHRoaXMucHJvcHMuYWN0aXZlQ29uZmlnKSB7CiAgICAgICAgdGhpcy5sb2FkU3RvcmVkRmlsdGVycygpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJBdmFpbGFibGUgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogImNhdGVnb3J5LWZpbHRlciIKICAgICAgfSwgdGhpcy5zdGF0ZS5saXN0RmlsdGVyU2VsZWN0ZWQubWFwKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBrZXk6ICIiLmNvbmNhdCh2YWx1ZS5pZCwgIiAtICIpLmNvbmNhdCh2YWx1ZS5uYW1lKSwKICAgICAgICAgIGNsYXNzTmFtZTogImNhdGVnb3J5LWl0ZW0iCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNhdGVnb3J5LXRpdGxlIgogICAgICAgIH0sICIgIiwgdmFsdWUubmFtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJkZWxldGUtYnV0dG9uIiwKICAgICAgICAgIHJvbGU6ICJidXR0b24iLAogICAgICAgICAgdGFiSW5kZXg6IDAsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbW92ZUZpbHRlckZyb21MaXN0KGtleSk7CiAgICAgICAgICB9LAogICAgICAgICAgb25LZXlQcmVzczogZnVuY3Rpb24gb25LZXlQcmVzcygpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5yZW1vdmVGaWx0ZXJGcm9tTGlzdChrZXkpOwogICAgICAgICAgfQogICAgICAgIH0sICIgeCIpKTsKICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiY2F0ZWdvcnktaXRlbSBhZGQtY2F0ZWdvcnktYnRuIiwKICAgICAgICByb2xlOiAiYnV0dG9uIiwKICAgICAgICB0YWJJbmRleDogMCwKICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZUFkZGluZ0ZpbHRlciwKICAgICAgICBvbktleVByZXNzOiB0aGlzLnRvZ2dsZUFkZGluZ0ZpbHRlciwKICAgICAgICBoaWRkZW46IHRoaXMuc3RhdGUuYWRkaW5nRmlsdGVyCiAgICAgIH0sICIrIEFkZCBmaWx0ZXIiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJhZGQtY2F0ZWdvcnktcG9wdXAiLAogICAgICAgIGhpZGRlbjogIXRoaXMuc3RhdGUuYWRkaW5nRmlsdGVyCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICByb2xlOiAiYnV0dG9uIiwKICAgICAgICB0YWJJbmRleDogMCwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVDYXRlZ29yeVNlbGVjdGVkKCk7CiAgICAgICAgfSwKICAgICAgICBvbktleVByZXNzOiBmdW5jdGlvbiBvbktleVByZXNzKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVDYXRlZ29yeVNlbGVjdGVkKCk7CiAgICAgICAgfSwKICAgICAgICBoaWRkZW46ICF0aGlzLnN0YXRlLmZpbHRlckNhdGVnb3J5U2VsZWN0ZWQKICAgICAgfSwgIiAiLCAnPCcpLCAiICIsIHRoaXMuc3RhdGUudGl0bGVQb3B1cCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgcm9sZTogImJ1dHRvbiIsCiAgICAgICAgdGFiSW5kZXg6IDAsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIF90aGlzMi50b2dnbGVBZGRpbmdGaWx0ZXIoKTsKICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7CiAgICAgICAgICAgIGZpbHRlckNhdGVnb3J5U2VsZWN0ZWQ6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uS2V5UHJlc3M6IGZ1bmN0aW9uIG9uS2V5UHJlc3MoKSB7CiAgICAgICAgICBfdGhpczIudG9nZ2xlQWRkaW5nRmlsdGVyKCk7CiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgICBmaWx0ZXJDYXRlZ29yeVNlbGVjdGVkOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAiIFgiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsKICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJzZWFyY2guLi4iLAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLnNlYXJjaE9uQ2hhbmdlLAogICAgICAgIGhpZGRlbjogIXRoaXMuc3RhdGUuZmlsdGVyQ2F0ZWdvcnlTZWxlY3RlZCwKICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5zZWFyY2hUZXJtCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidWwiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZmlsdGVyLW1lbnUgIi5jb25jYXQodGhpcy5zdGF0ZS5maWx0ZXJDYXRlZ29yeVNlbGVjdGVkID8gJ3Njcm9sbGFibGUnIDogJycpCiAgICAgIH0sCiAgICAgIC8vIElmIGZpbHRlciBub3Qgc2VsZWN0ZWQKICAgICAgIXRoaXMuc3RhdGUuZmlsdGVyQ2F0ZWdvcnlTZWxlY3RlZCA/IE9iamVjdC5lbnRyaWVzKHRoaXMucHJvcHMuY29uZmlncykubWFwKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAgICBrZXkgPSBfcmVmMlswXSwKICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIC8vIFdlIHNlbGVjdCB0aGUgZmlsdGVycyBhdmFpbGFibGVzIGZvciB0aGlzIHBhZ2UKICAgICAgICAgIGtleSA9PT0gX3RoaXMyLnByb3BzLmFjdGl2ZUNvbmZpZyA/IE9iamVjdC5lbnRyaWVzKHZhbHVlLmZpbHRlcnMpLm1hcChmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLAogICAgICAgICAgICAgIG5hbWVDYXRlZ29yeSA9IF9yZWY0WzBdLAogICAgICAgICAgICAgIGNhdGVnb3J5RGF0YSA9IF9yZWY0WzFdOwogICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgewogICAgICAgICAgICAgIGtleTogY2F0ZWdvcnlEYXRhLmVuZHBvaW50CiAgICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgICAgcm9sZTogImJ1dHRvbiIsCiAgICAgICAgICAgICAgdGFiSW5kZXg6IDAsCiAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlQ2F0ZWdvcnlTZWxlY3RlZChuYW1lQ2F0ZWdvcnksIGNhdGVnb3J5RGF0YSk7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbktleVByZXNzOiBmdW5jdGlvbiBvbktleVByZXNzKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVDYXRlZ29yeVNlbGVjdGVkKG5hbWVDYXRlZ29yeSwgY2F0ZWdvcnlEYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIG5hbWVDYXRlZ29yeSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiICIsICc+JykpKTsKICAgICAgICAgIH0pIDogbnVsbAogICAgICAgICk7CiAgICAgIH0pIDoKICAgICAgLy8gT25jZSB0aGUgZmlsdGVyIGlzIHNlbGVjdGVkCiAgICAgIHRoaXMucHJvcHMucGFnZUZpbHRlcnMubWFwKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAvLyBGaW5kIGluIGFsbCBmaWx0ZXJzIGF2YWlsYWJsZSB0aGUgb25lIHNlbGVjdGVkCiAgICAgICAgICBjYXRlZ29yeS5uYW1lID09PSBfdGhpczIuc3RhdGUuY2F0ZWdvcnlTZWxlY3RlZCA/CiAgICAgICAgICAvLyBjYXRlZ29yeVsxXVswXSAtLT4gbmFtZSBvZiB0aGUgY2F0ZWdvcnkKICAgICAgICAgIE9iamVjdC5lbnRyaWVzKF90aGlzMi5zdGF0ZS5saXN0Q2F0ZWdvcnlEYXRhRmlsdGVyZWQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTsKICAgICAgICAgIH0pKS5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5RGF0YSkgewogICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgewogICAgICAgICAgICAgIGtleTogY2F0ZWdvcnlEYXRhWzFdLmlkCiAgICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgICAgICAgIGNsYXNzTmFtZTogImNhdGVnb3J5LXZhbHVlLXRvLXNlbGVjdCIsCiAgICAgICAgICAgICAgcm9sZTogImJ1dHRvbiIsCiAgICAgICAgICAgICAgdGFiSW5kZXg6IDAsCiAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYWRkRmlsdGVyVG9UaGVMaXN0KF90aGlzMi5zdGF0ZS5jYXRlZ29yeVNlbGVjdGVkLCBjYXRlZ29yeURhdGFbMV0pOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb25LZXlQcmVzczogZnVuY3Rpb24gb25LZXlQcmVzcygpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYWRkRmlsdGVyVG9UaGVMaXN0KF90aGlzMi5zdGF0ZS5jYXRlZ29yeVNlbGVjdGVkLCBjYXRlZ29yeURhdGFbMV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgY2F0ZWdvcnlEYXRhWzFdLm5hbWUpKTsKICAgICAgICAgIH0pIDogbnVsbAogICAgICAgICk7CiAgICAgIH0pKSkpIDogbnVsbDsKICAgIH0KICB9XSk7CiAgcmV0dXJuIEZpbHRlcjsKfShDb21wb25lbnQpOwpleHBvcnQgZGVmYXVsdCBGaWx0ZXI7CkZpbHRlci5wcm9wVHlwZXMgPSB7CiAgY29uZmlnczogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLAogIGFjdGl2ZUNvbmZpZzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIGZldGNoRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBwYWdlRmlsdGVyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHsKICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICAgIGVuZHBvaW50OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQKICB9KS5pc1JlcXVpcmVkKS5pc1JlcXVpcmVkCn07"},null]}