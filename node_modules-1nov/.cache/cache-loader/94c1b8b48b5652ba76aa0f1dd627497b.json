{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/receiving/modals/EditLineModal.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/receiving/modals/EditLineModal.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfQpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9CmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQpmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHsgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICJzdHJpbmciKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gInN5bWJvbCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfQpmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSAib2JqZWN0IiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAiZGVmYXVsdCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSAib2JqZWN0IikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsgfSByZXR1cm4gKGhpbnQgPT09ICJzdHJpbmciID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH0KZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnOwppbXBvcnQgeyBjb25maXJtQWxlcnQgfSBmcm9tICdyZWFjdC1jb25maXJtLWFsZXJ0JzsKaW1wb3J0IHsgZ2V0VHJhbnNsYXRlIH0gZnJvbSAncmVhY3QtbG9jYWxpemUtcmVkdXgnOwppbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBoaWRlU3Bpbm5lciwgc2hvd1NwaW5uZXIgfSBmcm9tICdhY3Rpb25zJzsKaW1wb3J0IEFycmF5RmllbGQgZnJvbSAnY29tcG9uZW50cy9mb3JtLWVsZW1lbnRzL0FycmF5RmllbGQnOwppbXBvcnQgRGF0ZUZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9EYXRlRmllbGQnOwppbXBvcnQgTW9kYWxXcmFwcGVyIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9Nb2RhbFdyYXBwZXInOwppbXBvcnQgUHJvZHVjdFNlbGVjdEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9Qcm9kdWN0U2VsZWN0RmllbGQnOwppbXBvcnQgVGV4dEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9UZXh0RmllbGQnOwppbXBvcnQgVHJhbnNsYXRlLCB7IHRyYW5zbGF0ZVdpdGhEZWZhdWx0TWVzc2FnZSB9IGZyb20gJ3V0aWxzL1RyYW5zbGF0ZSc7CnZhciBGSUVMRFMgPSB7CiAgbGluZXM6IHsKICAgIHR5cGU6IEFycmF5RmllbGQsCiAgICBhZGRCdXR0b246IGZ1bmN0aW9uIGFkZEJ1dHRvbihfcmVmKSB7CiAgICAgIHZhciBhZGRSb3cgPSBfcmVmLmFkZFJvdywKICAgICAgICBzaGlwbWVudEl0ZW1JZCA9IF9yZWYuc2hpcG1lbnRJdGVtSWQsCiAgICAgICAgYmluTG9jYXRpb24gPSBfcmVmLmJpbkxvY2F0aW9uLAogICAgICAgIHByb2R1Y3QgPSBfcmVmLnByb2R1Y3Q7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1zdWNjZXNzIGJ0bi14cyIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBhZGRSb3coewogICAgICAgICAgICBzaGlwbWVudEl0ZW1JZDogc2hpcG1lbnRJdGVtSWQsCiAgICAgICAgICAgIGJpbkxvY2F0aW9uOiBiaW5Mb2NhdGlvbiwKICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCwKICAgICAgICAgICAgcmVjZWlwdEl0ZW1JZDogbnVsbCwKICAgICAgICAgICAgbmV3TGluZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLmFkZExpbmUubGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiQWRkIGxpbmUiCiAgICAgIH0pKTsKICAgIH0sCiAgICBmaWVsZHM6IHsKICAgICAgcHJvZHVjdDogewogICAgICAgIHR5cGU6IFByb2R1Y3RTZWxlY3RGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnBhcnRpYWxSZWNlaXZpbmcucHJvZHVjdC5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdQcm9kdWN0JywKICAgICAgICBmaWVsZEtleTogJ2Rpc2FibGVkJywKICAgICAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZjIpIHsKICAgICAgICAgIHZhciBmaWVsZFZhbHVlID0gX3JlZjIuZmllbGRWYWx1ZTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRpc2FibGVkOiBmaWVsZFZhbHVlCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgbG90TnVtYmVyOiB7CiAgICAgICAgdHlwZTogVGV4dEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QucGFydGlhbFJlY2VpdmluZy5sb3QubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnTG90JwogICAgICB9LAogICAgICBleHBpcmF0aW9uRGF0ZTogewogICAgICAgIHR5cGU6IERhdGVGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnBhcnRpYWxSZWNlaXZpbmcuZXhwaXJ5LmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0V4cGlyeScsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgZGF0ZUZvcm1hdDogJ01NL0REL1lZWVknLAogICAgICAgICAgYXV0b0NvbXBsZXRlOiAnb2ZmJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcXVhbnRpdHlTaGlwcGVkOiB7CiAgICAgICAgdHlwZTogVGV4dEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QucGFydGlhbFJlY2VpdmluZy5xdWFudGl0eVNoaXBwZWQubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUXVhbnRpdHkgc2hpcHBlZCcsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgdHlwZTogJ251bWJlcicKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07CgovKioKICogTW9kYWwgd2luZG93IHdoZXJlIHVzZXIgY2FuIGVkaXQgcmVjZWl2aW5nJ3MgbGluZS4gVXNlciBjYW4gb3BlbiBpdCBvbiB0aGUgZmlyc3QgcGFnZQogKiBvZiBwYXJ0aWFsIHJlY2VpdmluZyBpZiB0aGV5IHdhbnQgdG8gY2hhbmdlIGxvdCBpbmZvcm1hdGlvbi4KKi8KdmFyIEVkaXRMaW5lTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoRWRpdExpbmVNb2RhbCwgX0NvbXBvbmVudCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFZGl0TGluZU1vZGFsKTsKICBmdW5jdGlvbiBFZGl0TGluZU1vZGFsKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdExpbmVNb2RhbCk7CiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKICAgIHZhciBfcHJvcHMkZmllbGRDb25maWcgPSBwcm9wcy5maWVsZENvbmZpZywKICAgICAgYXR0cmlidXRlcyA9IF9wcm9wcyRmaWVsZENvbmZpZy5hdHRyaWJ1dGVzLAogICAgICBnZXREeW5hbWljQXR0ciA9IF9wcm9wcyRmaWVsZENvbmZpZy5nZXREeW5hbWljQXR0cjsKICAgIHZhciBkeW5hbWljQXR0ciA9IGdldER5bmFtaWNBdHRyID8gZ2V0RHluYW1pY0F0dHIocHJvcHMpIDoge307CiAgICB2YXIgYXR0ciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYXR0cmlidXRlcyksIGR5bmFtaWNBdHRyKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBhdHRyOiBhdHRyLAogICAgICBmb3JtVmFsdWVzOiBbXQogICAgfTsKICAgIF90aGlzLm9uT3BlbiA9IF90aGlzLm9uT3Blbi5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLm9uU2F2ZSA9IF90aGlzLm9uU2F2ZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLnNhdmUgPSBfdGhpcy5zYXZlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMudmFsaWRhdGUgPSBfdGhpcy52YWxpZGF0ZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgX2NyZWF0ZUNsYXNzKEVkaXRMaW5lTW9kYWwsIFt7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykgewogICAgICB2YXIgX25leHRQcm9wcyRmaWVsZENvbmZpID0gbmV4dFByb3BzLmZpZWxkQ29uZmlnLAogICAgICAgIGF0dHJpYnV0ZXMgPSBfbmV4dFByb3BzJGZpZWxkQ29uZmkuYXR0cmlidXRlcywKICAgICAgICBnZXREeW5hbWljQXR0ciA9IF9uZXh0UHJvcHMkZmllbGRDb25maS5nZXREeW5hbWljQXR0cjsKICAgICAgdmFyIGR5bmFtaWNBdHRyID0gZ2V0RHluYW1pY0F0dHIgPyBnZXREeW5hbWljQXR0cihuZXh0UHJvcHMpIDoge307CiAgICAgIHZhciBhdHRyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhdHRyaWJ1dGVzKSwgZHluYW1pY0F0dHIpOwogICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICBhdHRyOiBhdHRyCiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogTG9hZHMgYXZhaWxhYmxlIGl0ZW1zIGludG8gbW9kYWwncyBmb3JtLgogICAgICogQHB1YmxpYwogICAgKi8KICB9LCB7CiAgICBrZXk6ICJvbk9wZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3BlbigpIHsKICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgZm9ybVZhbHVlczogewogICAgICAgICAgbGluZXM6IF8ubWFwKFt0aGlzLnN0YXRlLmF0dHIuZmllbGRWYWx1ZV0sIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB2YWx1ZSksIHt9LCB7CiAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgb3JpZ2luYWxMaW5lOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogU2VuZHMgYWxsIGNoYW5nZXMgbWFkZSBieSB1c2VyIGluIHRoaXMgbW9kYWwgdG8gQVBJIGFuZCB1cGRhdGVzIGRhdGEuCiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJvblNhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2F2ZSh2YWx1ZXMpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmIChfLnNvbWUodmFsdWVzLmxpbmVzLCBmdW5jdGlvbiAobGluZSkgewogICAgICAgIHZhciBvbGRJdGVtID0gXy5maW5kKF90aGlzMi5zdGF0ZS5mb3JtVmFsdWVzLmxpbmVzLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGxpbmUucHJvZHVjdCAmJiBsaW5lLnByb2R1Y3QuaWQgPT09IGl0ZW0ucHJvZHVjdC5pZCAmJiBsaW5lLmxvdE51bWJlciA9PT0gaXRlbS5sb3ROdW1iZXI7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG9sZEl0ZW0gJiYgb2xkSXRlbS5xdWFudGl0eU9uSGFuZCAmJiBvbGRJdGVtLmV4cGlyYXRpb25EYXRlICE9PSBsaW5lLmV4cGlyYXRpb25EYXRlOwogICAgICB9KSkgewogICAgICAgIHRoaXMuY29uZmlybUludmVudG9yeUl0ZW1FeHBpcmF0aW9uRGF0ZVVwZGF0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLnNhdmUodmFsdWVzKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNhdmUodmFsdWVzKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUodmFsdWVzKSB7CiAgICAgIHRoaXMuc3RhdGUuYXR0ci5zYXZlRWRpdExpbmUodmFsdWVzLmxpbmVzLCB0aGlzLnN0YXRlLmF0dHIucGFyZW50SW5kZXgpOwogICAgfQoKICAgIC8qKgogICAgICogU2hvd3MgSW52ZW50b3J5IGl0ZW0gZXhwaXJhdGlvbiBkYXRlIHVwZGF0ZSBjb25maXJtYXRpb24gZGlhbG9nLgogICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb25Db25maXJtCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJjb25maXJtSW52ZW50b3J5SXRlbUV4cGlyYXRpb25EYXRlVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maXJtSW52ZW50b3J5SXRlbUV4cGlyYXRpb25EYXRlVXBkYXRlKG9uQ29uZmlybSkgewogICAgICBjb25maXJtQWxlcnQoewogICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QucGFydGlhbFJlY2VpdmluZy5tZXNzYWdlLmNvbmZpcm1TYXZlLmxhYmVsJywgJ0NvbmZpcm0gc2F2ZScpLAogICAgICAgIG1lc3NhZ2U6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5wYXJ0aWFsUmVjZWl2aW5nLmNvbmZpcm1FeHBpcnlEYXRlVXBkYXRlLm1lc3NhZ2UnLCAnVGhpcyB3aWxsIHVwZGF0ZSB0aGUgZXhwaXJ5IGRhdGUgYWNyb3NzIGFsbCBkZXBvdHMgaW4gdGhlIHN5c3RlbS4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHByb2NlZWQ/JyksCiAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QuZGVmYXVsdC55ZXMubGFiZWwnLCAnWWVzJyksCiAgICAgICAgICBvbkNsaWNrOiBvbkNvbmZpcm0KICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LmRlZmF1bHQubm8ubGFiZWwnLCAnTm8nKQogICAgICAgIH1dCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZXMpIHsKICAgICAgdmFyIGVycm9ycyA9IHt9OwogICAgICBlcnJvcnMubGluZXMgPSBbXTsKICAgICAgdmFyIGRhdGUgPSBtb21lbnQodGhpcy5wcm9wcy5taW5pbXVtRXhwaXJhdGlvbkRhdGUsICdNTS9ERC9ZWVlZJyk7CiAgICAgIF8uZm9yRWFjaCh2YWx1ZXMubGluZXMsIGZ1bmN0aW9uIChsaW5lLCBrZXkpIHsKICAgICAgICBpZiAobGluZSAmJiBfLmlzTmlsKGxpbmUucXVhbnRpdHlTaGlwcGVkKSkgewogICAgICAgICAgZXJyb3JzLmxpbmVzW2tleV0gPSB7CiAgICAgICAgICAgIHF1YW50aXR5U2hpcHBlZDogJ3JlYWN0LnBhcnRpYWxSZWNlaXZpbmcuZXJyb3IuZW50ZXJRdWFudGl0eVNoaXBwZWQubGFiZWwnCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAobGluZS5xdWFudGl0eVNoaXBwZWQgPCAwKSB7CiAgICAgICAgICBlcnJvcnMubGluZXNba2V5XSA9IHsKICAgICAgICAgICAgcXVhbnRpdHlTaGlwcGVkOiAncmVhY3QucGFydGlhbFJlY2VpdmluZy5lcnJvci5xdWFudGl0eVNoaXBwZWROZWdhdGl2ZS5sYWJlbCcKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHZhciBkYXRlUmVxdWVzdGVkID0gbW9tZW50KGxpbmUuZXhwaXJhdGlvbkRhdGUsICdNTS9ERC9ZWVlZJyk7CiAgICAgICAgaWYgKGRhdGUuZGlmZihkYXRlUmVxdWVzdGVkKSA+IDApIHsKICAgICAgICAgIGVycm9ycy5saW5lc1trZXldID0gewogICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogJ3JlYWN0LnBhcnRpYWxSZWNlaXZpbmcuZXJyb3IuaW52YWxpZERhdGUubGFiZWwnCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAobGluZS5leHBpcmF0aW9uRGF0ZSAmJiAoXy5pc05pbChsaW5lLmxvdE51bWJlcikgfHwgXy5pc0VtcHR5KGxpbmUubG90TnVtYmVyKSkpIHsKICAgICAgICAgIGVycm9ycy5saW5lc1trZXldID0gewogICAgICAgICAgICBsb3ROdW1iZXI6ICdyZWFjdC5wYXJ0aWFsUmVjZWl2aW5nLmVycm9yLmV4cGlyeVdpdGhvdXRMb3QubGFiZWwnCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoIV8uaXNOaWwobGluZS5wcm9kdWN0KSAmJiBsaW5lLnByb2R1Y3QubG90QW5kRXhwaXJ5Q29udHJvbCkgewogICAgICAgICAgaWYgKCFsaW5lLmV4cGlyYXRpb25EYXRlICYmIChfLmlzTmlsKGxpbmUubG90TnVtYmVyKSB8fCBfLmlzRW1wdHkobGluZS5sb3ROdW1iZXIpKSkgewogICAgICAgICAgICBlcnJvcnMubGluZXNba2V5XSA9IHsKICAgICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogJ3JlYWN0LnBhcnRpYWxSZWNlaXZpbmcuZXJyb3IubG90QW5kRXhwaXJ5Q29udHJvbC5sYWJlbCcsCiAgICAgICAgICAgICAgbG90TnVtYmVyOiAncmVhY3QucGFydGlhbFJlY2VpdmluZy5lcnJvci5sb3RBbmRFeHBpcnlDb250cm9sLmxhYmVsJwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIGlmICghbGluZS5leHBpcmF0aW9uRGF0ZSkgewogICAgICAgICAgICBlcnJvcnMubGluZXNba2V5XSA9IHsKICAgICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogJ3JlYWN0LnBhcnRpYWxSZWNlaXZpbmcuZXJyb3IubG90QW5kRXhwaXJ5Q29udHJvbC5sYWJlbCcKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc05pbChsaW5lLmxvdE51bWJlcikgfHwgXy5pc0VtcHR5KGxpbmUubG90TnVtYmVyKSkgewogICAgICAgICAgICBlcnJvcnMubGluZXNba2V5XSA9IHsKICAgICAgICAgICAgICBsb3ROdW1iZXI6ICdyZWFjdC5wYXJ0aWFsUmVjZWl2aW5nLmVycm9yLmxvdEFuZEV4cGlyeUNvbnRyb2wubGFiZWwnCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsV3JhcHBlciwgX2V4dGVuZHMoe30sIHRoaXMuc3RhdGUuYXR0ciwgewogICAgICAgIG9uT3BlbjogdGhpcy5vbk9wZW4sCiAgICAgICAgb25TYXZlOiB0aGlzLm9uU2F2ZSwKICAgICAgICB2YWxpZGF0ZTogdGhpcy52YWxpZGF0ZSwKICAgICAgICBpbml0aWFsVmFsdWVzOiB0aGlzLnN0YXRlLmZvcm1WYWx1ZXMsCiAgICAgICAgZmllbGRzOiBGSUVMRFMsCiAgICAgICAgd3JhcHBlckNsYXNzTmFtZTogdGhpcy5wcm9wcy53cmFwcGVyQ2xhc3NOYW1lLAogICAgICAgIGZvcm1Qcm9wczogewogICAgICAgICAgc2hpcG1lbnRJdGVtSWQ6IHRoaXMuc3RhdGUuYXR0ci5maWVsZFZhbHVlLnNoaXBtZW50SXRlbUlkLAogICAgICAgICAgYmluTG9jYXRpb246IHRoaXMuc3RhdGUuYXR0ci5maWVsZFZhbHVlLmJpbkxvY2F0aW9uLAogICAgICAgICAgcHJvZHVjdDogdGhpcy5zdGF0ZS5hdHRyLmZpZWxkVmFsdWUucHJvZHVjdAogICAgICAgIH0KICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogImZvbnQtd2VpZ2h0LWJvbGQgbWItMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgaWQ6ICJyZWFjdC5wYXJ0aWFsUmVjZWl2aW5nLm9yaWdpbmFsUXR5U2hpcHBlZC5sYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJPcmlnaW5hbCBxdWFudGl0eSBzaGlwcGVkIgogICAgICB9KSwgIjogIiwgdGhpcy5zdGF0ZS5hdHRyLmZpZWxkVmFsdWUucXVhbnRpdHlTaGlwcGVkKSkpOwogICAgfQogIH1dKTsKICByZXR1cm4gRWRpdExpbmVNb2RhbDsKfShDb21wb25lbnQpOwp2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7CiAgcmV0dXJuIHsKICAgIG1pbmltdW1FeHBpcmF0aW9uRGF0ZTogc3RhdGUuc2Vzc2lvbi5taW5pbXVtRXhwaXJhdGlvbkRhdGUsCiAgICB0cmFuc2xhdGU6IHRyYW5zbGF0ZVdpdGhEZWZhdWx0TWVzc2FnZShnZXRUcmFuc2xhdGUoc3RhdGUubG9jYWxpemUpKQogIH07Cn07CmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCB7CiAgc2hvd1NwaW5uZXI6IHNob3dTcGlubmVyLAogIGhpZGVTcGlubmVyOiBoaWRlU3Bpbm5lcgp9KShFZGl0TGluZU1vZGFsKTsKRWRpdExpbmVNb2RhbC5wcm9wVHlwZXMgPSB7CiAgLyoqIE5hbWUgb2YgdGhlIGZpZWxkICovCiAgZmllbGROYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsCiAgLyoqIENvbmZpZ3VyYXRpb24gb2YgdGhlIGZpZWxkICovCiAgZmllbGRDb25maWc6IFByb3BUeXBlcy5zaGFwZSh7CiAgICBnZXREeW5hbWljQXR0cjogUHJvcFR5cGVzLmZ1bmMKICB9KS5pc1JlcXVpcmVkLAogIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkYXRhIGlzIGxvYWRpbmcgKi8KICBzaG93U3Bpbm5lcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICAvKiogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZGF0YSBoYXMgbG9hZGVkICovCiAgaGlkZVNwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIEluZGV4ICBvZiBjdXJyZW50IHJvdyAqLwogIHJvd0luZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsCiAgLyoqIExvY2F0aW9uIElEIChkZXN0aW5hdGlvbikuIE5lZWRzIHRvIGJlIHVzZWQgaW4gL2FwaS9wcm9kdWN0cyByZXF1ZXN0LiAqLwogIGxvY2F0aW9uSWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICBtaW5pbXVtRXhwaXJhdGlvbkRhdGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICB0cmFuc2xhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgd3JhcHBlckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZwp9OwpFZGl0TGluZU1vZGFsLmRlZmF1bHRQcm9wcyA9IHsKICB3cmFwcGVyQ2xhc3NOYW1lOiBudWxsCn07"},null]}