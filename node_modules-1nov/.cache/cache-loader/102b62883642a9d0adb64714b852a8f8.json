{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/replenishment/ReplenishmentSecondPage.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/replenishment/ReplenishmentSecondPage.jsx","mtime":1698037749000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgYXJyYXlNdXRhdG9ycyBmcm9tICdmaW5hbC1mb3JtLWFycmF5cyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOwppbXBvcnQgeyBGb3JtIH0gZnJvbSAncmVhY3QtZmluYWwtZm9ybSc7CmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWxvY2FsaXplLXJlZHV4JzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgaGlkZVNwaW5uZXIsIHNob3dTcGlubmVyIH0gZnJvbSAnYWN0aW9ucyc7CmltcG9ydCBBcnJheUZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9BcnJheUZpZWxkJzsKaW1wb3J0IEJ1dHRvbkZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9CdXR0b25GaWVsZCc7CmltcG9ydCBMYWJlbEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9MYWJlbEZpZWxkJzsKaW1wb3J0IFRhYmxlUm93V2l0aFN1YmZpZWxkcyBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvVGFibGVSb3dXaXRoU3ViZmllbGRzJzsKaW1wb3J0IEVkaXRQaWNrTW9kYWwgZnJvbSAnY29tcG9uZW50cy9yZXBsZW5pc2htZW50L0VkaXRQaWNrTW9kYWwnOwppbXBvcnQgYXBpQ2xpZW50LCB7IGZsYXR0ZW5SZXF1ZXN0IH0gZnJvbSAndXRpbHMvYXBpQ2xpZW50JzsKaW1wb3J0IHsgcmVuZGVyRm9ybUZpZWxkIH0gZnJvbSAndXRpbHMvZm9ybS11dGlscyc7CmltcG9ydCBUcmFuc2xhdGUsIHsgdHJhbnNsYXRlV2l0aERlZmF1bHRNZXNzYWdlIH0gZnJvbSAndXRpbHMvVHJhbnNsYXRlJzsKaW1wb3J0ICdyZWFjdC1jb25maXJtLWFsZXJ0L3NyYy9yZWFjdC1jb25maXJtLWFsZXJ0LmNzcyc7CnZhciBGSUVMRFMgPSB7CiAgcmVwbGVuaXNobWVudEl0ZW1zOiB7CiAgICB0eXBlOiBBcnJheUZpZWxkLAogICAgcm93Q29tcG9uZW50OiBUYWJsZVJvd1dpdGhTdWJmaWVsZHMsCiAgICBzdWJmaWVsZEtleTogJ3BpY2tsaXN0SXRlbXMnLAogICAgZ2V0RHluYW1pY1Jvd0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNSb3dBdHRyKF9yZWYpIHsKICAgICAgdmFyIHJvd1ZhbHVlcyA9IF9yZWYucm93VmFsdWVzLAogICAgICAgIHN1YmZpZWxkID0gX3JlZi5zdWJmaWVsZDsKICAgICAgdmFyIGNsYXNzTmFtZSA9IHJvd1ZhbHVlcy5pbml0aWFsID8gJ2Nyb3NzZWQtb3V0ICcgOiAnJzsKICAgICAgaWYgKCFzdWJmaWVsZCkgewogICAgICAgIGNsYXNzTmFtZSArPSAnZm9udC13ZWlnaHQtYm9sZCc7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZQogICAgICB9OwogICAgfSwKICAgIGZpZWxkczogewogICAgICAncHJvZHVjdC5wcm9kdWN0Q29kZSc6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5wcm9kdWN0Q29kZS5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdDb2RlJywKICAgICAgICBmbGV4V2lkdGg6ICcwLjUnLAogICAgICAgIGhlYWRlckFsaWduOiAnbGVmdCcsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgY2VsbENsYXNzTmFtZTogJ3RleHQtbGVmdCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdwcm9kdWN0Lm5hbWUnOiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQucHJvZHVjdC5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdQcm9kdWN0JywKICAgICAgICBmbGV4V2lkdGg6ICcyJywKICAgICAgICBoZWFkZXJBbGlnbjogJ2xlZnQnLAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgIGNlbGxDbGFzc05hbWU6ICd0ZXh0LWxlZnQnLAogICAgICAgICAgc2hvd1ZhbHVlVG9vbHRpcDogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgJ3pvbmUubmFtZSc6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QucmVwbGVuaXNobWVudC56b25lLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1pvbmUnLAogICAgICAgIGZsZXhXaWR0aDogJzAuNScsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgc2hvd1ZhbHVlVG9vbHRpcDogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2JpbkxvY2F0aW9uLm5hbWUnOiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnJlcGxlbmlzaG1lbnQuYmluLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0JpbicsCiAgICAgICAgZmxleFdpZHRoOiAnMScsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgc2hvd1ZhbHVlVG9vbHRpcDogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgbG90TnVtYmVyOiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnJlcGxlbmlzaG1lbnQubG90LmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0xvdCcsCiAgICAgICAgZmxleFdpZHRoOiAnMScKICAgICAgfSwKICAgICAgZXhwaXJhdGlvbkRhdGU6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QucmVwbGVuaXNobWVudC5leHAubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRXhwJywKICAgICAgICBmbGV4V2lkdGg6ICcxJwogICAgICB9LAogICAgICBxdWFudGl0eTogewogICAgICAgIHR5cGU6IExhYmVsRmllbGQsCiAgICAgICAgbGFiZWw6ICdyZWFjdC5zdG9ja01vdmVtZW50LnF1YW50aXR5VG9UcmFuc2Zlci5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdRdHkgdG8gVHJhbnNmZXInLAogICAgICAgIGZsZXhXaWR0aDogJzEnLAogICAgICAgIGhlYWRlckFsaWduOiAncmlnaHQnLAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgIGNlbGxDbGFzc05hbWU6ICd0ZXh0LXJpZ2h0JwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2N1cnJlbnRCaW5Mb2NhdGlvbi5uYW1lJzogewogICAgICAgIHR5cGU6IExhYmVsRmllbGQsCiAgICAgICAgbGFiZWw6ICdyZWFjdC5yZXBsZW5pc2htZW50LnRyYW5zZmVyVG8ubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVHJhbnNmZXIgdG8nLAogICAgICAgIGZsZXhXaWR0aDogJzEnLAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgIHNob3dWYWx1ZVRvb2x0aXA6IHRydWUKICAgICAgICB9LAogICAgICAgIGdldER5bmFtaWNBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljQXR0cihfcmVmMikgewogICAgICAgICAgdmFyIHN1YmZpZWxkID0gX3JlZjIuc3ViZmllbGQ7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmb3JtYXRWYWx1ZTogZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUpIHsKICAgICAgICAgICAgICBpZiAoc3ViZmllbGQgfHwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuICdERUZBVUxUJzsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJ1dHRvbkVkaXRQaWNrOiB7CiAgICAgICAgbGFiZWw6ICdyZWFjdC5zdG9ja01vdmVtZW50LmVkaXRQaWNrLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0VkaXQgcGljaycsCiAgICAgICAgdHlwZTogRWRpdFBpY2tNb2RhbCwKICAgICAgICBmaXhlZFdpZHRoOiAnOTBweCcsCiAgICAgICAgZmllbGRLZXk6ICcnLAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgIHRpdGxlOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5lZGl0UGljay5sYWJlbCcsCiAgICAgICAgICBkZWZhdWx0VGl0bGVNZXNzYWdlOiAnRWRpdCBQaWNrJwogICAgICAgIH0sCiAgICAgICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWYzKSB7CiAgICAgICAgICB2YXIgZmllbGRWYWx1ZSA9IF9yZWYzLmZpZWxkVmFsdWUsCiAgICAgICAgICAgIHJlZmV0Y2hSZXBsZW5pc2htZW50ID0gX3JlZjMucmVmZXRjaFJlcGxlbmlzaG1lbnQsCiAgICAgICAgICAgIHN1YmZpZWxkID0gX3JlZjMuc3ViZmllbGQ7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdWJmaWVsZDogc3ViZmllbGQsCiAgICAgICAgICAgIGl0ZW1JZDogXy5nZXQoZmllbGRWYWx1ZSwgJ2lkJyksCiAgICAgICAgICAgIGJ0bk9wZW5UZXh0OiAncmVhY3QuZGVmYXVsdC5idXR0b24uZWRpdC5sYWJlbCcsCiAgICAgICAgICAgIGJ0bk9wZW5EZWZhdWx0VGV4dDogJ0VkaXQnLAogICAgICAgICAgICBidG5PcGVuQ2xhc3NOYW1lOiAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnknLAogICAgICAgICAgICBvblJlc3BvbnNlOiByZWZldGNoUmVwbGVuaXNobWVudAogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJldmVydDogewogICAgICAgIHR5cGU6IEJ1dHRvbkZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3QuZGVmYXVsdC5idXR0b24udW5kb0VkaXQubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVW5kbyBlZGl0JywKICAgICAgICBmaXhlZFdpZHRoOiAnMTAwcHgnLAogICAgICAgIGZpZWxkS2V5OiAnJywKICAgICAgICBidXR0b25MYWJlbDogJ3JlYWN0LmRlZmF1bHQuYnV0dG9uLnVuZG9FZGl0LmxhYmVsJywKICAgICAgICBidXR0b25EZWZhdWx0TWVzc2FnZTogJ1VuZG8gZWRpdCcsCiAgICAgICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWY0KSB7CiAgICAgICAgICB2YXIgZmllbGRWYWx1ZSA9IF9yZWY0LmZpZWxkVmFsdWUsCiAgICAgICAgICAgIHJldmVydFVzZXJQaWNrID0gX3JlZjQucmV2ZXJ0VXNlclBpY2ssCiAgICAgICAgICAgIHN1YmZpZWxkID0gX3JlZjQuc3ViZmllbGQ7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBoaWRkZW46IHN1YmZpZWxkLAogICAgICAgICAgICBvbkNsaWNrOiBfLmdldChmaWVsZFZhbHVlLCAnaWQnKSA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gcmV2ZXJ0VXNlclBpY2soXy5nZXQoZmllbGRWYWx1ZSwgJ2lkJykpOwogICAgICAgICAgICB9IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIGJ0bi1vdXRsaW5lLWRhbmdlcicKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07CgovKiBlc2xpbnQgY2xhc3MtbWV0aG9kcy11c2UtdGhpczogWyJlcnJvciIseyAiZXhjZXB0TWV0aG9kcyI6IFsiY2hlY2tGb3JJbml0aWFsUGlja3NDaGFuZ2VzIl0gfV0gKi8KdmFyIFJlcGxlbmlzaG1lbnRTZWNvbmRQYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKFJlcGxlbmlzaG1lbnRTZWNvbmRQYWdlLCBfQ29tcG9uZW50KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFJlcGxlbmlzaG1lbnRTZWNvbmRQYWdlKTsKICBmdW5jdGlvbiBSZXBsZW5pc2htZW50U2Vjb25kUGFnZShwcm9wcykgewogICAgdmFyIF90aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlcGxlbmlzaG1lbnRTZWNvbmRQYWdlKTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGF0YUZldGNoZWQiLCBmYWxzZSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgdmFsdWVzOiB7CiAgICAgICAgcmVwbGVuaXNobWVudDogX29iamVjdFNwcmVhZCh7fSwgX3RoaXMucHJvcHMuaW5pdGlhbFZhbHVlcykKICAgICAgfSwKICAgICAgc29ydGVkOiBmYWxzZQogICAgfTsKICAgIF90aGlzLnJldmVydFVzZXJQaWNrID0gX3RoaXMucmV2ZXJ0VXNlclBpY2suYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy5mZXRjaFJlcGxlbmlzaG1lbnQgPSBfdGhpcy5mZXRjaFJlcGxlbmlzaG1lbnQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy5uZXh0UGFnZSA9IF90aGlzLm5leHRQYWdlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMucHJpbnRUcmFuc2Zlck9yZGVyID0gX3RoaXMucHJpbnRUcmFuc2Zlck9yZGVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KICBfY3JlYXRlQ2xhc3MoUmVwbGVuaXNobWVudFNlY29uZFBhZ2UsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIGlmICh0aGlzLnByb3BzLnJlcGxlbmlzaG1lbnRUcmFuc2xhdGlvbnNGZXRjaGVkKSB7CiAgICAgICAgdGhpcy5kYXRhRmV0Y2hlZCA9IHRydWU7CiAgICAgICAgdGhpcy5mZXRjaFJlcGxlbmlzaG1lbnQoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7CiAgICAgIGlmIChuZXh0UHJvcHMucmVwbGVuaXNobWVudFRyYW5zbGF0aW9uc0ZldGNoZWQgJiYgIXRoaXMuZGF0YUZldGNoZWQpIHsKICAgICAgICB0aGlzLmRhdGFGZXRjaGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLmZldGNoUmVwbGVuaXNobWVudCgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZmV0Y2hSZXBsZW5pc2htZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaFJlcGxlbmlzaG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvcmVwbGVuaXNobWVudHMvIi5jb25jYXQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMucmVwbGVuaXNobWVudElkKTsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgdmFyIHJlcGxlbmlzaG1lbnQgPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgIHJlcGxlbmlzaG1lbnQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVwbGVuaXNobWVudCksIHt9LCB7CiAgICAgICAgICAgICAgcmVwbGVuaXNobWVudEl0ZW1zOiBfLm1hcChyZXBsZW5pc2htZW50LnJlcGxlbmlzaG1lbnRJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tGb3JJbml0aWFsUGlja3NDaGFuZ2VzKGl0ZW0pOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICAgIH0pOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWNyZWF0ZVBpY2tMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWNyZWF0ZVBpY2tMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5wcm9wcy5zaG93U3Bpbm5lcigpOwogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3JlcGxlbmlzaG1lbnRzLyIuY29uY2F0KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLnJlcGxlbmlzaG1lbnRJZCwgIi9waWNrbGlzdHMiKTsKICAgICAgYXBpQ2xpZW50LnBvc3QodXJsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZmV0Y2hSZXBsZW5pc2htZW50KCk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrRm9ySW5pdGlhbFBpY2tzQ2hhbmdlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tGb3JJbml0aWFsUGlja3NDaGFuZ2VzKHBpY2tQYWdlSXRlbSkgewogICAgICBpZiAocGlja1BhZ2VJdGVtLnBpY2tsaXN0SXRlbXMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGluaXRpYWxQaWNrcyA9IFtdOwogICAgICAgIF8uZm9yRWFjaChwaWNrUGFnZUl0ZW0uc3VnZ2VzdGVkSXRlbXMsIGZ1bmN0aW9uIChzdWdnZXN0aW9uKSB7CiAgICAgICAgICAvLyBzZWFyY2ggaWYgc3VnZ2VzdGVkIHBpY2tzIGFyZSBpbnNpZGUgcGlja2xpc3QKICAgICAgICAgIC8vIGlmIG5vIC0+IGFkZCBzdWdnZXN0ZWQgcGljayBhcyBpbml0aWFsIHBpY2sgKHRvIGJlIGNyb3NzZWQgb3V0KQogICAgICAgICAgLy8gaWYgeWVzIC0+IGNvbXBhcmUgcXVhbnRpdHlQaWNrZWQgb2YgaXRlbSBpbiBwaWNrbGlzdCB3aXRoIHN1Z2dlc3Rpb24KICAgICAgICAgIHZhciBwaWNrID0gXy5maW5kKHBpY2tQYWdlSXRlbS5waWNrbGlzdEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gXy5nZXQoc3VnZ2VzdGlvbiwgJ2ludmVudG9yeUl0ZW0uaWQnKSA9PT0gXy5nZXQoaXRlbSwgJ2ludmVudG9yeUl0ZW0uaWQnKSAmJiBfLmdldChpdGVtLCAnYmluTG9jYXRpb24uaWQnKSA9PT0gXy5nZXQoc3VnZ2VzdGlvbiwgJ2JpbkxvY2F0aW9uLmlkJyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChfLmlzRW1wdHkocGljaykgfHwgcGljay5xdWFudGl0eSAhPT0gc3VnZ2VzdGlvbi5xdWFudGl0eVBpY2tlZCkgewogICAgICAgICAgICBpbml0aWFsUGlja3MucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN1Z2dlc3Rpb24pLCB7fSwgewogICAgICAgICAgICAgIHF1YW50aXR5OiBzdWdnZXN0aW9uLnF1YW50aXR5UGlja2VkLAogICAgICAgICAgICAgIGluaXRpYWw6IHRydWUKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBpY2tQYWdlSXRlbSksIHt9LCB7CiAgICAgICAgICBwaWNrbGlzdEl0ZW1zOiBfLmNvbmNhdChpbml0aWFsUGlja3MsIF8uc29ydEJ5KHBpY2tQYWdlSXRlbS5waWNrbGlzdEl0ZW1zLCBbJ2JpbkxvY2F0aW9uLm5hbWUnLCAnaW5pdGlhbCddKSkKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gcGlja1BhZ2VJdGVtOwogICAgfQogIH0sIHsKICAgIGtleTogIm5leHRQYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0UGFnZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnN0YXRlLnZhbHVlcy5yZXBsZW5pc2htZW50LnN0YXR1cyA9PT0gJ1BFTkRJTkcnKSB7CiAgICAgICAgdGhpcy5wcm9wcy5zaG93U3Bpbm5lcigpOwogICAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvcmVwbGVuaXNobWVudHMvIi5jb25jYXQodGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMucmVwbGVuaXNobWVudElkKTsKICAgICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICAgIHN0YXR1czogJ0FQUFJPVkVEJwogICAgICAgIH07CiAgICAgICAgYXBpQ2xpZW50LnBvc3QodXJsLCBmbGF0dGVuUmVxdWVzdChwYXlsb2FkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICAgIF90aGlzNC5wcm9wcy5uZXh0UGFnZShfdGhpczQuc3RhdGUudmFsdWVzLnJlcGxlbmlzaG1lbnQpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczQucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb3BzLm5leHRQYWdlKHRoaXMuc3RhdGUudmFsdWVzLnJlcGxlbmlzaG1lbnQpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicHJpbnRUcmFuc2Zlck9yZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmludFRyYW5zZmVyT3JkZXIoKSB7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9yZXBsZW5pc2htZW50L3ByaW50LyIuY29uY2F0KHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLnJlcGxlbmlzaG1lbnRJZCk7CiAgICAgIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpOwogICAgfQogIH0sIHsKICAgIGtleTogInJldmVydFVzZXJQaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXZlcnRVc2VyUGljayhpdGVtSWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgdmFyIHJldmVydFBpY2tsaXN0VXJsID0gIi9vcGVuYm94ZXMvYXBpL3JlcGxlbmlzaG1lbnRzLyIuY29uY2F0KGl0ZW1JZCwgIi9waWNrbGlzdEl0ZW0iKTsKICAgICAgYXBpQ2xpZW50LnBvc3QocmV2ZXJ0UGlja2xpc3RVcmwsIHt9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICBfdGhpczUuZmV0Y2hSZXBsZW5pc2htZW50KCk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVmcmVzaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIGNvbmZpcm1BbGVydCh7CiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5yZXBsZW5pc2htZW50LmNvbmZpcm1SZWZyZXNoLmxhYmVsJywgJ0NvbmZpcm0gcmVmcmVzaCcpLAogICAgICAgIG1lc3NhZ2U6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5yZXBsZW5pc2htZW50LmNvbmZpcm1SZWZyZXNoLmNvbnRlbnQubGFiZWwnLCAnVGhpcyBidXR0b24gd2lsbCByZWRvIHRoZSBhdXRvcGljayBvbiBhbGwgaXRlbXMuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb250aW51ZT8nKSwKICAgICAgICBidXR0b25zOiBbewogICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lnllcy5sYWJlbCcsICdZZXMnKSwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzNi5yZWNyZWF0ZVBpY2tMaXN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lm5vLmxhYmVsJywgJ05vJykKICAgICAgICB9XQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYXZlQW5kRXhpdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUFuZEV4aXQoKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICIvb3BlbmJveGVzL3N0b2NrVHJhbnNmZXIvc2hvdy8iLmNvbmNhdCh0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5yZXBsZW5pc2htZW50SWQpOwogICAgfQogIH0sIHsKICAgIGtleTogInNvcnRCeUJpbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNvcnRCeUJpbnMoKSB7CiAgICAgIGlmICh0aGlzLnN0YXRlLnNvcnRlZCkgewogICAgICAgIHZhciBzb3J0ZWRQaWNrSXRlbXNCeURlZmF1bHQgPSB0aGlzLnN0YXRlLnZhbHVlcy5yZXBsZW5pc2htZW50LnJlcGxlbmlzaG1lbnRJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgICAgICBwaWNrbGlzdEl0ZW1zOiBfLnNvcnRCeShpdGVtLnBpY2tsaXN0SXRlbXMsIFsnYmluTG9jYXRpb24ubmFtZScsICdxdWFudGl0eSddKQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgcmVwbGVuaXNobWVudDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlLnZhbHVlcy5yZXBsZW5pc2htZW50KSwge30sIHsKICAgICAgICAgICAgICByZXBsZW5pc2htZW50SXRlbXM6IF8uc29ydEJ5KHNvcnRlZFBpY2tJdGVtc0J5RGVmYXVsdCwgWydwcm9kdWN0LnByb2R1Y3RDb2RlJ10pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9LAogICAgICAgICAgc29ydGVkOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgc29ydGVkUGlja0l0ZW1zQnlCaW5OYW1lID0gdGhpcy5zdGF0ZS52YWx1ZXMucmVwbGVuaXNobWVudC5yZXBsZW5pc2htZW50SXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICBwaWNrbGlzdEl0ZW1zOiBfLnNvcnRCeShpdGVtLnBpY2tsaXN0SXRlbXMsIFsnem9uZS5uYW1lJywgJ2JpbkxvY2F0aW9uLm5hbWUnXSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgIHZhbHVlczogewogICAgICAgICAgcmVwbGVuaXNobWVudDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlLnZhbHVlcy5yZXBsZW5pc2htZW50KSwge30sIHsKICAgICAgICAgICAgcmVwbGVuaXNobWVudEl0ZW1zOiBfLnNvcnRCeShzb3J0ZWRQaWNrSXRlbXNCeUJpbk5hbWUsIFsncGlja2xpc3RJdGVtc1swXS56b25lLm5hbWUnLCAncGlja2xpc3RJdGVtc1swXS5iaW5Mb2NhdGlvbi5uYW1lJ10pCiAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc29ydGVkOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm0sIHsKICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM3Lm5leHRQYWdlKCk7CiAgICAgICAgfSwKICAgICAgICBtdXRhdG9yczogX29iamVjdFNwcmVhZCh7fSwgYXJyYXlNdXRhdG9ycyksCiAgICAgICAgaW5pdGlhbFZhbHVlczogdGhpcy5zdGF0ZS52YWx1ZXMucmVwbGVuaXNobWVudCwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmNSkgewogICAgICAgICAgdmFyIGhhbmRsZVN1Ym1pdCA9IF9yZWY1LmhhbmRsZVN1Ym1pdDsKICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJkLWZsZXggZmxleC1jb2x1bW4iCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJzdWJtaXQtYnV0dG9ucyBkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBidXR0b25zLWNvbnRhaW5lciIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczcucHJpbnRUcmFuc2Zlck9yZGVyKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsYXNzTmFtZTogIm1iLTEgYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4teHMgbWwtMSIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImZhIGZhLXByaW50IHByLTIiCiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3Quc3RvY2tUcmFuc2Zlci5wcmludFRyYW5zZmVyT3JkZXIubGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlByaW50IFRyYW5zZmVyIE9yZGVyIgogICAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5yZWZyZXNoKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsYXNzTmFtZTogIm1iLTEgYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4teHMgbWwtMSIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImZhIGZhLXJlZnJlc2ggcHItMiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5yZWZyZXNoLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSZWxvYWQiCiAgICAgICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnNhdmVBbmRFeGl0KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsYXNzTmFtZTogIm1iLTEgYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4teHMgbWwtMSBiZy13aGl0ZSBib3JkZXItMCIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImZhIGZhLXNpZ24tb3V0IHByLTIiCiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24uc2F2ZUFuZEV4aXQubGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNhdmUgYW5kIGV4aXQiCiAgICAgICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnNvcnRCeUJpbnMoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZmxvYXQtcmlnaHQgbWItMSBidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGFsaWduLXNlbGYtZW5kIGJ0bi14cyIKICAgICAgICAgIH0sIF90aGlzNy5zdGF0ZS5zb3J0ZWQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS1zb3J0IHByLTIiCiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3QucmVwbGVuaXNobWVudC5vcmlnaW5hbE9yZGVyLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJPcmlnaW5hbCBvcmRlciIKICAgICAgICAgIH0pKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImZhIGZhLXNvcnQgcHItMiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5yZXBsZW5pc2htZW50LnNvcnRCeUJpbnMubGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlNvcnQgYnkgYmlucyIKICAgICAgICAgIH0pKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZm9ybSIsIHsKICAgICAgICAgICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCwKICAgICAgICAgICAgY2xhc3NOYW1lOiAicHJpbnQtbXQiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZS1mb3JtIgogICAgICAgICAgfSwgXy5tYXAoRklFTERTLCBmdW5jdGlvbiAoZmllbGRDb25maWcsIGZpZWxkTmFtZSkgewogICAgICAgICAgICByZXR1cm4gcmVuZGVyRm9ybUZpZWxkKGZpZWxkQ29uZmlnLCBmaWVsZE5hbWUsIHsKICAgICAgICAgICAgICByZXBsZW5pc2htZW50SWQ6IF90aGlzNy5wcm9wcy5tYXRjaC5wYXJhbXMucmVwbGVuaXNobWVudElkLAogICAgICAgICAgICAgIHJlZmV0Y2hSZXBsZW5pc2htZW50OiBfdGhpczcuZmV0Y2hSZXBsZW5pc2htZW50LAogICAgICAgICAgICAgIGxvY2F0aW9uSWQ6IF90aGlzNy5wcm9wcy5sb2NhdGlvbklkLAogICAgICAgICAgICAgIHRyYW5zbGF0ZTogX3RoaXM3LnByb3BzLnRyYW5zbGF0ZSwKICAgICAgICAgICAgICByZXZlcnRVc2VyUGljazogX3RoaXM3LnJldmVydFVzZXJQaWNrCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJzdWJtaXQtYnV0dG9ucyIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tZm9ybSBmbG9hdC1yaWdodCBidG4teHMiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5yZXBsZW5pc2htZW50Lm5leHQubGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIk5leHQiCiAgICAgICAgICB9KSkpKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFJlcGxlbmlzaG1lbnRTZWNvbmRQYWdlOwp9KENvbXBvbmVudCk7CnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHsKICByZXR1cm4gewogICAgcmVwbGVuaXNobWVudFRyYW5zbGF0aW9uc0ZldGNoZWQ6IHN0YXRlLnNlc3Npb24uZmV0Y2hlZFRyYW5zbGF0aW9ucy5yZXBsZW5pc2htZW50LAogICAgdHJhbnNsYXRlOiB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UoZ2V0VHJhbnNsYXRlKHN0YXRlLmxvY2FsaXplKSkKICB9Owp9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgewogIHNob3dTcGlubmVyOiBzaG93U3Bpbm5lciwKICBoaWRlU3Bpbm5lcjogaGlkZVNwaW5uZXIKfSkoUmVwbGVuaXNobWVudFNlY29uZFBhZ2UpOwpSZXBsZW5pc2htZW50U2Vjb25kUGFnZS5wcm9wVHlwZXMgPSB7CiAgc2hvd1NwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgaGlkZVNwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgbmV4dFBhZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgaW5pdGlhbFZhbHVlczogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLAogIG1hdGNoOiBQcm9wVHlwZXMuc2hhcGUoewogICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoewogICAgICByZXBsZW5pc2htZW50SWQ6IFByb3BUeXBlcy5zdHJpbmcKICAgIH0pCiAgfSkuaXNSZXF1aXJlZCwKICBsb2NhdGlvbklkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsCiAgcmVwbGVuaXNobWVudFRyYW5zbGF0aW9uc0ZldGNoZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsCiAgdHJhbnNsYXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkCn07"},null]}