{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/stock-movement-wizard/outbound/PickPage.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/stock-movement-wizard/outbound/PickPage.jsx","mtime":1698037750000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQppbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgYXJyYXlNdXRhdG9ycyBmcm9tICdmaW5hbC1mb3JtLWFycmF5cyc7CmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7CmltcG9ydCBmaWxlRG93bmxvYWQgZnJvbSAnanMtZmlsZS1kb3dubG9hZCc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOwppbXBvcnQgeyBGb3JtIH0gZnJvbSAncmVhY3QtZmluYWwtZm9ybSc7CmltcG9ydCB7IGdldFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWxvY2FsaXplLXJlZHV4JzsKaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IEFsZXJ0IGZyb20gJ3JlYWN0LXMtYWxlcnQnOwppbXBvcnQgeyBmZXRjaFJlYXNvbkNvZGVzLCBoaWRlU3Bpbm5lciwgc2hvd1NwaW5uZXIgfSBmcm9tICdhY3Rpb25zJzsKaW1wb3J0IEFycmF5RmllbGQgZnJvbSAnY29tcG9uZW50cy9mb3JtLWVsZW1lbnRzL0FycmF5RmllbGQnOwppbXBvcnQgQnV0dG9uRmllbGQgZnJvbSAnY29tcG9uZW50cy9mb3JtLWVsZW1lbnRzL0J1dHRvbkZpZWxkJzsKaW1wb3J0IEZpbHRlcklucHV0IGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9GaWx0ZXJJbnB1dCc7CmltcG9ydCBMYWJlbEZpZWxkIGZyb20gJ2NvbXBvbmVudHMvZm9ybS1lbGVtZW50cy9MYWJlbEZpZWxkJzsKaW1wb3J0IFRhYmxlUm93V2l0aFN1YmZpZWxkcyBmcm9tICdjb21wb25lbnRzL2Zvcm0tZWxlbWVudHMvVGFibGVSb3dXaXRoU3ViZmllbGRzJzsKaW1wb3J0IEVkaXRQaWNrTW9kYWwgZnJvbSAnY29tcG9uZW50cy9zdG9jay1tb3ZlbWVudC13aXphcmQvbW9kYWxzL0VkaXRQaWNrTW9kYWwnOwppbXBvcnQgQWxlcnRNZXNzYWdlIGZyb20gJ3V0aWxzL0FsZXJ0TWVzc2FnZSc7CmltcG9ydCB7IGZsYXR0ZW5SZXF1ZXN0LCBoYW5kbGVFcnJvciwgaGFuZGxlU3VjY2VzcywgcGFyc2VSZXNwb25zZSB9IGZyb20gJ3V0aWxzL2FwaUNsaWVudCc7CmltcG9ydCB7IHJlbmRlckZvcm1GaWVsZCB9IGZyb20gJ3V0aWxzL2Zvcm0tdXRpbHMnOwppbXBvcnQgeyBmb3JtYXRQcm9kdWN0RGlzcGxheU5hbWUsIG1hdGNoZXNQcm9kdWN0Q29kZU9yTmFtZSB9IGZyb20gJ3V0aWxzL2Zvcm0tdmFsdWVzLXV0aWxzJzsKaW1wb3J0IFRyYW5zbGF0ZSwgeyB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UgfSBmcm9tICd1dGlscy9UcmFuc2xhdGUnOwppbXBvcnQgJ3JlYWN0LWNvbmZpcm0tYWxlcnQvc3JjL3JlYWN0LWNvbmZpcm0tYWxlcnQuY3NzJzsKdmFyIEZJRUxEUyA9IHsKICBwaWNrUGFnZUl0ZW1zOiB7CiAgICB0eXBlOiBBcnJheUZpZWxkLAogICAgdmlydHVhbGl6ZWQ6IHRydWUsCiAgICB0b3RhbENvdW50OiBmdW5jdGlvbiB0b3RhbENvdW50KF9yZWYpIHsKICAgICAgdmFyIF90b3RhbENvdW50ID0gX3JlZi50b3RhbENvdW50OwogICAgICByZXR1cm4gX3RvdGFsQ291bnQ7CiAgICB9LAogICAgaXNSb3dMb2FkZWQ6IGZ1bmN0aW9uIGlzUm93TG9hZGVkKF9yZWYyKSB7CiAgICAgIHZhciBfaXNSb3dMb2FkZWQgPSBfcmVmMi5pc1Jvd0xvYWRlZDsKICAgICAgcmV0dXJuIF9pc1Jvd0xvYWRlZDsKICAgIH0sCiAgICBsb2FkTW9yZVJvd3M6IGZ1bmN0aW9uIGxvYWRNb3JlUm93cyhfcmVmMykgewogICAgICB2YXIgX2xvYWRNb3JlUm93cyA9IF9yZWYzLmxvYWRNb3JlUm93czsKICAgICAgcmV0dXJuIF9sb2FkTW9yZVJvd3MoKTsKICAgIH0sCiAgICBpc0ZpcnN0UGFnZUxvYWRlZDogZnVuY3Rpb24gaXNGaXJzdFBhZ2VMb2FkZWQoX3JlZjQpIHsKICAgICAgdmFyIF9pc0ZpcnN0UGFnZUxvYWRlZCA9IF9yZWY0LmlzRmlyc3RQYWdlTG9hZGVkOwogICAgICByZXR1cm4gX2lzRmlyc3RQYWdlTG9hZGVkOwogICAgfSwKICAgIHJvd0NvbXBvbmVudDogVGFibGVSb3dXaXRoU3ViZmllbGRzLAogICAgc3ViZmllbGRLZXk6ICdwaWNrbGlzdEl0ZW1zJywKICAgIGdldER5bmFtaWNSb3dBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljUm93QXR0cihfcmVmNSkgewogICAgICB2YXIgcm93VmFsdWVzID0gX3JlZjUucm93VmFsdWVzLAogICAgICAgIHN1YmZpZWxkID0gX3JlZjUuc3ViZmllbGQsCiAgICAgICAgc2hvd09ubHlFcnJvcmVkSXRlbXMgPSBfcmVmNS5zaG93T25seUVycm9yZWRJdGVtcywKICAgICAgICBpdGVtRmlsdGVyID0gX3JlZjUuaXRlbUZpbHRlcjsKICAgICAgdmFyIGNsYXNzTmFtZSA9IHJvd1ZhbHVlcy5pbml0aWFsID8gJ2Nyb3NzZWQtb3V0ICcgOiAnJzsKICAgICAgaWYgKCFzdWJmaWVsZCkgewogICAgICAgIGNsYXNzTmFtZSArPSAnZm9udC13ZWlnaHQtYm9sZCc7CiAgICAgIH0KICAgICAgdmFyIGZpbHRlck91dEl0ZW1zID0gaXRlbUZpbHRlciAmJiAhbWF0Y2hlc1Byb2R1Y3RDb2RlT3JOYW1lKHsKICAgICAgICBwcm9kdWN0OiByb3dWYWx1ZXMgPT09IG51bGwgfHwgcm93VmFsdWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3dWYWx1ZXMucHJvZHVjdCwKICAgICAgICBmaWx0ZXJWYWx1ZTogaXRlbUZpbHRlcgogICAgICB9KTsKICAgICAgdmFyIGhpZGVSb3cgPSAoc2hvd09ubHlFcnJvcmVkSXRlbXMgJiYgIXJvd1ZhbHVlcy5oYXNFcnJvciB8fCBmaWx0ZXJPdXRJdGVtcykgJiYgIXN1YmZpZWxkOwogICAgICByZXR1cm4gewogICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLAogICAgICAgIGhpZGVSb3c6IGhpZGVSb3cKICAgICAgfTsKICAgIH0sCiAgICBmaWVsZHM6IHsKICAgICAgcHJvZHVjdENvZGU6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5jb2RlLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0NvZGUnLAogICAgICAgIGZsZXhXaWR0aDogJzAuOScsCiAgICAgICAgaGVhZGVyQWxpZ246ICdsZWZ0JywKICAgICAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZjYpIHsKICAgICAgICAgIHZhciBzdWJmaWVsZCA9IF9yZWY2LnN1YmZpZWxkOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiBzdWJmaWVsZCA/ICd0ZXh0LWNlbnRlcicgOiAndGV4dC1sZWZ0IG1sLTEnCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvZHVjdDogewogICAgICAgIHR5cGU6IExhYmVsRmllbGQsCiAgICAgICAgbGFiZWw6ICdyZWFjdC5zdG9ja01vdmVtZW50LnByb2R1Y3ROYW1lLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1Byb2R1Y3QgbmFtZScsCiAgICAgICAgZmxleFdpZHRoOiAnMy44JywKICAgICAgICBoZWFkZXJBbGlnbjogJ2xlZnQnLAogICAgICAgIGdldER5bmFtaWNBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljQXR0cihfcmVmNykgewogICAgICAgICAgdmFyIF9maWVsZFZhbHVlJGRpc3BsYXlOYTsKICAgICAgICAgIHZhciBmaWVsZFZhbHVlID0gX3JlZjcuZmllbGRWYWx1ZTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3dWYWx1ZVRvb2x0aXA6ICEhKGZpZWxkVmFsdWUgIT09IG51bGwgJiYgZmllbGRWYWx1ZSAhPT0gdm9pZCAwICYmIGZpZWxkVmFsdWUuZGlzcGxheU5hbWUgfHwgZmllbGRWYWx1ZSAhPT0gbnVsbCAmJiBmaWVsZFZhbHVlICE9PSB2b2lkIDAgJiYgKF9maWVsZFZhbHVlJGRpc3BsYXlOYSA9IGZpZWxkVmFsdWUuZGlzcGxheU5hbWVzKSAhPT0gbnVsbCAmJiBfZmllbGRWYWx1ZSRkaXNwbGF5TmEgIT09IHZvaWQgMCAmJiBfZmllbGRWYWx1ZSRkaXNwbGF5TmFbImRlZmF1bHQiXSksCiAgICAgICAgICAgIHRvb2x0aXBWYWx1ZTogZmllbGRWYWx1ZSA9PT0gbnVsbCB8fCBmaWVsZFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWVsZFZhbHVlLm5hbWUKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICBjbGFzc05hbWU6ICd0ZXh0LWxlZnQgbWwtMScsCiAgICAgICAgICBmb3JtYXRWYWx1ZTogZm9ybWF0UHJvZHVjdERpc3BsYXlOYW1lCiAgICAgICAgfQogICAgICB9LAogICAgICBsb3ROdW1iZXI6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGZsZXhXaWR0aDogJzEuMScsCiAgICAgICAgbGFiZWw6ICdyZWFjdC5zdG9ja01vdmVtZW50LmxvdC5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdMb3QnCiAgICAgIH0sCiAgICAgIGV4cGlyYXRpb25EYXRlOiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBmbGV4V2lkdGg6ICcwLjknLAogICAgICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5leHBpcnkubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRXhwaXJ5JwogICAgICB9LAogICAgICBiaW5Mb2NhdGlvbjogewogICAgICAgIHR5cGU6IExhYmVsRmllbGQsCiAgICAgICAgZmxleFdpZHRoOiAnMS4xJywKICAgICAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQuYmluTG9jYXRpb24ubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQmluIGxvY2F0aW9uJywKICAgICAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZjgpIHsKICAgICAgICAgIHZhciBoYXNCaW5Mb2NhdGlvblN1cHBvcnQgPSBfcmVmOC5oYXNCaW5Mb2NhdGlvblN1cHBvcnQ7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBoaWRlOiAhaGFzQmluTG9jYXRpb25TdXBwb3J0CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgc2hvd1ZhbHVlVG9vbHRpcDogdHJ1ZSwKICAgICAgICAgIGZvcm1hdFZhbHVlOiBmdW5jdGlvbiBmb3JtYXRWYWx1ZShmaWVsZFZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBmaWVsZFZhbHVlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAiZC1mbGV4IgogICAgICAgICAgICB9LCBmaWVsZFZhbHVlLnpvbmVOYW1lID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgICBjbGFzc05hbWU6ICJ0ZXh0LXRydW5jYXRlIiwKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgbWluV2lkdGg6IDMwLAogICAgICAgICAgICAgICAgZmxleFNocmluazogMjAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIGZpZWxkVmFsdWUuem9uZU5hbWUpIDogJycsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAidGV4dC10cnVuY2F0ZSIKICAgICAgICAgICAgfSwgZmllbGRWYWx1ZS56b25lTmFtZSA/ICI6ICIuY29uY2F0KGZpZWxkVmFsdWUubmFtZSkgOiBmaWVsZFZhbHVlLm5hbWUpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHF1YW50aXR5UmVxdWlyZWQ6IHsKICAgICAgICB0eXBlOiBMYWJlbEZpZWxkLAogICAgICAgIGxhYmVsOiAncmVhY3Quc3RvY2tNb3ZlbWVudC5xdWFudGl0eVJlcXVpcmVkLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1F0eSByZXF1aXJlZCcsCiAgICAgICAgZmxleFdpZHRoOiAnMC44JywKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICBmb3JtYXRWYWx1ZTogZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gdmFsdWUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJykgOiB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHF1YW50aXR5UGlja2VkOiB7CiAgICAgICAgdHlwZTogTGFiZWxGaWVsZCwKICAgICAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQucXVhbnRpdHlQaWNrZWQubGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnUXR5IHBpY2tlZCcsCiAgICAgICAgZmxleFdpZHRoOiAnMC43JywKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICBmb3JtYXRWYWx1ZTogZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gdmFsdWUudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJykgOiB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJ1dHRvbkVkaXRQaWNrOiB7CiAgICAgICAgbGFiZWw6ICdyZWFjdC5zdG9ja01vdmVtZW50LmVkaXRQaWNrLmxhYmVsJywKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0VkaXQgcGljaycsCiAgICAgICAgdHlwZTogRWRpdFBpY2tNb2RhbCwKICAgICAgICBmaWVsZEtleTogJycsCiAgICAgICAgZmxleFdpZHRoOiAnMC43JywKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICB0aXRsZTogJ3JlYWN0LnN0b2NrTW92ZW1lbnQuZWRpdFBpY2subGFiZWwnLAogICAgICAgICAgZGVmYXVsdFRpdGxlTWVzc2FnZTogJ0VkaXQgUGljaycKICAgICAgICB9LAogICAgICAgIGdldER5bmFtaWNBdHRyOiBmdW5jdGlvbiBnZXREeW5hbWljQXR0cihfcmVmOSkgewogICAgICAgICAgdmFyIGZpZWxkVmFsdWUgPSBfcmVmOS5maWVsZFZhbHVlLAogICAgICAgICAgICBzdWJmaWVsZCA9IF9yZWY5LnN1YmZpZWxkLAogICAgICAgICAgICB1cGRhdGVQaWNrUGFnZUl0ZW0gPSBfcmVmOS51cGRhdGVQaWNrUGFnZUl0ZW0sCiAgICAgICAgICAgIHJlYXNvbkNvZGVzID0gX3JlZjkucmVhc29uQ29kZXMsCiAgICAgICAgICAgIGhhc0JpbkxvY2F0aW9uU3VwcG9ydCA9IF9yZWY5Lmhhc0JpbkxvY2F0aW9uU3VwcG9ydCwKICAgICAgICAgICAgc2hvd09ubHkgPSBfcmVmOS5zaG93T25seTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGl0ZW1JZDogXy5nZXQoZmllbGRWYWx1ZSwgJ3JlcXVpc2l0aW9uSXRlbS5pZCcpLAogICAgICAgICAgICBidG5PcGVuRGlzYWJsZWQ6IHNob3dPbmx5LAogICAgICAgICAgICBzdWJmaWVsZDogc3ViZmllbGQsCiAgICAgICAgICAgIGJ0bk9wZW5UZXh0OiBmaWVsZFZhbHVlICYmIGZpZWxkVmFsdWUuaGFzQ2hhbmdlZFBpY2sgPyAnJyA6ICdyZWFjdC5kZWZhdWx0LmJ1dHRvbi5lZGl0LmxhYmVsJywKICAgICAgICAgICAgYnRuT3BlbkRlZmF1bHRUZXh0OiBmaWVsZFZhbHVlICYmIGZpZWxkVmFsdWUuaGFzQ2hhbmdlZFBpY2sgPyAnJyA6ICdFZGl0JywKICAgICAgICAgICAgYnRuT3BlbkNsYXNzTmFtZTogZmllbGRWYWx1ZSAmJiBmaWVsZFZhbHVlLmhhc0NoYW5nZWRQaWNrID8gJyBidG4gZmEgZmEtY2hlY2sgYnRuLW91dGxpbmUtc3VjY2VzcycgOiAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnknLAogICAgICAgICAgICBvblJlc3BvbnNlOiB1cGRhdGVQaWNrUGFnZUl0ZW0sCiAgICAgICAgICAgIHJlYXNvbkNvZGVzOiByZWFzb25Db2RlcywKICAgICAgICAgICAgaGFzQmluTG9jYXRpb25TdXBwb3J0OiBoYXNCaW5Mb2NhdGlvblN1cHBvcnQKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9LAogICAgICBidXR0b25BZGp1c3RJbnZlbnRvcnk6IHsKICAgICAgICBsYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQuYWRqdXN0U3RvY2subGFiZWwnLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQWRqdXN0IHN0b2NrJywKICAgICAgICBidXR0b25MYWJlbDogJ3JlYWN0LnN0b2NrTW92ZW1lbnQuYWRqdXN0U3RvY2subGFiZWwnLAogICAgICAgIGJ1dHRvbkRlZmF1bHRNZXNzYWdlOiAnQWRqdXN0IHN0b2NrJywKICAgICAgICB0eXBlOiBCdXR0b25GaWVsZCwKICAgICAgICBmaWVsZEtleTogJycsCiAgICAgICAgZmxleFdpZHRoOiAnMScsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnknCiAgICAgICAgfSwKICAgICAgICBnZXREeW5hbWljQXR0cjogZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHIoX3JlZjEwKSB7CiAgICAgICAgICB2YXIgc3ViZmllbGQgPSBfcmVmMTAuc3ViZmllbGQsCiAgICAgICAgICAgIHRyYW5zbGF0ZSA9IF9yZWYxMC50cmFuc2xhdGUsCiAgICAgICAgICAgIHNob3dPbmx5ID0gX3JlZjEwLnNob3dPbmx5OwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaGlkZGVuOiBzdWJmaWVsZCwKICAgICAgICAgICAgZGlzYWJsZWQ6IHNob3dPbmx5LAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBBbGVydC5lcnJvcih0cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQuYWxlcnQuZGlzYWJsZWRBZGp1c3RtZW50LmxhYmVsJywgJ1RoaXMgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIHlldC4gUGxlYXNlIGFkanVzdCBzdG9jayBvbiB0aGUgZWxlY3Ryb25pYyBzdG9jayBjYXJkIHBhZ2UuJykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmV2ZXJ0OiB7CiAgICAgICAgdHlwZTogQnV0dG9uRmllbGQsCiAgICAgICAgbGFiZWw6ICdyZWFjdC5kZWZhdWx0LmJ1dHRvbi51bmRvRWRpdC5sYWJlbCcsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdVbmRvIGVkaXQnLAogICAgICAgIGZsZXhXaWR0aDogJzEnLAogICAgICAgIGZpZWxkS2V5OiAnJywKICAgICAgICBidXR0b25MYWJlbDogJ3JlYWN0LmRlZmF1bHQuYnV0dG9uLnVuZG9FZGl0LmxhYmVsJywKICAgICAgICBidXR0b25EZWZhdWx0TWVzc2FnZTogJ1VuZG8gZWRpdCcsCiAgICAgICAgZ2V0RHluYW1pY0F0dHI6IGZ1bmN0aW9uIGdldER5bmFtaWNBdHRyKF9yZWYxMSkgewogICAgICAgICAgdmFyIGZpZWxkVmFsdWUgPSBfcmVmMTEuZmllbGRWYWx1ZSwKICAgICAgICAgICAgcmV2ZXJ0VXNlclBpY2sgPSBfcmVmMTEucmV2ZXJ0VXNlclBpY2ssCiAgICAgICAgICAgIHN1YmZpZWxkID0gX3JlZjExLnN1YmZpZWxkLAogICAgICAgICAgICBzaG93T25seSA9IF9yZWYxMS5zaG93T25seTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG9uQ2xpY2s6IGZsYXR0ZW5SZXF1ZXN0KGZpZWxkVmFsdWUpWydyZXF1aXNpdGlvbkl0ZW0uaWQnXSA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gcmV2ZXJ0VXNlclBpY2soZmxhdHRlblJlcXVlc3QoZmllbGRWYWx1ZSlbJ3JlcXVpc2l0aW9uSXRlbS5pZCddKTsKICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGlkZGVuOiBzdWJmaWVsZCwKICAgICAgICAgICAgZGlzYWJsZWQ6IHNob3dPbmx5CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgY2xhc3NOYW1lOiAnYnRuIGJ0bi1vdXRsaW5lLWRhbmdlcicKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07CnZhciBhcGlDbGllbnQgPSBheGlvcy5jcmVhdGUoe30pOwoKLyogZXNsaW50IGNsYXNzLW1ldGhvZHMtdXNlLXRoaXM6IFsiZXJyb3IiLHsgImV4Y2VwdE1ldGhvZHMiOiBbImNoZWNrRm9ySW5pdGlhbFBpY2tzQ2hhbmdlcyJdIH1dICovCi8qKgogKiBUaGUgZm9ydGggc3RlcCBvZiBzdG9jayBtb3ZlbWVudChmb3IgbW92ZW1lbnRzIGZyb20gYSBkZXBvdCkgd2hlcmUgdXNlcgogKiBjYW4gZWRpdCBwaWNrIG9yIGFkanVzdCBpbnZlbnRvcnkuCiAqLwp2YXIgUGlja1BhZ2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoUGlja1BhZ2UsIF9Db21wb25lbnQpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUGlja1BhZ2UpOwogIGZ1bmN0aW9uIFBpY2tQYWdlKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGlja1BhZ2UpOwogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkYXRhRmV0Y2hlZCIsIGZhbHNlKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBzb3J0ZWQ6IGZhbHNlLAogICAgICBwcmludFBpY2tzVXJsOiAnJywKICAgICAgdmFsdWVzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnByb3BzLmluaXRpYWxWYWx1ZXMpLCB7fSwgewogICAgICAgIHBpY2tQYWdlSXRlbXM6IFtdCiAgICAgIH0pLAogICAgICB0b3RhbENvdW50OiAwLAogICAgICBpc0ZpcnN0UGFnZUxvYWRlZDogZmFsc2UsCiAgICAgIHNob3dBbGVydDogZmFsc2UsCiAgICAgIGFsZXJ0TWVzc2FnZTogJycsCiAgICAgIGl0ZW1GaWx0ZXI6ICcnCiAgICB9OwogICAgX3RoaXMucmV2ZXJ0VXNlclBpY2sgPSBfdGhpcy5yZXZlcnRVc2VyUGljay5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLnVwZGF0ZVBpY2tQYWdlSXRlbSA9IF90aGlzLnVwZGF0ZVBpY2tQYWdlSXRlbS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLmZldGNoQWRqdXN0ZWRJdGVtcyA9IF90aGlzLmZldGNoQWRqdXN0ZWRJdGVtcy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLnNvcnRCeUJpbnMgPSBfdGhpcy5zb3J0QnlCaW5zLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMuaW1wb3J0VGVtcGxhdGUgPSBfdGhpcy5pbXBvcnRUZW1wbGF0ZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLmlzUm93TG9hZGVkID0gX3RoaXMuaXNSb3dMb2FkZWQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy5sb2FkTW9yZVJvd3MgPSBfdGhpcy5sb2FkTW9yZVJvd3MuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CiAgICBfdGhpcy5yZWNyZWF0ZVBpY2tsaXN0ID0gX3RoaXMucmVjcmVhdGVQaWNrbGlzdC5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLmhhbmRsZVZhbGlkYXRpb25FcnJvcnMgPSBfdGhpcy5oYW5kbGVWYWxpZGF0aW9uRXJyb3JzLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgYXBpQ2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoaGFuZGxlU3VjY2VzcywgX3RoaXMuaGFuZGxlVmFsaWRhdGlvbkVycm9ycyk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIF9jcmVhdGVDbGFzcyhQaWNrUGFnZSwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgaWYgKHRoaXMucHJvcHMuc3RvY2tNb3ZlbWVudFRyYW5zbGF0aW9uc0ZldGNoZWQpIHsKICAgICAgICB0aGlzLmRhdGFGZXRjaGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLmZldGNoQWxsRGF0YShmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykgewogICAgICBpZiAobmV4dFByb3BzLnN0b2NrTW92ZW1lbnRUcmFuc2xhdGlvbnNGZXRjaGVkICYmICF0aGlzLmRhdGFGZXRjaGVkKSB7CiAgICAgICAgdGhpcy5kYXRhRmV0Y2hlZCA9IHRydWU7CiAgICAgICAgdGhpcy5mZXRjaEFsbERhdGEoZmFsc2UpOwogICAgICB9CgogICAgICAvLyBJZiB3ZSBjaGFuZ2UgdGhlIGxhbmd1YWdlLCByZWZldGNoIHRoZSByZWFzb24gY29kZXMKICAgICAgaWYgKG5leHRQcm9wcy5jdXJyZW50TG9jYWxlICE9PSB0aGlzLnByb3BzLmN1cnJlbnRMb2NhbGUpIHsKICAgICAgICB0aGlzLnByb3BzLmZldGNoUmVhc29uQ29kZXMoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldFBpY2tQYWdlSXRlbXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBpY2tQYWdlSXRlbXMocmVzcG9uc2UsIHN0YXJ0SW5kZXgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICB2YWx1ZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zdGF0ZS52YWx1ZXMpLCB7fSwgewogICAgICAgICAgcGlja1BhZ2VJdGVtczogdGhpcy5wcm9wcy5pc1BhZ2luYXRlZCA/IF8udW5pcUJ5KF8uY29uY2F0KHRoaXMuc3RhdGUudmFsdWVzLnBpY2tQYWdlSXRlbXMsIF8ubWFwKHBhcnNlUmVzcG9uc2UoZGF0YSksIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tGb3JJbml0aWFsUGlja3NDaGFuZ2VzKGl0ZW0pOwogICAgICAgICAgfSkpLCAncmVxdWlzaXRpb25JdGVtLmlkJykgOiBfLm1hcChwYXJzZVJlc3BvbnNlKGRhdGEpLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNoZWNrRm9ySW5pdGlhbFBpY2tzQ2hhbmdlcyhpdGVtKTsKICAgICAgICAgIH0pCiAgICAgICAgfSksCiAgICAgICAgc29ydGVkOiBmYWxzZQogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW4KICAgICAgICBpZiAoIV8uaXNOdWxsKHN0YXJ0SW5kZXgpICYmIF90aGlzMi5zdGF0ZS52YWx1ZXMucGlja1BhZ2VJdGVtcy5sZW5ndGggIT09IF90aGlzMi5zdGF0ZS50b3RhbENvdW50KSB7CiAgICAgICAgICBfdGhpczIubG9hZE1vcmVSb3dzKHsKICAgICAgICAgICAgc3RhcnRJbmRleDogc3RhcnRJbmRleCArIF90aGlzMi5wcm9wcy5wYWdlU2l6ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmZXRjaEFsbERhdGEiLAogICAgdmFsdWU6CiAgICAvKioKICAgICAqIEZldGNoZXMgYWxsIHJlcXVpcmVkIGRhdGEuCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlRmV0Y2gKICAgICAqIEBwdWJsaWMKICAgICAqLwogICAgZnVuY3Rpb24gZmV0Y2hBbGxEYXRhKGZvcmNlRmV0Y2gpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMucHJvcHMuc2hvd1NwaW5uZXIoKTsKICAgICAgLy8gVE9ETzogV2hlbiBoYXZpbmcgZnVsbCBSZWFjdCwgZmV0Y2ggb25seSBpZiBub3QgZmV0Y2hlZCB5ZXQgb3IgbGFuZ3VhZ2UgY2hhbmdlZAogICAgICB0aGlzLnByb3BzLmZldGNoUmVhc29uQ29kZXMoKTsKICAgICAgdGhpcy5mZXRjaFBpY2tQYWdlRGF0YSgpOwogICAgICBpZiAoIXRoaXMucHJvcHMuaXNQYWdpbmF0ZWQpIHsKICAgICAgICB0aGlzLmZldGNoUGlja1BhZ2VJdGVtcygpOwogICAgICB9IGVsc2UgaWYgKGZvcmNlRmV0Y2gpIHsKICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHZhbHVlczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlLnZhbHVlcyksIHt9LCB7CiAgICAgICAgICAgIHBpY2tQYWdlSXRlbXM6IFtdCiAgICAgICAgICB9KQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5sb2FkTW9yZVJvd3MoewogICAgICAgICAgICBzdGFydEluZGV4OiAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ2hlY2tzIGlmIGFueSBjaGFuZ2VzIGhhcyBiZWVuIG1hZGUgYW5kIGFkanVzdHMgaW5pdGlhbCBwaWNrLgogICAgICogQHBhcmFtIHtvYmplY3R9IHBpY2tQYWdlSXRlbQogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAiY2hlY2tGb3JJbml0aWFsUGlja3NDaGFuZ2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0ZvckluaXRpYWxQaWNrc0NoYW5nZXMocGlja1BhZ2VJdGVtKSB7CiAgICAgIGlmIChwaWNrUGFnZUl0ZW0ucGlja2xpc3RJdGVtcy5sZW5ndGgpIHsKICAgICAgICB2YXIgaW5pdGlhbFBpY2tzID0gW107CiAgICAgICAgXy5mb3JFYWNoKHBpY2tQYWdlSXRlbS5zdWdnZXN0ZWRJdGVtcywgZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHsKICAgICAgICAgIC8vIHNlYXJjaCBpZiBzdWdnZXN0ZWQgcGlja3MgYXJlIGluc2lkZSBwaWNrbGlzdAogICAgICAgICAgLy8gaWYgbm8gLT4gYWRkIHN1Z2dlc3RlZCBwaWNrIGFzIGluaXRpYWwgcGljayAodG8gYmUgY3Jvc3NlZCBvdXQpCiAgICAgICAgICAvLyBpZiB5ZXMgLT4gY29tcGFyZSBxdWFudGl0eVBpY2tlZCBvZiBpdGVtIGluIHBpY2tsaXN0IHdpdGggc3VnZXN0aW9uCiAgICAgICAgICB2YXIgcGljayA9IF8uZmluZChwaWNrUGFnZUl0ZW0ucGlja2xpc3RJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIF8uZ2V0KHN1Z2dlc3Rpb24sICdpbnZlbnRvcnlJdGVtLmlkJykgPT09IF8uZ2V0KGl0ZW0sICdpbnZlbnRvcnlJdGVtLmlkJykgJiYgXy5nZXQoaXRlbSwgJ2JpbkxvY2F0aW9uLmlkJykgPT09IF8uZ2V0KHN1Z2dlc3Rpb24sICdiaW5Mb2NhdGlvbi5pZCcpOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoXy5pc0VtcHR5KHBpY2spIHx8IHBpY2sucXVhbnRpdHlQaWNrZWQgIT09IHN1Z2dlc3Rpb24ucXVhbnRpdHlQaWNrZWQpIHsKICAgICAgICAgICAgaW5pdGlhbFBpY2tzLnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdWdnZXN0aW9uKSwge30sIHsKICAgICAgICAgICAgICBpbml0aWFsOiB0cnVlCiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwaWNrUGFnZUl0ZW0pLCB7fSwgewogICAgICAgICAgcGlja2xpc3RJdGVtczogXy5jb25jYXQoaW5pdGlhbFBpY2tzLCBfLnNvcnRCeShwaWNrUGFnZUl0ZW0ucGlja2xpc3RJdGVtcywgWydiaW5Mb2NhdGlvbi5uYW1lJywgJ2luaXRpYWwnXSkpCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHBpY2tQYWdlSXRlbTsKICAgIH0KCiAgICAvKioKICAgICAqIEZldGNoZXMgNHRoIHN0ZXAgZGF0YSBmcm9tIGN1cnJlbnQgc3RvY2sgbW92ZW1lbnQuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJmZXRjaFBpY2tQYWdlRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hQaWNrUGFnZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3N0b2NrTW92ZW1lbnRzLyIuY29uY2F0KHRoaXMuc3RhdGUudmFsdWVzLnN0b2NrTW92ZW1lbnRJZCwgIj9zdGVwTnVtYmVyPTQiKTsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgdmFyIHRvdGFsQ291bnQgPSByZXNwLmRhdGEudG90YWxDb3VudDsKICAgICAgICB2YXIgYXNzb2NpYXRpb25zID0gcmVzcC5kYXRhLmRhdGEuYXNzb2NpYXRpb25zOwogICAgICAgIHZhciBwcmludFBpY2tzID0gXy5maW5kKGFzc29jaWF0aW9ucy5kb2N1bWVudHMsIGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHJldHVybiBkb2MuZG9jdW1lbnRUeXBlID09PSAnUElDS0xJU1QnICYmIGRvYy51cmkuaW5jbHVkZXMoJ3ByaW50Jyk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsKICAgICAgICAgIHRvdGFsQ291bnQ6IHRvdGFsQ291bnQsCiAgICAgICAgICBwcmludFBpY2tzVXJsOiBwcmludFBpY2tzID8gcHJpbnRQaWNrcy51cmkgOiAnLycsCiAgICAgICAgICBzb3J0ZWQ6IGZhbHNlCiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNC5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICAgIH0pOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmZXRjaFBpY2tQYWdlSXRlbXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoUGlja1BhZ2VJdGVtcygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tNb3ZlbWVudHMvIi5jb25jYXQodGhpcy5zdGF0ZS52YWx1ZXMuc3RvY2tNb3ZlbWVudElkLCAiL3N0b2NrTW92ZW1lbnRJdGVtcz9zdGVwTnVtYmVyPTQiKTsKICAgICAgYXBpQ2xpZW50LmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1LnNldFBpY2tQYWdlSXRlbXMocmVzcG9uc2UsIG51bGwpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmZXRjaEl0ZW1zQWZ0ZXJJbXBvcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoSXRlbXNBZnRlckltcG9ydCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tNb3ZlbWVudHMvIi5jb25jYXQodGhpcy5zdGF0ZS52YWx1ZXMuc3RvY2tNb3ZlbWVudElkLCAiL3N0b2NrTW92ZW1lbnRJdGVtcz9zdGVwTnVtYmVyPTQiKTsKICAgICAgYXBpQ2xpZW50LmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXM2LnNldFN0YXRlKHsKICAgICAgICAgIHZhbHVlczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczYuc3RhdGUudmFsdWVzKSwge30sIHsKICAgICAgICAgICAgcGlja1BhZ2VJdGVtczogXy5tYXAocGFyc2VSZXNwb25zZShkYXRhKSwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmNoZWNrRm9ySW5pdGlhbFBpY2tzQ2hhbmdlcyhpdGVtKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pLAogICAgICAgICAgc29ydGVkOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2FkTW9yZVJvd3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRNb3JlUm93cyhfcmVmMTIpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHZhciBzdGFydEluZGV4ID0gX3JlZjEyLnN0YXJ0SW5kZXg7CiAgICAgIGlmICh0aGlzLnN0YXRlLnRvdGFsQ291bnQpIHsKICAgICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGlzRmlyc3RQYWdlTG9hZGVkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgdmFyIHVybCA9ICIvb3BlbmJveGVzL2FwaS9zdG9ja01vdmVtZW50cy8iLmNvbmNhdCh0aGlzLnN0YXRlLnZhbHVlcy5zdG9ja01vdmVtZW50SWQsICIvc3RvY2tNb3ZlbWVudEl0ZW1zP29mZnNldD0iKS5jb25jYXQoc3RhcnRJbmRleCwgIiZtYXg9IikuY29uY2F0KHRoaXMucHJvcHMucGFnZVNpemUsICImc3RlcE51bWJlcj00Iik7CiAgICAgICAgYXBpQ2xpZW50LmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczcuc2V0UGlja1BhZ2VJdGVtcyhyZXNwb25zZSwgc3RhcnRJbmRleCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1Jvd0xvYWRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNSb3dMb2FkZWQoX3JlZjEzKSB7CiAgICAgIHZhciBpbmRleCA9IF9yZWYxMy5pbmRleDsKICAgICAgcmV0dXJuICEhdGhpcy5zdGF0ZS52YWx1ZXMucGlja1BhZ2VJdGVtc1tpbmRleF07CiAgICB9CiAgfSwgewogICAga2V5OiAiZmV0Y2hBZGp1c3RlZEl0ZW1zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFkanVzdGVkSXRlbXMoYWRqdXN0ZWRQcm9kdWN0Q29kZSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgYXBpQ2xpZW50LnBvc3QoIi9vcGVuYm94ZXMvYXBpL3N0b2NrTW92ZW1lbnRzLyIuY29uY2F0KHRoaXMuc3RhdGUudmFsdWVzLnN0b2NrTW92ZW1lbnRJZCwgIi91cGRhdGVBZGp1c3RlZEl0ZW1zP2FkanVzdGVkUHJvZHVjdD0iKS5jb25jYXQoYWRqdXN0ZWRQcm9kdWN0Q29kZSkpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICB2YXIgcGlja1BhZ2VJdGVtcyA9IHJlc3AuZGF0YS5kYXRhLnBpY2tQYWdlLnBpY2tQYWdlSXRlbXM7CiAgICAgICAgX3RoaXM4LnNldFN0YXRlKHsKICAgICAgICAgIHZhbHVlczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczguc3RhdGUudmFsdWVzKSwge30sIHsKICAgICAgICAgICAgcGlja1BhZ2VJdGVtczogXy5tYXAocGFyc2VSZXNwb25zZShwaWNrUGFnZUl0ZW1zKSwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmNoZWNrRm9ySW5pdGlhbFBpY2tzQ2hhbmdlcyhpdGVtKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pLAogICAgICAgICAgc29ydGVkOiBmYWxzZQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczgucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICB9KTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOC5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRyYW5zaXRpb24gdG8gbmV4dCBzdG9jayBtb3ZlbWVudCBzdGF0dXMgKFBJQ0tFRCkuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJ0cmFuc2l0aW9uVG9OZXh0U3RlcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNpdGlvblRvTmV4dFN0ZXAoKSB7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tNb3ZlbWVudHMvIi5jb25jYXQodGhpcy5zdGF0ZS52YWx1ZXMuc3RvY2tNb3ZlbWVudElkLCAiL3N0YXR1cyIpOwogICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICBzdGF0dXM6ICdQSUNLRUQnCiAgICAgIH07CiAgICAgIGlmICh0aGlzLnN0YXRlLnZhbHVlcy5zdGF0dXNDb2RlICE9PSAnUElDS0VEJyAmJiB0aGlzLnN0YXRlLnZhbHVlcy5zdGF0dXNDb2RlICE9PSAnUEFDS0VEJykgewogICAgICAgIHJldHVybiBhcGlDbGllbnQucG9zdCh1cmwsIHBheWxvYWQpOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZVBpY2tsaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVBpY2tsaXN0KCkgewogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3N0b2NrTW92ZW1lbnRzLyIuY29uY2F0KHRoaXMuc3RhdGUudmFsdWVzLnN0b2NrTW92ZW1lbnRJZCwgIi92YWxpZGF0ZVBpY2tsaXN0Iik7CiAgICAgIHJldHVybiBhcGlDbGllbnQuZ2V0KHVybCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlVmFsaWRhdGlvbkVycm9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVmFsaWRhdGlvbkVycm9ycyhlcnJvcikgewogICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHsKICAgICAgICB2YXIgYWxlcnRNZXNzYWdlID0gXy5qb2luKF8uZ2V0KGVycm9yLCAncmVzcG9uc2UuZGF0YS5lcnJvck1lc3NhZ2VzJywgJycpLCAnICcpOwogICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgYWxlcnRNZXNzYWdlOiBhbGVydE1lc3NhZ2UsCiAgICAgICAgICBzaG93QWxlcnQ6IHRydWUKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9CiAgICAgIHJldHVybiBoYW5kbGVFcnJvcihlcnJvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhdGVSZWFzb25Db2RlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGVSZWFzb25Db2RlcyhsaW5lSXRlbXMpIHsKICAgICAgdmFyIHBpY2tQYWdlSXRlbXMgPSBsaW5lSXRlbXMucGlja1BhZ2VJdGVtczsKICAgICAgdmFyIGludmFsaWRJdGVtID0gXy5maW5kKHBpY2tQYWdlSXRlbXMsIGZ1bmN0aW9uIChwaWNrUGFnZUl0ZW0pIHsKICAgICAgICByZXR1cm4gcGlja1BhZ2VJdGVtLnF1YW50aXR5UmVxdWlyZWQgPiBwaWNrUGFnZUl0ZW0ucXVhbnRpdHlQaWNrZWQgJiYgXy5maW5kKHBpY2tQYWdlSXRlbS5waWNrbGlzdEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuICFpdGVtLnJlYXNvbkNvZGUgJiYgIWl0ZW0uaW5pdGlhbDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGlmIChpbnZhbGlkSXRlbSkgewogICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgc2hvd0FsZXJ0OiB0cnVlLAogICAgICAgICAgYWxlcnRNZXNzYWdlOiAiUHJvZHVjdCAiLmNvbmNhdChpbnZhbGlkSXRlbS5wcm9kdWN0Q29kZSwgIiByZXF1aXJlcyBhIHJlYXNvbiBjb2RlIGZvciB0aGUgcGljayB2YWx1ZS4gXG4gICAgICAgIFBsZWFzZSBhZGQgYSByZWFzb24gY29kZSB0aHJvdWdoIHRoZSBFZGl0IFBpY2suIikKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBHb2VzIHRvIHRoZSBuZXh0IHN0b2NrIG1vdmVtZW50IHN0ZXAuCiAgICAgKiBAcGFyYW0ge29iamVjdH0gZm9ybVZhbHVlcwogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAibmV4dFBhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5leHRQYWdlKGZvcm1WYWx1ZXMpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnZhbGlkYXRlUmVhc29uQ29kZXMoZm9ybVZhbHVlcykpIHsKICAgICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgICAgdGhpcy52YWxpZGF0ZVBpY2tsaXN0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM5LnRyYW5zaXRpb25Ub05leHRTdGVwKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczkucHJvcHMubmV4dFBhZ2UoZm9ybVZhbHVlcyk7CiAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczkucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczkucHJvcHMuaGlkZVNwaW5uZXIoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU2F2ZXMgY2hhbmdlcyBtYWRlIGluIGVkaXQgcGljayBhbmQgdXBkYXRlcyBkYXRhLgogICAgICogQHBhcmFtIHtvYmplY3R9IHBpY2tQYWdlSXRlbQogICAgICogQHB1YmxpYwogICAgICovCiAgfSwgewogICAga2V5OiAidXBkYXRlUGlja1BhZ2VJdGVtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQaWNrUGFnZUl0ZW0ocGlja1BhZ2VJdGVtKSB7CiAgICAgIHZhciBwaWNrUGFnZUl0ZW1JbmRleCA9IF8uZmluZEluZGV4KHRoaXMuc3RhdGUudmFsdWVzLnBpY2tQYWdlSXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF8uZ2V0KGl0ZW0sICdyZXF1aXNpdGlvbkl0ZW0uaWQnKSA9PT0gXy5nZXQocGlja1BhZ2VJdGVtLCAncmVxdWlzaXRpb25JdGVtLmlkJyk7CiAgICAgIH0pOwogICAgICB0aGlzLnNldFN0YXRlKHsKICAgICAgICB2YWx1ZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zdGF0ZS52YWx1ZXMpLCB7fSwgewogICAgICAgICAgcGlja1BhZ2VJdGVtczogdXBkYXRlKHRoaXMuc3RhdGUudmFsdWVzLnBpY2tQYWdlSXRlbXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcGlja1BhZ2VJdGVtSW5kZXgsIHsKICAgICAgICAgICAgJHNldDogdGhpcy5jaGVja0ZvckluaXRpYWxQaWNrc0NoYW5nZXMocGFyc2VSZXNwb25zZShwaWNrUGFnZUl0ZW0pKQogICAgICAgICAgfSkpCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXZlcnRzIHRvIHByZXZpb3VzIHN0YXRlIG9mIHBpY2tzIGZvciByZXF1aXNpdGlvbiBpdGVtCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaXRlbUlkCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJyZXZlcnRVc2VyUGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmV2ZXJ0VXNlclBpY2soaXRlbUlkKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdGhpcy5wcm9wcy5zaG93U3Bpbm5lcigpOwogICAgICB2YXIgY3JlYXRlUGlja2xpc3RVcmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tNb3ZlbWVudEl0ZW1zLyIuY29uY2F0KGl0ZW1JZCwgIi9jcmVhdGVQaWNrbGlzdCIpOwogICAgICB2YXIgaXRlbXNVcmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tNb3ZlbWVudEl0ZW1zLyIuY29uY2F0KGl0ZW1JZCwgIj9zdGVwTnVtYmVyPTQiKTsKICAgICAgYXBpQ2xpZW50LnBvc3QoY3JlYXRlUGlja2xpc3RVcmwpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGFwaUNsaWVudC5nZXQoaXRlbXNVcmwpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHZhciBwaWNrUGFnZUl0ZW0gPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICAgIF90aGlzMTAudXBkYXRlUGlja1BhZ2VJdGVtKHBpY2tQYWdlSXRlbSk7CiAgICAgICAgICBfdGhpczEwLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMC5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICAgIH0pOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMC5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzb3J0QnlCaW5zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzb3J0QnlCaW5zKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CiAgICAgIHZhciBzb3J0ZWQgPSB0aGlzLnN0YXRlLnNvcnRlZDsKICAgICAgdmFyIHNvcnRlZFZhbHVlczsKICAgICAgaWYgKCFzb3J0ZWQpIHsKICAgICAgICBzb3J0ZWRWYWx1ZXMgPSBfLm9yZGVyQnkodGhpcy5zdGF0ZS52YWx1ZXMucGlja1BhZ2VJdGVtcywgWydwaWNrbGlzdEl0ZW1zWzBdLmJpbkxvY2F0aW9uLm5hbWUnXSwgWydhc2MnXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc29ydGVkVmFsdWVzID0gXy5vcmRlckJ5KHRoaXMuc3RhdGUudmFsdWVzLnBpY2tQYWdlSXRlbXMsIFsnc29ydE9yZGVyJ10sIFsnYXNjJ10pOwogICAgICB9CiAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgIHZhbHVlczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlLnZhbHVlcyksIHt9LCB7CiAgICAgICAgICBwaWNrUGFnZUl0ZW1zOiBbXQogICAgICAgIH0pCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMxMS5zZXRTdGF0ZSh7CiAgICAgICAgICB2YWx1ZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMxMS5zdGF0ZS52YWx1ZXMpLCB7fSwgewogICAgICAgICAgICBwaWNrUGFnZUl0ZW1zOiBzb3J0ZWRWYWx1ZXMKICAgICAgICAgIH0pLAogICAgICAgICAgc29ydGVkOiAhX3RoaXMxMS5zdGF0ZS5zb3J0ZWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXhwb3J0VGVtcGxhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydFRlbXBsYXRlKGZvcm1WYWx1ZXMpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwogICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgIHZhciBtb3ZlbWVudE51bWJlciA9IGZvcm1WYWx1ZXMubW92ZW1lbnROdW1iZXIsCiAgICAgICAgc3RvY2tNb3ZlbWVudElkID0gZm9ybVZhbHVlcy5zdG9ja01vdmVtZW50SWQ7CiAgICAgIHZhciB1cmwgPSAiL29wZW5ib3hlcy9hcGkvc3RvY2tNb3ZlbWVudHMvZXhwb3J0UGlja0xpc3RJdGVtcy8iLmNvbmNhdChzdG9ja01vdmVtZW50SWQpOwogICAgICBhcGlDbGllbnQuZ2V0KHVybCwgewogICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgZmlsZURvd25sb2FkKHJlc3BvbnNlLmRhdGEsICJQaWNrTGlzdEl0ZW1zIi5jb25jYXQobW92ZW1lbnROdW1iZXIgPyAiLSIuY29uY2F0KG1vdmVtZW50TnVtYmVyKSA6ICcnLCAiLmNzdiIpLCAndGV4dC9jc3YnKTsKICAgICAgICBfdGhpczEyLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMxMi5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbXBvcnRUZW1wbGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW1wb3J0VGVtcGxhdGUoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwogICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB2YXIgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIHN0b2NrTW92ZW1lbnRJZCA9IHRoaXMuc3RhdGUudmFsdWVzLnN0b2NrTW92ZW1lbnRJZDsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbXBvcnRGaWxlJywgZmlsZS5zbGljZSgwLCBmaWxlLnNpemUsICd0ZXh0L2NzdicpKTsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnY29udGVudC10eXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL3N0b2NrTW92ZW1lbnRzL2ltcG9ydFBpY2tMaXN0SXRlbXMvIi5jb25jYXQoc3RvY2tNb3ZlbWVudElkKTsKICAgICAgcmV0dXJuIGFwaUNsaWVudC5wb3N0KHVybCwgZm9ybURhdGEsIGNvbmZpZykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMy5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICAgIF90aGlzMTMuZmV0Y2hJdGVtc0FmdGVySW1wb3J0KCk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczEzLnByb3BzLmhpZGVTcGlubmVyKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlY3JlYXRlUGlja2xpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlY3JlYXRlUGlja2xpc3QoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKICAgICAgdmFyIHVybCA9ICIvb3BlbmJveGVzL2FwaS9zdG9ja01vdmVtZW50cy9jcmVhdGVQaWNrTGlzdC8iLmNvbmNhdCh0aGlzLnN0YXRlLnZhbHVlcy5zdG9ja01vdmVtZW50SWQpOwogICAgICB0aGlzLnByb3BzLnNob3dTcGlubmVyKCk7CiAgICAgIGFwaUNsaWVudC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMxNC5mZXRjaEFsbERhdGEodHJ1ZSk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMxNC5wcm9wcy5oaWRlU3Bpbm5lcigpOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlZmV0Y2ggdGhlIGRhdGEsIGFsbCBub3Qgc2F2ZWQgY2hhbmdlcyB3aWxsIGJlIGxvc3QuCiAgICAgKiBAcHVibGljCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CiAgICAgIGNvbmZpcm1BbGVydCh7CiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5zdG9ja01vdmVtZW50Lm1lc3NhZ2UuY29uZmlybVJlZnJlc2gubGFiZWwnLCAnQ29uZmlybSByZWZyZXNoJyksCiAgICAgICAgbWVzc2FnZTogdGhpcy5wcm9wcy50cmFuc2xhdGUoJ3JlYWN0LnN0b2NrTW92ZW1lbnQuY29uZmlybVBpY2tSZWZyZXNoLm1lc3NhZ2UnLCAnVGhpcyBidXR0b24gd2lsbCByZWRvIHRoZSBhdXRvcGljayBvbiBhbGwgaXRlbXMuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb250aW51ZT8nKSwKICAgICAgICBidXR0b25zOiBbewogICAgICAgICAgbGFiZWw6IHRoaXMucHJvcHMudHJhbnNsYXRlKCdyZWFjdC5kZWZhdWx0Lnllcy5sYWJlbCcsICdZZXMnKSwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzMTUucmVjcmVhdGVQaWNrbGlzdCgpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiB0aGlzLnByb3BzLnRyYW5zbGF0ZSgncmVhY3QuZGVmYXVsdC5uby5sYWJlbCcsICdObycpCiAgICAgICAgfV0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKICAgICAgdmFyIGl0ZW1GaWx0ZXIgPSB0aGlzLnN0YXRlLml0ZW1GaWx0ZXI7CiAgICAgIHZhciBzaG93T25seSA9IHRoaXMucHJvcHMuc2hvd09ubHk7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtLCB7CiAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcykgewogICAgICAgICAgcmV0dXJuIF90aGlzMTYubmV4dFBhZ2UodmFsdWVzKTsKICAgICAgICB9LAogICAgICAgIG11dGF0b3JzOiBfb2JqZWN0U3ByZWFkKHt9LCBhcnJheU11dGF0b3JzKSwKICAgICAgICBpbml0aWFsVmFsdWVzOiB0aGlzLnN0YXRlLnZhbHVlcywKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmMTQpIHsKICAgICAgICAgIHZhciBoYW5kbGVTdWJtaXQgPSBfcmVmMTQuaGFuZGxlU3VibWl0LAogICAgICAgICAgICB2YWx1ZXMgPSBfcmVmMTQudmFsdWVzOwogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImQtZmxleCBmbGV4LWNvbHVtbiIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFsZXJ0TWVzc2FnZSwgewogICAgICAgICAgICBzaG93OiBfdGhpczE2LnN0YXRlLnNob3dBbGVydCwKICAgICAgICAgICAgbWVzc2FnZTogX3RoaXMxNi5zdGF0ZS5hbGVydE1lc3NhZ2UsCiAgICAgICAgICAgIGRhbmdlcjogdHJ1ZQogICAgICAgICAgfSksICFzaG93T25seSA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJidXR0b25zLWNvbnRhaW5lciIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpbHRlcklucHV0LCB7CiAgICAgICAgICAgIGl0ZW1GaWx0ZXI6IGl0ZW1GaWx0ZXIsCiAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgaXRlbUZpbHRlcjogZS50YXJnZXQudmFsdWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25DbGVhcjogZnVuY3Rpb24gb25DbGVhcigpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpdGVtRmlsdGVyOiAnJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImxhYmVsIiwgewogICAgICAgICAgICBodG1sRm9yOiAiY3N2SW5wdXQiLAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgbWwtMSBidG4teHMiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS1kb3dubG9hZCBwci0yIgogICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLmltcG9ydFRlbXBsYXRlLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJJbXBvcnQgdGVtcGxhdGUiCiAgICAgICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbnB1dCIsIHsKICAgICAgICAgICAgaWQ6ICJjc3ZJbnB1dCIsCiAgICAgICAgICAgIHR5cGU6ICJmaWxlIiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMTYuaW1wb3J0VGVtcGxhdGUsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHsKICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSBudWxsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBhY2NlcHQ6ICIuY3N2IgogICAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5leHBvcnRUZW1wbGF0ZSh2YWx1ZXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgbWwtMSBidG4teHMiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS11cGxvYWQgcHItMiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5leHBvcnRUZW1wbGF0ZS5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXhwb3J0IHRlbXBsYXRlIgogICAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICAgICAgICAgIGhyZWY6ICIiLmNvbmNhdChfdGhpczE2LnN0YXRlLnByaW50UGlja3NVcmwpLmNvbmNhdChfdGhpczE2LnN0YXRlLnNvcnRlZCA/ICc/c29ydGVkPXRydWUnIDogJycpLAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgbWwtMSBidG4teHMiLAogICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiLAogICAgICAgICAgICByZWw6ICJub29wZW5lciBub3JlZmVycmVyIgogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaSIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZmEgZmEtcHJpbnQgcHItMiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5zdG9ja01vdmVtZW50LnByaW50UGlja2xpc3QubGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIlByaW50IHBpY2tsaXN0IgogICAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYucmVmcmVzaCgpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgYnRuLXhzIG1sLTEiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS1yZWZyZXNoIHByLTIiCiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24ucmVmcmVzaC5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUmVsb2FkIgogICAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gIi9vcGVuYm94ZXMvc3RvY2tNb3ZlbWVudC9zaG93LyIuY29uY2F0KHZhbHVlcy5zdG9ja01vdmVtZW50SWQpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgYnRuLXhzIG1sLTEiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS1zaWduLW91dCBwci0yIgogICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLnNhdmVBbmRFeGl0LmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTYXZlIGFuZCBleGl0IgogICAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuc29ydEJ5QmlucygpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWxpZ24tc2VsZi1lbmQgYnRuLXhzIgogICAgICAgICAgfSwgX3RoaXMxNi5zdGF0ZS5zb3J0ZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaSIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZmEgZmEtc29ydCBwci0yIgogICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LnN0b2NrTW92ZW1lbnQub3JpZ2luYWxPcmRlci5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiT3JpZ2luYWwgb3JkZXIiCiAgICAgICAgICB9KSksICFfdGhpczE2LnN0YXRlLnNvcnRlZCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS1zb3J0IHByLTIiCiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3Quc3RvY2tNb3ZlbWVudC5zb3J0QnlCaW5zLmxhYmVsIiwKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTb3J0IGJ5IGJpbnMiCiAgICAgICAgICB9KSkpKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvb3BlbmJveGVzL3N0b2NrTW92ZW1lbnQvbGlzdD9kaXJlY3Rpb249T1VUQk9VTkQnOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjbGFzc05hbWU6ICJmbG9hdC1yaWdodCBtYi0xIGJ0biBidG4tb3V0bGluZS1kYW5nZXIgYWxpZ24tc2VsZi1lbmQgYnRuLXhzIG1yLTIiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJmYSBmYS1zaWduLW91dCBwci0yIgogICAgICAgICAgfSksICIgIiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICAgICAgICAgIGlkOiAicmVhY3QuZGVmYXVsdC5idXR0b24uZXhpdC5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiRXhpdCIKICAgICAgICAgIH0pLCAiICIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImZvcm0iLCB7CiAgICAgICAgICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsCiAgICAgICAgICAgIGNsYXNzTmFtZTogInByaW50LW10IgogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAidGFibGUtZm9ybSIKICAgICAgICAgIH0sIF8ubWFwKEZJRUxEUywgZnVuY3Rpb24gKGZpZWxkQ29uZmlnLCBmaWVsZE5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHJlbmRlckZvcm1GaWVsZChmaWVsZENvbmZpZywgZmllbGROYW1lLCB7CiAgICAgICAgICAgICAgc3RvY2tNb3ZlbWVudElkOiB2YWx1ZXMuc3RvY2tNb3ZlbWVudElkLAogICAgICAgICAgICAgIHVwZGF0ZVBpY2tQYWdlSXRlbTogX3RoaXMxNi51cGRhdGVQaWNrUGFnZUl0ZW0sCiAgICAgICAgICAgICAgZmV0Y2hBZGp1c3RlZEl0ZW1zOiBfdGhpczE2LmZldGNoQWRqdXN0ZWRJdGVtcywKICAgICAgICAgICAgICByZXZlcnRVc2VyUGljazogX3RoaXMxNi5yZXZlcnRVc2VyUGljaywKICAgICAgICAgICAgICBsb2NhdGlvbklkOiBfdGhpczE2LnN0YXRlLnZhbHVlcy5vcmlnaW4uaWQsCiAgICAgICAgICAgICAgcmVhc29uQ29kZXM6IF90aGlzMTYucHJvcHMucmVhc29uQ29kZXMsCiAgICAgICAgICAgICAgdHJhbnNsYXRlOiBfdGhpczE2LnByb3BzLnRyYW5zbGF0ZSwKICAgICAgICAgICAgICBoYXNCaW5Mb2NhdGlvblN1cHBvcnQ6IF90aGlzMTYucHJvcHMuaGFzQmluTG9jYXRpb25TdXBwb3J0LAogICAgICAgICAgICAgIHRvdGFsQ291bnQ6IF90aGlzMTYuc3RhdGUudG90YWxDb3VudCwKICAgICAgICAgICAgICBsb2FkTW9yZVJvd3M6IF90aGlzMTYubG9hZE1vcmVSb3dzLAogICAgICAgICAgICAgIGlzUm93TG9hZGVkOiBfdGhpczE2LmlzUm93TG9hZGVkLAogICAgICAgICAgICAgIGlzUGFnaW5hdGVkOiBfdGhpczE2LnByb3BzLmlzUGFnaW5hdGVkLAogICAgICAgICAgICAgIHNob3dPbmx5OiBzaG93T25seSwKICAgICAgICAgICAgICBpc0ZpcnN0UGFnZUxvYWRlZDogX3RoaXMxNi5zdGF0ZS5pc0ZpcnN0UGFnZUxvYWRlZCwKICAgICAgICAgICAgICBpdGVtRmlsdGVyOiBpdGVtRmlsdGVyCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJkLXByaW50LW5vbmUgc3VibWl0LWJ1dHRvbnMiCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICAgICAgZGlzYWJsZWQ6IHNob3dPbmx5LAogICAgICAgICAgICBjbGFzc05hbWU6ICJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tZm9ybSBidG4teHMiLAogICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LnByb3BzLnByZXZpb3VzUGFnZSh2YWx1ZXMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGUsIHsKICAgICAgICAgICAgaWQ6ICJyZWFjdC5kZWZhdWx0LmJ1dHRvbi5wcmV2aW91cy5sYWJlbCIsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiUHJldmlvdXMiCiAgICAgICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJidXR0b24iLCB7CiAgICAgICAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICAgICAgICBkaXNhYmxlZDogc2hvd09ubHksCiAgICAgICAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi1mb3JtIGZsb2F0LXJpZ2h0IGJ0bi14cyIKICAgICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICAgICAgICBpZDogInJlYWN0LmRlZmF1bHQuYnV0dG9uLm5leHQubGFiZWwiLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIk5leHQiCiAgICAgICAgICB9KSkpKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFBpY2tQYWdlOwp9KENvbXBvbmVudCk7CnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHsKICByZXR1cm4gewogICAgdHJhbnNsYXRlOiB0cmFuc2xhdGVXaXRoRGVmYXVsdE1lc3NhZ2UoZ2V0VHJhbnNsYXRlKHN0YXRlLmxvY2FsaXplKSksCiAgICByZWFzb25Db2Rlczogc3RhdGUucmVhc29uQ29kZXMuZGF0YSwKICAgIHN0b2NrTW92ZW1lbnRUcmFuc2xhdGlvbnNGZXRjaGVkOiBzdGF0ZS5zZXNzaW9uLmZldGNoZWRUcmFuc2xhdGlvbnMuc3RvY2tNb3ZlbWVudCwKICAgIGhhc0JpbkxvY2F0aW9uU3VwcG9ydDogc3RhdGUuc2Vzc2lvbi5jdXJyZW50TG9jYXRpb24uaGFzQmluTG9jYXRpb25TdXBwb3J0LAogICAgaXNQYWdpbmF0ZWQ6IHN0YXRlLnNlc3Npb24uaXNQYWdpbmF0ZWQsCiAgICBwYWdlU2l6ZTogc3RhdGUuc2Vzc2lvbi5wYWdlU2l6ZSwKICAgIGN1cnJlbnRMb2NhbGU6IHN0YXRlLnNlc3Npb24uYWN0aXZlTGFuZ3VhZ2UKICB9Owp9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgewogIHNob3dTcGlubmVyOiBzaG93U3Bpbm5lciwKICBoaWRlU3Bpbm5lcjogaGlkZVNwaW5uZXIsCiAgZmV0Y2hSZWFzb25Db2RlczogZmV0Y2hSZWFzb25Db2Rlcwp9KShQaWNrUGFnZSk7ClBpY2tQYWdlLnByb3BUeXBlcyA9IHsKICAvKiogSW5pdGlhbCBjb21wb25lbnQncyBkYXRhICovCiAgaW5pdGlhbFZhbHVlczogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLAogIC8qKgogICAqIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBmb3JtIGRhdGEgd2hlbiB0aGUgaGFuZGxlU3VibWl0KCkKICAgKiBpcyBmaXJlZCBmcm9tIHdpdGhpbiB0aGUgZm9ybSBjb21wb25lbnQuCiAgICovCiAgbmV4dFBhZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIEZ1bmN0aW9uIHJldHVybmluZyB1c2VyIHRvIHRoZSBwcmV2aW91cyBwYWdlICovCiAgcHJldmlvdXNQYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIC8qKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkYXRhIGlzIGxvYWRpbmcgKi8KICBzaG93U3Bpbm5lcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICAvKiogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZGF0YSBoYXMgbG9hZGVkICovCiAgaGlkZVNwaW5uZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIEZ1bmN0aW9uIGZldGNoaW5nIHJlYXNvbiBjb2RlcyAqLwogIGZldGNoUmVhc29uQ29kZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIEFycmF5IG9mIGF2YWlsYWJsZSByZWFzb24gY29kZXMgKi8KICByZWFzb25Db2RlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHt9KSkuaXNSZXF1aXJlZCwKICBzdG9ja01vdmVtZW50VHJhbnNsYXRpb25zRmV0Y2hlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCwKICB0cmFuc2xhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgLyoqIElzIHRydWUgd2hlbiBjdXJyZW50bHkgc2VsZWN0ZWQgbG9jYXRpb24gc3VwcG9ydHMgYmlucyAqLwogIGhhc0JpbkxvY2F0aW9uU3VwcG9ydDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCwKICAvKiogUmV0dXJuIHRydWUgaWYgcGFnaW5hdGlvbiBpcyBlbmFibGVkICovCiAgaXNQYWdpbmF0ZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsCiAgLyoqIFJldHVybiB0cnVlIGlmIHNob3cgb25seSAqLwogIHNob3dPbmx5OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLAogIHBhZ2VTaXplOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsCiAgY3VycmVudExvY2FsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkCn07"},null]}