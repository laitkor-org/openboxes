{"remainingRequest":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js?presets[]=@babel/react&presets[]=@babel/env!/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js!/opt/MTOBS-BIKASH/src/js/components/dashboard/Dashboard.jsx","dependencies":[{"path":"/opt/MTOBS-BIKASH/src/js/components/dashboard/Dashboard.jsx","mtime":1698037747000},{"path":"/opt/MTOBS-BIKASH/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/MTOBS-BIKASH/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/opt/MTOBS-BIKASH/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCAicHJvdG90eXBlIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgInN0cmluZyIpOyByZXR1cm4gX3R5cGVvZihrZXkpID09PSAic3ltYm9sIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9CmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09ICJvYmplY3QiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8ICJkZWZhdWx0Iik7IGlmIChfdHlwZW9mKHJlcykgIT09ICJvYmplY3QiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpOyB9IHJldHVybiAoaGludCA9PT0gInN0cmluZyIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfQpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyWyJAQGl0ZXJhdG9yIl07IGlmIChudWxsICE9IF9pKSB7IHZhciBfcywgX2UsIF94LCBfciwgX2FyciA9IFtdLCBfbiA9ICEwLCBfZCA9ICExOyB0cnkgeyBpZiAoX3ggPSAoX2kgPSBfaS5jYWxsKGFycikpLm5leHQsIDAgPT09IGkpIHsgaWYgKE9iamVjdChfaSkgIT09IF9pKSByZXR1cm47IF9uID0gITE7IH0gZWxzZSBmb3IgKDsgIShfbiA9IChfcyA9IF94LmNhbGwoX2kpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKSB7IDsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSAhMCwgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgbnVsbCAhPSBfaVsicmV0dXJuIl0gJiYgKF9yID0gX2lbInJldHVybiJdKCksIE9iamVjdChfcikgIT09IF9yKSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gfQpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsKaW1wb3J0IHsgZGVmYXVsdHMgfSBmcm9tICdyZWFjdC1jaGFydGpzLTInOwppbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBTb3J0YWJsZUNvbnRhaW5lciB9IGZyb20gJ3JlYWN0LXNvcnRhYmxlLWhvYyc7CmltcG9ydCB7IGFkZFRvSW5kaWNhdG9ycywgZmV0Y2hDb25maWcsIGZldGNoQ29uZmlnQW5kRGF0YSwgZmV0Y2hJbmRpY2F0b3JzLCByZWxvYWRJbmRpY2F0b3IsIHJlb3JkZXJJbmRpY2F0b3JzLCByZXNldEluZGljYXRvcnMgfSBmcm9tICdhY3Rpb25zJzsKaW1wb3J0IEZpbHRlciBmcm9tICdjb21wb25lbnRzL2Rhc2hib2FyZC9GaWx0ZXInOwppbXBvcnQgR3JhcGhDYXJkIGZyb20gJ2NvbXBvbmVudHMvZGFzaGJvYXJkL0dyYXBoQ2FyZCc7CmltcG9ydCBMb2FkaW5nTnVtYmVycyBmcm9tICdjb21wb25lbnRzL2Rhc2hib2FyZC9Mb2FkaW5nTnVtYmVycyc7CmltcG9ydCBOdW1iZXJDYXJkIGZyb20gJ2NvbXBvbmVudHMvZGFzaGJvYXJkL051bWJlckNhcmQnOwppbXBvcnQgVW5hcmNoaXZlSW5kaWNhdG9ycyBmcm9tICdjb21wb25lbnRzL2Rhc2hib2FyZC9VbmFyY2hpdmVJbmRpY2F0b3JzJzsKaW1wb3J0IGFwaUNsaWVudCBmcm9tICd1dGlscy9hcGlDbGllbnQnOwppbXBvcnQgVHJhbnNsYXRlIGZyb20gJ3V0aWxzL1RyYW5zbGF0ZSc7CmltcG9ydCAncmVhY3QtdGFibGUvcmVhY3QtdGFibGUuY3NzJzsKaW1wb3J0ICdyZWFjdC1jb25maXJtLWFsZXJ0L3NyYy9yZWFjdC1jb25maXJtLWFsZXJ0LmNzcyc7CmltcG9ydCAnY29tcG9uZW50cy9kYXNoYm9hcmQvRGFzaGJvYXJkLnNjc3MnOwovLyBEaXNhYmxlIGNoYXJ0cyBsZWdlbmRzIGJ5IGRlZmF1bHQuCmRlZmF1bHRzLnNjYWxlLnRpY2tzLmJlZ2luQXRaZXJvID0gdHJ1ZTsKCi8vIFRPRE86IE9CUElILTQzODUgUmVmYWN0b3IvU3BsaXQgdGhpcyBmaWxlIGludG8gc2VwYXJhdGUgY29tcG9uZW50cwoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdwp2YXIgU29ydGFibGVDYXJkcyA9IFNvcnRhYmxlQ29udGFpbmVyKGZ1bmN0aW9uIChfcmVmKSB7CiAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsCiAgICBsb2FkSW5kaWNhdG9yID0gX3JlZi5sb2FkSW5kaWNhdG9yLAogICAgYWxsTG9jYXRpb25zID0gX3JlZi5hbGxMb2NhdGlvbnMsCiAgICBwZXJzb25hbERhc2hib2FyZEFjdGl2ZSA9IF9yZWYucGVyc29uYWxEYXNoYm9hcmRBY3RpdmU7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJjYXJkLWNvbXBvbmVudCIKICB9LCBkYXRhLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICByZXR1cm4gdmFsdWUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR3JhcGhDYXJkLCB7CiAgICAgIGtleTogIml0ZW0tIi5jb25jYXQodmFsdWUuaWQpLAogICAgICBpbmRleDogaW5kZXgsCiAgICAgIGNhcmRJZDogdmFsdWUuaWQsCiAgICAgIHdpZGdldElkOiB2YWx1ZS53aWRnZXRJZCwKICAgICAgY2FyZFRpdGxlOiB2YWx1ZS50aXRsZSwKICAgICAgY2FyZFR5cGU6IHZhbHVlLnR5cGUsCiAgICAgIGNhcmRMaW5rOiB2YWx1ZS5saW5rLAogICAgICBjYXJkSW5mbzogdmFsdWUuaW5mbywKICAgICAgZGF0YTogdmFsdWUuZGF0YSwKICAgICAgdGltZUZpbHRlcjogdmFsdWUudGltZUZpbHRlciwKICAgICAgdGltZUxpbWl0OiB2YWx1ZS50aW1lTGltaXQsCiAgICAgIGxvY2F0aW9uRmlsdGVyOiB2YWx1ZS5sb2NhdGlvbkZpbHRlciwKICAgICAgeWVhclR5cGVGaWx0ZXI6IHZhbHVlLnllYXJUeXBlRmlsdGVyLAogICAgICBvcHRpb25zOiB2YWx1ZS5vcHRpb25zLAogICAgICBsb2FkSW5kaWNhdG9yOiBsb2FkSW5kaWNhdG9yLAogICAgICBhbGxMb2NhdGlvbnM6IGFsbExvY2F0aW9ucywKICAgICAgc2l6ZTogdmFsdWUuc2l6ZSwKICAgICAgZGlzYWJsZWQ6ICFwZXJzb25hbERhc2hib2FyZEFjdGl2ZSwKICAgICAgaGlkZURyYWdoYW5kbGU6ICFwZXJzb25hbERhc2hib2FyZEFjdGl2ZQogICAgfSk7CiAgfSkpOwp9KTsKdmFyIFNvcnRhYmxlTnVtYmVyQ2FyZHMgPSBTb3J0YWJsZUNvbnRhaW5lcihmdW5jdGlvbiAoX3JlZjIpIHsKICB2YXIgZGF0YSA9IF9yZWYyLmRhdGEsCiAgICBwZXJzb25hbERhc2hib2FyZEFjdGl2ZSA9IF9yZWYyLnBlcnNvbmFsRGFzaGJvYXJkQWN0aXZlOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAiY2FyZC1jb21wb25lbnQiCiAgfSwgZGF0YS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgcmV0dXJuIHZhbHVlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE51bWJlckNhcmQsIHsKICAgICAga2V5OiAiaXRlbS0iLmNvbmNhdCh2YWx1ZS5pZCksCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgd2lkZ2V0SWQ6IHZhbHVlLndpZGdldElkLAogICAgICBjYXJkVGl0bGU6IHZhbHVlLnRpdGxlLAogICAgICBjYXJkTnVtYmVyVHlwZTogdmFsdWUubnVtYmVyVHlwZSwKICAgICAgY2FyZE51bWJlcjogdmFsdWUubnVtYmVyLAogICAgICBjYXJkU3VidGl0bGU6IHZhbHVlLnN1YnRpdGxlLAogICAgICBjYXJkTGluazogdmFsdWUubGluaywKICAgICAgY2FyZERhdGFUb29sdGlwOiB2YWx1ZS50b29sdGlwRGF0YSwKICAgICAgY2FyZEluZm86IHZhbHVlLmluZm8sCiAgICAgIHNwYXJrbGluZURhdGE6IHZhbHVlLmRhdGEsCiAgICAgIGRpc2FibGVkOiAhcGVyc29uYWxEYXNoYm9hcmRBY3RpdmUsCiAgICAgIGhpZGVEcmFnaGFuZGxlOiAhcGVyc29uYWxEYXNoYm9hcmRBY3RpdmUKICAgIH0pOwogIH0pKTsKfSk7CnZhciBBcmNoaXZlSW5kaWNhdG9yID0gZnVuY3Rpb24gQXJjaGl2ZUluZGljYXRvcihfcmVmMykgewogIHZhciBoaWRlQXJjaGl2ZSA9IF9yZWYzLmhpZGVBcmNoaXZlOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiBoaWRlQXJjaGl2ZSA/ICdhcmNoaXZlLWRpdiBoaWRlLWFyY2hpdmUnIDogJ2FyY2hpdmUtZGl2JwogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICBpZDogInJlYWN0LmRhc2hib2FyZC5hcmNoaXZlLmxhYmVsIiwKICAgIGRlZmF1bHRNZXNzYWdlOiAiQXJjaGl2ZSBpbmRpY2F0b3IiCiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgY2xhc3NOYW1lOiAiZmEgZmEtYXJjaGl2ZSBtbC0yIgogIH0pKSk7Cn07CnZhciBDb25maWd1cmF0aW9uc0xpc3QgPSBmdW5jdGlvbiBDb25maWd1cmF0aW9uc0xpc3QoX3JlZjQpIHsKICB2YXIgY29uZmlncyA9IF9yZWY0LmNvbmZpZ3MsCiAgICBhY3RpdmVDb25maWcgPSBfcmVmNC5hY3RpdmVDb25maWcsCiAgICBsb2FkQ29uZmlnRGF0YSA9IF9yZWY0LmxvYWRDb25maWdEYXRhLAogICAgc2hvd05hdiA9IF9yZWY0LnNob3dOYXYsCiAgICB0b2dnbGVOYXYgPSBfcmVmNC50b2dnbGVOYXYsCiAgICBjb25maWdNb2RpZmllZCA9IF9yZWY0LmNvbmZpZ01vZGlmaWVkLAogICAgdXBkYXRlQ29uZmlnID0gX3JlZjQudXBkYXRlQ29uZmlnOwogIGlmICghY29uZmlncykgewogICAgcmV0dXJuIG51bGw7CiAgfQogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAiY29uZmlncy1sZWZ0LW5hdiAiLmNvbmNhdCghc2hvd05hdiA/ICdoaWRkZW4nIDogJycpCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgIGNsYXNzTmFtZTogInRvZ2dsZS1uYXYiLAogICAgb25DbGljazogdG9nZ2xlTmF2CiAgfSwgc2hvd05hdiA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgY2xhc3NOYW1lOiAiZmEgZmEtY2hldnJvbi1sZWZ0IiwKICAgICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgogIH0pIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICBjbGFzc05hbWU6ICJmYSBmYS1jaGV2cm9uLXJpZ2h0IiwKICAgICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgogIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInVsIiwgewogICAgY2xhc3NOYW1lOiAiY29uZmlncy1saXN0IgogIH0sIE9iamVjdC5lbnRyaWVzKGNvbmZpZ3MpLm1hcChmdW5jdGlvbiAoX3JlZjUpIHsKICAgIHZhciBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY1LCAyKSwKICAgICAga2V5ID0gX3JlZjZbMF0sCiAgICAgIHZhbHVlID0gX3JlZjZbMV07CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImxpIiwgewogICAgICBjbGFzc05hbWU6ICJjb25maWdzLWxpc3QtaXRlbSAiLmNvbmNhdChhY3RpdmVDb25maWcgPT09IGtleSA/ICdhY3RpdmUnIDogJycpLAogICAgICBrZXk6IGtleQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICByZXR1cm4gbG9hZENvbmZpZ0RhdGEoa2V5KTsKICAgICAgfQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICAgIGNsYXNzTmFtZTogImZhIGZhLWJhci1jaGFydCIsCiAgICAgICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgewogICAgICBpZDogInJlYWN0LmRhc2hib2FyZC4iLmNvbmNhdChrZXksICIubGFiZWwiKSwKICAgICAgZGVmYXVsdE1lc3NhZ2U6IHZhbHVlLm5hbWUKICAgIH0pKSk7CiAgfSkpLCBhY3RpdmVDb25maWcgPT09ICdwZXJzb25hbCcgJiYgY29uZmlnTW9kaWZpZWQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAidXBkYXRlLXNlY3Rpb24iCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogImRpdmlzaW9uLWxpbmUiCiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICBjbGFzc05hbWU6ICJmYSBmYS1pbmZvLWNpcmNsZSIsCiAgICAiYXJpYS1oaWRkZW4iOiAidHJ1ZSIKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICBpZDogInJlYWN0LmRhc2hib2FyZC5oYXNCZWVuRWRpdGVkLm1lc3NhZ2UiLAogICAgZGVmYXVsdE1lc3NhZ2U6ICJUaGUgZGFzaGJvYXJkIGxheW91dCBoYXMgYmVlbiBlZGl0ZWQiCiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgb25DbGljazogdXBkYXRlQ29uZmlnCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICBjbGFzc05hbWU6ICJmYSBmYS1mbG9wcHktbyIsCiAgICAiYXJpYS1oaWRkZW4iOiAidHJ1ZSIKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7CiAgICBpZDogInJlYWN0LmRhc2hib2FyZC5zYXZlQ29uZmlndXJhdGlvbi5sYWJlbCIsCiAgICBkZWZhdWx0TWVzc2FnZTogIlNhdmUgY29uZmlndXJhdGlvbiIKICB9KSkpIDogbnVsbCk7Cn07CnZhciBNQUlOX0RBU0hCT0FSRF9DT05GSUcgPSAnbWFpbkRhc2hib2FyZCc7CnZhciBEYXNoYm9hcmQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoRGFzaGJvYXJkLCBfQ29tcG9uZW50KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERhc2hib2FyZCk7CiAgZnVuY3Rpb24gRGFzaGJvYXJkKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGFzaGJvYXJkKTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGF0YUZldGNoZWQiLCBmYWxzZSk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJmZXRjaERhdGEiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdwZXJzb25hbCc7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2Rhc2hib2FyZEtleScsIGNvbmZpZyk7CiAgICAgIF90aGlzLnByb3BzLnJlc2V0SW5kaWNhdG9ycygpOwogICAgICBpZiAoX3RoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnICYmIF90aGlzLnByb3BzLmRhc2hib2FyZENvbmZpZy5kYXNoYm9hcmQpIHsKICAgICAgICBfdGhpcy5wcm9wcy5mZXRjaEluZGljYXRvcnMoX3RoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLCBjb25maWcsIF90aGlzLnByb3BzLmN1cnJlbnRMb2NhdGlvbiwgX3RoaXMucHJvcHMuY3VycmVudFVzZXIpOwogICAgICAgIF90aGlzLmxvYWRQYWdlRmlsdGVycyhjb25maWcpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnByb3BzLmZldGNoQ29uZmlnQW5kRGF0YShfdGhpcy5wcm9wcy5jdXJyZW50TG9jYXRpb24sIGNvbmZpZywgX3RoaXMucHJvcHMuY3VycmVudFVzZXIsCiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGRhc2hib2FyZCAoaWQpIHRvIGZldGNoCiAgICAgICAgX3RoaXMuZ2V0RGFzaGJvYXJkSWRGcm9tUGFyYW1zKCkpOwogICAgICB9CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInVwZGF0ZUNvbmZpZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdpZGdldHMgPSBbXTsKICAgICAgXy5mb3JFYWNoKF90aGlzLnByb3BzLmluZGljYXRvcnNEYXRhLCBmdW5jdGlvbiAod2lkZ2V0RGF0YSwgaW5kZXgpIHsKICAgICAgICB3aWRnZXRzLnB1c2goewogICAgICAgICAgd2lkZ2V0SWQ6IHdpZGdldERhdGEud2lkZ2V0SWQsCiAgICAgICAgICBvcmRlcjogaW5kZXggKyAxCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBfLmZvckVhY2goX3RoaXMucHJvcHMubnVtYmVyRGF0YSwgZnVuY3Rpb24gKHdpZGdldERhdGEsIGluZGV4KSB7CiAgICAgICAgd2lkZ2V0cy5wdXNoKHsKICAgICAgICAgIHdpZGdldElkOiB3aWRnZXREYXRhLndpZGdldElkLAogICAgICAgICAgb3JkZXI6IGluZGV4ICsgMQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIHVybCA9ICcvb3BlbmJveGVzL2FwaS9kYXNoYm9hcmQvY29uZmlnJzsKICAgICAgdmFyIHBheWxvYWQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnByb3BzLmRhc2hib2FyZENvbmZpZy5kYXNoYm9hcmQpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBfdGhpcy5wcm9wcy5hY3RpdmVDb25maWcsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZFtfdGhpcy5wcm9wcy5hY3RpdmVDb25maWddKSwge30sIHsKICAgICAgICB3aWRnZXRzOiB3aWRnZXRzCiAgICAgIH0pKSk7CiAgICAgIGFwaUNsaWVudC5wb3N0KHVybCwgcGF5bG9hZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMucHJvcHMuZmV0Y2hDb25maWcoX3RoaXMuZ2V0RGFzaGJvYXJkSWRGcm9tUGFyYW1zKCkpOwogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGNvbmZpZ01vZGlmaWVkOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAibG9hZEluZGljYXRvciIsIGZ1bmN0aW9uICh3aWRnZXRJZCwgcGFyYW1zKSB7CiAgICAgIHZhciBkYXNoYm9hcmRDb25mID0gX3RoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZFtfdGhpcy5wcm9wcy5hY3RpdmVDb25maWddOwogICAgICB2YXIgd2lkZ2V0ID0gXy5maW5kKGRhc2hib2FyZENvbmYud2lkZ2V0cywgZnVuY3Rpb24gKHcpIHsKICAgICAgICByZXR1cm4gdy53aWRnZXRJZCA9PT0gd2lkZ2V0SWQ7CiAgICAgIH0pOwogICAgICB2YXIgd2lkZ2V0Q29uZiA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZFdpZGdldHNbd2lkZ2V0SWRdKSwgd2lkZ2V0KTsKICAgICAgX3RoaXMucHJvcHMucmVsb2FkSW5kaWNhdG9yKHdpZGdldENvbmYsIHBhcmFtcywgX3RoaXMucHJvcHMuY3VycmVudExvY2F0aW9uKTsKICAgIH0pOwogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidG9nZ2xlTmF2IiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgc2hvd05hdjogIV90aGlzLnN0YXRlLnNob3dOYXYKICAgICAgfSk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNvcnRTdGFydEhhbmRsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzRHJhZ2dpbmc6IHRydWUKICAgICAgfSk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNvcnRFbmRIYW5kbGUiLCBmdW5jdGlvbiAoX3JlZjcsIGUsIHR5cGUpIHsKICAgICAgdmFyIG9sZEluZGV4ID0gX3JlZjcub2xkSW5kZXgsCiAgICAgICAgbmV3SW5kZXggPSBfcmVmNy5uZXdJbmRleDsKICAgICAgdmFyIG1heEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtICg2ICogd2luZG93LmlubmVySGVpZ2h0IC8gMTAwICsgODApOwogICAgICBpZiAoZS5jbGllbnRZID4gbWF4SGVpZ2h0KSB7CiAgICAgICAgZS50YXJnZXQuaWQgPSAnYXJjaGl2ZSc7CiAgICAgIH0KICAgICAgX3RoaXMucHJvcHMucmVvcmRlckluZGljYXRvcnMoewogICAgICAgIG9sZEluZGV4OiBvbGRJbmRleCwKICAgICAgICBuZXdJbmRleDogbmV3SW5kZXgKICAgICAgfSwgZSwgdHlwZSk7CiAgICAgIGlmIChfdGhpcy5wcm9wcy5hY3RpdmVDb25maWcgPT09ICdwZXJzb25hbCcgJiYgKG9sZEluZGV4ICE9PSBuZXdJbmRleCB8fCBlLnRhcmdldC5pZCA9PT0gJ2FyY2hpdmUnKSkgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGNvbmZpZ01vZGlmaWVkOiB0cnVlLAogICAgICAgICAgaXNEcmFnZ2luZzogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNvcnRFbmRIYW5kbGVOdW1iZXIiLCBmdW5jdGlvbiAoX3JlZjgsIGUpIHsKICAgICAgdmFyIG9sZEluZGV4ID0gX3JlZjgub2xkSW5kZXgsCiAgICAgICAgbmV3SW5kZXggPSBfcmVmOC5uZXdJbmRleDsKICAgICAgX3RoaXMuc29ydEVuZEhhbmRsZSh7CiAgICAgICAgb2xkSW5kZXg6IG9sZEluZGV4LAogICAgICAgIG5ld0luZGV4OiBuZXdJbmRleAogICAgICB9LCBlLCAnbnVtYmVyJyk7CiAgICB9KTsKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNvcnRFbmRIYW5kbGVHcmFwaCIsIGZ1bmN0aW9uIChfcmVmOSwgZSkgewogICAgICB2YXIgb2xkSW5kZXggPSBfcmVmOS5vbGRJbmRleCwKICAgICAgICBuZXdJbmRleCA9IF9yZWY5Lm5ld0luZGV4OwogICAgICBfdGhpcy5zb3J0RW5kSGFuZGxlKHsKICAgICAgICBvbGRJbmRleDogb2xkSW5kZXgsCiAgICAgICAgbmV3SW5kZXg6IG5ld0luZGV4CiAgICAgIH0sIGUsICdncmFwaCcpOwogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ1bmFyY2hpdmVIYW5kbGVyIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2l6ZSA9IF8uc2l6ZShfdGhpcy5wcm9wcy5kYXNoYm9hcmRDb25maWcuZGFzaGJvYXJkV2lkZ2V0cykgLSAoX3RoaXMucHJvcHMuaW5kaWNhdG9yc0RhdGEubGVuZ3RoICsgX3RoaXMucHJvcHMubnVtYmVyRGF0YS5sZW5ndGgpOwogICAgICBpZiAoc2l6ZSkgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHNob3dQb3BvdXQ6ICFfdGhpcy5zdGF0ZS5zaG93UG9wb3V0CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgc2hvd1BvcG91dDogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVBZGQiLCBmdW5jdGlvbiAod2lkZ2V0SWQpIHsKICAgICAgdmFyIHdpZGdldCA9IF90aGlzLnByb3BzLmRhc2hib2FyZENvbmZpZy5kYXNoYm9hcmRXaWRnZXRzW3dpZGdldElkXTsKICAgICAgdmFyIHdpZGdldENvbmYgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpZGdldCksIHt9LCB7CiAgICAgICAgd2lkZ2V0SWQ6IHdpZGdldElkLAogICAgICAgIG9yZGVyOiAod2lkZ2V0LnR5cGUgPT09ICdudW1iZXInID8gX3RoaXMucHJvcHMubnVtYmVyRGF0YS5sZW5ndGggOiBfdGhpcy5wcm9wcy5pbmRpY2F0b3JzRGF0YS5sZW5ndGgpICsgMQogICAgICB9KTsKICAgICAgX3RoaXMucHJvcHMuYWRkVG9JbmRpY2F0b3JzKHdpZGdldENvbmYsIF90aGlzLnByb3BzLmN1cnJlbnRMb2NhdGlvbiwgX3RoaXMucHJvcHMuY3VycmVudFVzZXIpOwogICAgICB2YXIgc2l6ZSA9IF8uc2l6ZShfdGhpcy5wcm9wcy5kYXNoYm9hcmRDb25maWcuZGFzaGJvYXJkV2lkZ2V0cykgLSAoX3RoaXMucHJvcHMuaW5kaWNhdG9yc0RhdGEubGVuZ3RoICsgX3RoaXMucHJvcHMubnVtYmVyRGF0YS5sZW5ndGgpOwogICAgICBpZiAoX3RoaXMucHJvcHMuYWN0aXZlQ29uZmlnID09PSAncGVyc29uYWwnKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgY29uZmlnTW9kaWZpZWQ6IHRydWUsCiAgICAgICAgICBzaG93UG9wb3V0OiBzaXplID4gMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHNob3dQb3BvdXQ6IHNpemUgPiAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLAogICAgICBzaG93UG9wb3V0OiBmYWxzZSwKICAgICAgLy8gTm90IHNob3dpbmcgaWYgc2NyZWVuIHRvbyBzbWFsbAogICAgICBzaG93TmF2OiB3aW5kb3cuaW5uZXJXaWR0aCA+IDExMTUsCiAgICAgIGNvbmZpZ01vZGlmaWVkOiBmYWxzZSwKICAgICAgYWxsTG9jYXRpb25zOiBbXSwKICAgICAgcGFnZUZpbHRlcnM6IFtdLAogICAgICBzdWJkYXNoYm9hcmRLZXlzOiBbXQogICAgfTsKICAgIF90aGlzLmZldGNoTG9jYXRpb25zKCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIF9jcmVhdGVDbGFzcyhEYXNoYm9hcmQsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodGhpcy5wcm9wcy5jdXJyZW50TG9jYXRpb24gIT09ICcnKSB7CiAgICAgICAgdGhpcy5nZXRTdWJkYXNoYm9hcmRLZXlzKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLmZldGNoRGF0YShfdGhpczIuZGV0ZXJtaW5lQWN0aXZlQ29uZmlnKCkpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMubG9hZFBhZ2VGaWx0ZXJzKHRoaXMucHJvcHMuYWN0aXZlQ29uZmlnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBwcmV2TG9jYXRpb24gPSBwcmV2UHJvcHMuY3VycmVudExvY2F0aW9uOwogICAgICB2YXIgbmV3TG9jYXRpb24gPSB0aGlzLnByb3BzLmN1cnJlbnRMb2NhdGlvbjsKICAgICAgaWYgKHByZXZMb2NhdGlvbiAhPT0gbmV3TG9jYXRpb24pIHsKICAgICAgICB0aGlzLmdldFN1YmRhc2hib2FyZEtleXMoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuZmV0Y2hEYXRhKF90aGlzMy5kZXRlcm1pbmVBY3RpdmVDb25maWcoKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHByZXZQcm9wcy5kYXNoYm9hcmRDb25maWcuZGFzaGJvYXJkICE9PSB0aGlzLnByb3BzLmRhc2hib2FyZENvbmZpZy5kYXNoYm9hcmQpIHsKICAgICAgICB0aGlzLmxvYWRQYWdlRmlsdGVycyh0aGlzLnByb3BzLmFjdGl2ZUNvbmZpZyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXREYXNoYm9hcmRJZEZyb21QYXJhbXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhc2hib2FyZElkRnJvbVBhcmFtcygpIHsKICAgICAgdmFyIGRhc2hib2FyZElkID0gdGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuY29uZmlnSWQ7CiAgICAgIGlmIChkYXNoYm9hcmRJZCAmJiBkYXNoYm9hcmRJZCAhPT0gJ2luZGV4JykgewogICAgICAgIHJldHVybiBkYXNoYm9hcmRJZDsKICAgICAgfQogICAgICByZXR1cm4gTUFJTl9EQVNIQk9BUkRfQ09ORklHOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFN1YmRhc2hib2FyZEtleXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN1YmRhc2hib2FyZEtleXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgZGFzaGJvYXJkSWQgPSB0aGlzLmdldERhc2hib2FyZElkRnJvbVBhcmFtcygpOwogICAgICB2YXIgdXJsID0gIi9vcGVuYm94ZXMvYXBpL2Rhc2hib2FyZC8iLmNvbmNhdChkYXNoYm9hcmRJZCwgIi9zdWJkYXNoYm9hcmRLZXlzIik7CiAgICAgIHJldHVybiBhcGlDbGllbnQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHN1YmRhc2hib2FyZEtleXMgPSByZXMuZGF0YTsKICAgICAgICBpZiAoc3ViZGFzaGJvYXJkS2V5cykgewogICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsKICAgICAgICAgICAgc3ViZGFzaGJvYXJkS2V5czogc3ViZGFzaGJvYXJkS2V5cwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXRlcm1pbmVBY3RpdmVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVybWluZUFjdGl2ZUNvbmZpZygpIHsKICAgICAgaWYgKHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmNvbmZpZ0lkICYmIHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmNvbmZpZ0lkICE9PSAnaW5kZXgnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMubWF0Y2gucGFyYW1zLmNvbmZpZ0lkOwogICAgICB9CiAgICAgIHZhciBjb25maWdGcm9tU2Vzc2lvblN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkYXNoYm9hcmRLZXknKTsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW4KICAgICAgaWYgKGNvbmZpZ0Zyb21TZXNzaW9uU3RvcmFnZSAmJiB0aGlzLnN0YXRlLnN1YmRhc2hib2FyZEtleXMuaW5jbHVkZXMoY29uZmlnRnJvbVNlc3Npb25TdG9yYWdlKSkgewogICAgICAgIHJldHVybiBjb25maWdGcm9tU2Vzc2lvblN0b3JhZ2U7CiAgICAgIH0KICAgICAgcmV0dXJuICdwZXJzb25hbCc7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9hZFBhZ2VGaWx0ZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkUGFnZUZpbHRlcnMoKSB7CiAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnOwogICAgICB2YXIgcGFnZUZpbHRlcnMgPSBbXTsKICAgICAgaWYgKHRoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZCkgewogICAgICAgIHZhciBhbGxQYWdlcyA9IE9iamVjdC5lbnRyaWVzKHRoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLmRhc2hib2FyZCkubWFwKGZ1bmN0aW9uIChfcmVmMTApIHsKICAgICAgICAgIHZhciBfcmVmMTEgPSBfc2xpY2VkVG9BcnJheShfcmVmMTAsIDIpLAogICAgICAgICAgICBrZXkgPSBfcmVmMTFbMF0sCiAgICAgICAgICAgIHZhbHVlID0gX3JlZjExWzFdOwogICAgICAgICAgcmV0dXJuIFtrZXksIHZhbHVlXTsKICAgICAgICB9KTsKICAgICAgICBhbGxQYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgICB2YXIgZmlsdGVycyA9IE9iamVjdC5lbnRyaWVzKHBhZ2VbMV0uZmlsdGVycykubWFwKGZ1bmN0aW9uIChfcmVmMTIpIHsKICAgICAgICAgICAgdmFyIF9yZWYxMyA9IF9zbGljZWRUb0FycmF5KF9yZWYxMiwgMiksCiAgICAgICAgICAgICAga2V5RmlsdGVyID0gX3JlZjEzWzBdLAogICAgICAgICAgICAgIHZhbHVlRmlsdGVyID0gX3JlZjEzWzFdOwogICAgICAgICAgICB2YXIgZmlsdGVyID0gewogICAgICAgICAgICAgIG5hbWU6IGtleUZpbHRlciwKICAgICAgICAgICAgICBlbmRwb2ludDogdmFsdWVGaWx0ZXIuZW5kcG9pbnQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID4gMCAmJiBwYWdlWzBdID09PSBjb25maWcpIHsKICAgICAgICAgICAgcGFnZUZpbHRlcnMgPSBmaWx0ZXJzOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgIHBhZ2VGaWx0ZXJzOiBwYWdlRmlsdGVycwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmZXRjaExvY2F0aW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hMb2NhdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgdXJsID0gJy9vcGVuYm94ZXMvYXBpL2Rhc2hib2FyZC9maWxsUmF0ZURlc3RpbmF0aW9ucyc7CiAgICAgIHJldHVybiBhcGlDbGllbnQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczUuc2V0U3RhdGUoewogICAgICAgICAgYWxsTG9jYXRpb25zOiByZXNwb25zZS5kYXRhLmRhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICByZXR1cm4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpOwogICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNQZXJzb25hbERhc2hib2FyZEFjdGl2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNQZXJzb25hbERhc2hib2FyZEFjdGl2ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYWN0aXZlQ29uZmlnID09PSAncGVyc29uYWwnOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgaXNQZXJzb25hbERhc2hib2FyZEFjdGl2ZSA9IHRoaXMuaXNQZXJzb25hbERhc2hib2FyZEFjdGl2ZSgpOwogICAgICB2YXIgbnVtYmVyQ2FyZHM7CiAgICAgIGlmICh0aGlzLnByb3BzLm51bWJlckRhdGEubGVuZ3RoKSB7CiAgICAgICAgbnVtYmVyQ2FyZHMgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTb3J0YWJsZU51bWJlckNhcmRzLCB7CiAgICAgICAgICBkYXRhOiB0aGlzLnByb3BzLm51bWJlckRhdGEsCiAgICAgICAgICBvblNvcnRTdGFydDogdGhpcy5zb3J0U3RhcnRIYW5kbGUsCiAgICAgICAgICBvblNvcnRFbmQ6IHRoaXMuc29ydEVuZEhhbmRsZU51bWJlciwKICAgICAgICAgIGF4aXM6ICJ4eSIsCiAgICAgICAgICB1c2VEcmFnSGFuZGxlOiB0cnVlLAogICAgICAgICAgcGVyc29uYWxEYXNoYm9hcmRBY3RpdmU6IGlzUGVyc29uYWxEYXNoYm9hcmRBY3RpdmUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBudW1iZXJDYXJkcyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdOdW1iZXJzLCBudWxsKTsKICAgICAgfQogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJkYXNoYm9hcmQtY29udGFpbmVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb25maWd1cmF0aW9uc0xpc3QsIHsKICAgICAgICBjb25maWdzOiB0aGlzLnByb3BzLmRhc2hib2FyZENvbmZpZy5kYXNoYm9hcmQgfHwge30sCiAgICAgICAgbG9hZENvbmZpZ0RhdGE6IHRoaXMuZmV0Y2hEYXRhLAogICAgICAgIGFjdGl2ZUNvbmZpZzogdGhpcy5wcm9wcy5hY3RpdmVDb25maWcsCiAgICAgICAgc2hvd05hdjogdGhpcy5zdGF0ZS5zaG93TmF2LAogICAgICAgIHRvZ2dsZU5hdjogdGhpcy50b2dnbGVOYXYsCiAgICAgICAgY29uZmlnTW9kaWZpZWQ6IHRoaXMuc3RhdGUuY29uZmlnTW9kaWZpZWQsCiAgICAgICAgdXBkYXRlQ29uZmlnOiB0aGlzLnVwZGF0ZUNvbmZpZwogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJvdmVybGF5ICIuY29uY2F0KHRoaXMuc3RhdGUuc2hvd05hdiA/ICd2aXNpYmxlJyA6ICcnKSwKICAgICAgICByb2xlOiAiYnV0dG9uIiwKICAgICAgICB0YWJJbmRleDogMCwKICAgICAgICBvbkNsaWNrOiB0aGlzLnRvZ2dsZU5hdiwKICAgICAgICBvbktleVByZXNzOiB0aGlzLnRvZ2dsZU5hdgogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJmaWx0ZXItYW5kLWNhcmRzLWNvbnRhaW5lciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsdGVyLCB7CiAgICAgICAgY29uZmlnczogdGhpcy5wcm9wcy5kYXNoYm9hcmRDb25maWcuZGFzaGJvYXJkIHx8IHt9LAogICAgICAgIGFjdGl2ZUNvbmZpZzogdGhpcy5wcm9wcy5hY3RpdmVDb25maWcsCiAgICAgICAgZmV0Y2hEYXRhOiB0aGlzLmZldGNoRGF0YSwKICAgICAgICBwYWdlRmlsdGVyczogdGhpcy5zdGF0ZS5wYWdlRmlsdGVycwogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJjYXJkcy1jb250YWluZXIiCiAgICAgIH0sIG51bWJlckNhcmRzLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTb3J0YWJsZUNhcmRzLCB7CiAgICAgICAgYWxsTG9jYXRpb25zOiB0aGlzLnN0YXRlLmFsbExvY2F0aW9ucywKICAgICAgICBkYXRhOiB0aGlzLnByb3BzLmluZGljYXRvcnNEYXRhLmZpbHRlcihmdW5jdGlvbiAoaW5kaWNhdG9yKSB7CiAgICAgICAgICByZXR1cm4gaW5kaWNhdG9yOwogICAgICAgIH0pLAogICAgICAgIG9uU29ydFN0YXJ0OiB0aGlzLnNvcnRTdGFydEhhbmRsZSwKICAgICAgICBvblNvcnRFbmQ6IHRoaXMuc29ydEVuZEhhbmRsZUdyYXBoLAogICAgICAgIGxvYWRJbmRpY2F0b3I6IHRoaXMubG9hZEluZGljYXRvciwKICAgICAgICBheGlzOiAieHkiLAogICAgICAgIHVzZURyYWdIYW5kbGU6IHRydWUsCiAgICAgICAgcGVyc29uYWxEYXNoYm9hcmRBY3RpdmU6IGlzUGVyc29uYWxEYXNoYm9hcmRBY3RpdmUKICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFyY2hpdmVJbmRpY2F0b3IsIHsKICAgICAgICBoaWRlQXJjaGl2ZTogIXRoaXMuc3RhdGUuaXNEcmFnZ2luZwogICAgICB9KSwgaXNQZXJzb25hbERhc2hib2FyZEFjdGl2ZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChVbmFyY2hpdmVJbmRpY2F0b3JzLCB7CiAgICAgICAgZ3JhcGhEYXRhOiB0aGlzLnByb3BzLmluZGljYXRvcnNEYXRhLAogICAgICAgIG51bWJlckRhdGE6IHRoaXMucHJvcHMubnVtYmVyRGF0YSwKICAgICAgICBkYXNoYm9hcmRDb25maWc6IHRoaXMucHJvcHMuZGFzaGJvYXJkQ29uZmlnLAogICAgICAgIGFjdGl2ZUNvbmZpZzogdGhpcy5wcm9wcy5hY3RpdmVDb25maWcsCiAgICAgICAgc2hvd1BvcG91dDogdGhpcy5zdGF0ZS5zaG93UG9wb3V0LAogICAgICAgIHVuYXJjaGl2ZUhhbmRsZXI6IHRoaXMudW5hcmNoaXZlSGFuZGxlciwKICAgICAgICBoYW5kbGVBZGQ6IHRoaXMuaGFuZGxlQWRkCiAgICAgIH0pKSkpOwogICAgfQogIH1dKTsKICByZXR1cm4gRGFzaGJvYXJkOwp9KENvbXBvbmVudCk7CnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHsKICByZXR1cm4gewogICAgaW5kaWNhdG9yc0RhdGE6IHN0YXRlLmluZGljYXRvcnMuZGF0YSwKICAgIG51bWJlckRhdGE6IHN0YXRlLmluZGljYXRvcnMubnVtYmVyRGF0YSwKICAgIGRhc2hib2FyZENvbmZpZzogc3RhdGUuaW5kaWNhdG9ycy5jb25maWcsCiAgICBhY3RpdmVDb25maWc6IHN0YXRlLmluZGljYXRvcnMuYWN0aXZlQ29uZmlnLAogICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5zZXNzaW9uLmN1cnJlbnRMb2NhdGlvbi5pZCwKICAgIGN1cnJlbnRVc2VyOiBzdGF0ZS5zZXNzaW9uLnVzZXIuaWQKICB9Owp9OwpleHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgewogIGZldGNoSW5kaWNhdG9yczogZmV0Y2hJbmRpY2F0b3JzLAogIHJlbG9hZEluZGljYXRvcjogcmVsb2FkSW5kaWNhdG9yLAogIGFkZFRvSW5kaWNhdG9yczogYWRkVG9JbmRpY2F0b3JzLAogIHJlb3JkZXJJbmRpY2F0b3JzOiByZW9yZGVySW5kaWNhdG9ycywKICByZXNldEluZGljYXRvcnM6IHJlc2V0SW5kaWNhdG9ycywKICBmZXRjaENvbmZpZ0FuZERhdGE6IGZldGNoQ29uZmlnQW5kRGF0YSwKICBmZXRjaENvbmZpZzogZmV0Y2hDb25maWcKfSkoRGFzaGJvYXJkKTsKRGFzaGJvYXJkLmRlZmF1bHRQcm9wcyA9IHsKICBjdXJyZW50TG9jYXRpb246ICcnLAogIGN1cnJlbnRVc2VyOiAnJywKICBpbmRpY2F0b3JzRGF0YTogbnVsbCwKICBudW1iZXJEYXRhOiBbXSwKICBjb25maWdNb2RpZmllZDogZmFsc2UsCiAgbWF0Y2g6IHsKICAgIHBhcmFtczogewogICAgICBjb25maWdJZDogJ3BlcnNvbmFsJwogICAgfQogIH0KfTsKRGFzaGJvYXJkLnByb3BUeXBlcyA9IHsKICBmZXRjaEluZGljYXRvcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgcmVvcmRlckluZGljYXRvcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgaW5kaWNhdG9yc0RhdGE6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7CiAgICBpZDogUHJvcFR5cGVzLm51bWJlcgogIH0pKS5pc1JlcXVpcmVkLAogIG51bWJlckRhdGE6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7CiAgICBpZDogUHJvcFR5cGVzLm51bWJlcgogIH0pKS5pc1JlcXVpcmVkLAogIGRhc2hib2FyZENvbmZpZzogUHJvcFR5cGVzLnNoYXBlKHsKICAgIGRhc2hib2FyZDogUHJvcFR5cGVzLnNoYXBlKHt9KSwKICAgIGRhc2hib2FyZFdpZGdldHM6IFByb3BUeXBlcy5zaGFwZSh7fSkKICB9KS5pc1JlcXVpcmVkLAogIGFjdGl2ZUNvbmZpZzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIGN1cnJlbnRMb2NhdGlvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIGN1cnJlbnRVc2VyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsCiAgYWRkVG9JbmRpY2F0b3JzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIHJlbG9hZEluZGljYXRvcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICByZXNldEluZGljYXRvcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgZmV0Y2hDb25maWdBbmREYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIGZldGNoQ29uZmlnOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIG1hdGNoOiBQcm9wVHlwZXMuc2hhcGUoewogICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoewogICAgICBjb25maWdJZDogUHJvcFR5cGVzLnN0cmluZwogICAgfSkKICB9KQp9OwpBcmNoaXZlSW5kaWNhdG9yLnByb3BUeXBlcyA9IHsKICBoaWRlQXJjaGl2ZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZAp9OwpDb25maWd1cmF0aW9uc0xpc3QucHJvcFR5cGVzID0gewogIGNvbmZpZ3M6IFByb3BUeXBlcy5zaGFwZSh7fSkuaXNSZXF1aXJlZCwKICBhY3RpdmVDb25maWc6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICBsb2FkQ29uZmlnRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBzaG93TmF2OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLAogIHRvZ2dsZU5hdjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICB1cGRhdGVDb25maWc6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgY29uZmlnTW9kaWZpZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQKfTs="},null]}