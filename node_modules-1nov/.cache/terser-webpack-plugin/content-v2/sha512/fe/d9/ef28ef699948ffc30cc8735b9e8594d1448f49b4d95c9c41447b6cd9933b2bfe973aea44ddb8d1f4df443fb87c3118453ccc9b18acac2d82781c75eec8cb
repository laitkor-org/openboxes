{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{860:function(e,t,n){},911:function(e,t,n){\"use strict\";n.r(t);var o=n(0),a=n.n(o),r=n(1),i=n.n(r),s=n(10),c=n(447),l=n(14),u=n(5),f=n(9);n(437),n(860);function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,r=void 0,r=function(e,t){if(\"object\"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||\"default\");if(\"object\"!==p(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(a,\"string\"),\"symbol\"===p(r)?r:String(r)),o)}var a,r}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&(\"object\"===p(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return b(e)}function b(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=[{Header:\"Request Number\",accessor:\"identifier\",headerClassName:\"text-left font-weight-bold px-4 py-3\",className:\"px-4 py-2 btn-link\",Cell:function(e){return a.a.createElement(\"a\",{href:\"/openboxes/stockMovement/show/\".concat(e.original.id)},e.original.identifier)}},{Header:\"Current Status\",accessor:\"shipmentStatus\",headerClassName:\"text-left font-weight-bold px-4 py-3\",className:\"px-4 py-2\",maxWidth:180},{Header:\"Description\",accessor:\"description\",headerClassName:\"text-left font-weight-bold px-4 py-3\",className:\"px-4 py-2 btn-link\",Cell:function(e){return a.a.createElement(\"a\",{href:\"/openboxes/stockMovement/show/\".concat(e.original.id)},e.original.description)}},{Header:\"Fulfiling Depot\",accessor:\"origin.name\",headerClassName:\"text-left font-weight-bold px-4 py-3\",className:\"px-4 py-2\"},{Header:\"Requested By\",accessor:\"requestedBy.name\",headerClassName:\"text-left font-weight-bold px-4 py-3\",className:\"px-4 py-2\"},{Header:\"Date Requested\",accessor:\"dateRequested\",headerClassName:\"text-left font-weight-bold px-4 py-3\",className:\"px-4 py-2\",maxWidth:180}],w=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&m(e,t)}(i,e);var t,n,o,r=h(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(t=r.call(this,e)).state={stockRequests:[],isLoading:!0,pageCount:0},t.fetchStockMovementItems=t.fetchStockMovementItems.bind(b(t)),t}return t=i,(n=[{key:\"componentDidMount\",value:function(){this.props.fetchTranslations(\"\",\"stockMovement\")}},{key:\"componentWillReceiveProps\",value:function(e){this.props.locale&&this.props.locale!==e.locale&&this.props.fetchTranslations(e.locale,\"stockMovement\")}},{key:\"fetchStockMovementItems\",value:function(e,t){var n=this,o={destination:this.props.currentLocation.id,direction:\"INBOUND\",offset:e*t,max:t,sort:\"dateRequested\"};this.setState({isLoading:!0}),u.a.get(\"/openboxes/api/stockMovements\",{params:o}).then((function(e){var o=e.data,a=o.data,r=o.totalCount;n.setState({pageCount:Math.ceil(r/t),stockRequests:a})})).finally((function(){n.setState({isLoading:!1})}))}},{key:\"render\",value:function(){var e=this;return a.a.createElement(\"div\",{className:\"p-3\"},a.a.createElement(\"div\",{className:\"d-flex justify-content-between my-3\"},a.a.createElement(\"h3\",{className:\"font-weight-bold\"},a.a.createElement(f.a,{id:\"react.stockMovement.stockRequests.label\",defaultMessage:\"Stock Requests\"})),a.a.createElement(\"a\",{href:\"/openboxes/stockMovement/createRequest\",className:\"btn btn-primary d-flex justify-content-center align-items-center font-weight-bold\"},a.a.createElement(\"i\",{className:\"fa fa-plus mr-1\"}),a.a.createElement(f.a,{id:\"react.stockMovement.createNewRequest.label\",defaultMessage:\"Create New Request\"}))),a.a.createElement(c.a,{data:this.state.stockRequests,columns:v,defaultPageSize:10,loading:this.state.isLoading,sortable:!1,pages:this.state.pageCount,manual:!0,resizable:!1,className:\"-striped -highlight stock-request-table \",previousText:a.a.createElement(\"i\",{className:\"fa fa-chevron-left\",\"aria-hidden\":\"true\"}),nextText:a.a.createElement(\"i\",{className:\"fa fa-chevron-right\",\"aria-hidden\":\"true\"}),pageText:\"\",onFetchData:function(t){e.fetchStockMovementItems(t.page,t.pageSize)}}))}}])&&d(t.prototype,n),o&&d(t,o),Object.defineProperty(t,\"prototype\",{writable:!1}),i}(o.Component);t.default=Object(s.a)((function(e){return{locale:e.session.activeLanguage,currentLocation:e.session.currentLocation}}),{fetchTranslations:l.y})(w),w.propTypes={fetchTranslations:i.a.func.isRequired,locale:i.a.string.isRequired,currentLocation:i.a.shape({name:i.a.string,id:i.a.string,locationType:i.a.shape({description:i.a.string,locationTypeCode:i.a.string})}).isRequired}}}]);","extractedComments":[]}