{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{362:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return O})),n.d(t,\"a\",(function(){return P}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(448),s=n.n(l),c=n(17),u=n(10),f=n(41),p=n(9);n(245);function d(e){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var b=[\"required\",\"hidden\",\"showError\",\"subtext\",\"tooltip\",\"injectionData\",\"trigger\"],m=[\"filterElement\",\"className\"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==d(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.type;return a.a.createElement(r,g({key:t,fieldName:t,fieldConfig:e},n))},w=function(e){var t=e.renderInput,n=e.attributes,r=n.required,o=n.hidden,i=n.showError,l=n.subtext,c=n.tooltip,u=n.injectionData,d=n.trigger,g=void 0===d?\"click\":d,O=v(n,b),w=e.label,P=e.defaultMessage,j=e.touched,S=e.arrayField,R=e.input,E=e.translate,k=e.meta,x=k.touched,C=k.error,T=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:R.name},O),N=T.filterElement,q=T.className,D=v(T,m),I=[q,N?\"filter-group\":\"mb-0 mx-1 form-group\",r?\"required\":\"\",o?\"d-none\":\"\",(x||j||i)&&C?\"has-error\":\"\"].join(\" \");return S?a.a.createElement(f.Tooltip,{title:E(\"\".concat(C)),disabled:!C||!(x||j),arrow:\"true\",delay:\"150\",duration:\"250\",hideDelay:\"50\"},a.a.createElement(\"div\",{className:I},t(R,D))):a.a.createElement(\"div\",{className:\"\".concat(N?\"\":\"mt-2\",\" \").concat(I)},a.a.createElement(\"div\",{className:\"\".concat(N?\"d-flex flex-wrap flex-1\":\"row\")},\"string\"==typeof w?a.a.createElement(\"label\",{htmlFor:D.id,className:\"\".concat(N?\"\":\"col-md-2 col-7 col-form-label col-form-label-xs text-center  text-md-right\")},w&&a.a.createElement(p.a,{id:w,defaultMessage:P}),D.withTooltip&&a.a.createElement(f.Tooltip,{interactive:\"true\",arrow:\"true\",trigger:g,hideOnClick:\"true\",html:u?s()(E(c,c,u)):E(c,c)},\"Â \",a.a.createElement(\"i\",{className:\"fa fa-question-circle-o text-primary\",\"aria-hidden\":\"true\"}))):a.a.createElement(w,null),a.a.createElement(\"div\",{className:\"form-element-container \".concat(N?\"flex-1 filter-element-container\":\"col-md-4 col-7\")},t(R,D))),a.a.createElement(\"div\",{className:\"row\"},a.a.createElement(\"div\",{className:\"col-md-2 hidden\"}),a.a.createElement(\"div\",{className:\"help-block\",style:{float:\"left\"}},l&&a.a.createElement(\"div\",null,E(l)),C&&(x||j||i)&&a.a.createElement(\"div\",null,E(\"\".concat(C))))))},P=Object(u.a)((function(e){return{translate:Object(p.b)(Object(c.e)(e.localize))}}))(w);w.propTypes={renderInput:i.a.func.isRequired,attributes:i.a.shape({}).isRequired,label:i.a.oneOfType([i.a.string,i.a.func]),defaultMessage:i.a.string,touched:i.a.bool,arrayField:i.a.bool,input:i.a.shape({}).isRequired,meta:i.a.shape({}).isRequired,translate:i.a.func.isRequired},w.defaultProps={touched:!1,arrayField:!1,label:\"\",defaultMessage:\"\"}},367:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(3),i=n.n(o),l=n(1),s=n.n(l),c=n(365),u=n(362);function f(e){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var p=[\"fieldName\",\"fieldConfig\",\"arrayField\",\"fieldValue\",\"fieldRef\",\"focusThis\",\"arrowsNavigation\"];function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if(\"object\"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==f(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===f(t)?t:String(t)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&(\"object\"===f(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return P(e)}function P(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&g(e,t)}(l,e);var t,n,r,o=O(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=o.call(this,e)).state={touched:!1},t.renderInput=t.renderInput.bind(P(t)),t}return t=l,(n=[{key:\"shouldComponentUpdate\",value:function(e,t){return this.state.touched!==t.touched||!i.a.isEqualWith(this.props,e,(function(e,t){if(\"function\"==typeof e||\"function\"==typeof t)return!0}))}},{key:\"renderInput\",value:function(e,t){var n=this,r=m(m({},t),{},{value:e.value,onChange:function(n){t.onChange&&t.onChange(n),e.onChange(n)},onBlur:function(e){n.setState({touched:!0}),t.onBlur&&t.onBlur(e)}});return this.props.renderInput(r)}},{key:\"render\",value:function(){var e=this.props,t=e.fieldName,n=e.fieldConfig,r=n.label,o=n.defaultMessage,i=n.getDynamicAttr,l=n.attributes,s=void 0===l?{}:l,f=e.arrayField,b=e.fieldValue,y=e.fieldRef,h=e.focusThis,v=e.arrowsNavigation,g=d(e,p),O=i?i(m(m({},g),{},{fieldValue:b})):{},w=m(m(m({},s),O),{},{fieldRef:y});if(v){var P=w.focusLeft||g.focusLeft,j=w.focusRight||g.focusRight,S=w.arrowLeft?w.arrowLeft:function(){return!!P&&(g.focusField(g.rowIndex,P),!0)},R=w.arrowRight?w.arrowRight:function(){return!!j&&(g.focusField(g.rowIndex,j),!0)},E=w.arrowUp?w.arrowUp:function(){return g.rowIndex>0&&(g.focusField(g.rowIndex-1,h),!0)},k=w.arrowDown?w.arrowDown:function(){return g.rowIndex<g.rowCount-1&&(g.focusField(g.rowIndex+1,h),!0)},x=w.copyDown?w.copyDown:function(){return g.rowIndex<g.rowCount-1&&(g.copyDown(g.rowIndex+1,h),!0)};w=m(m({},w),{},{arrowLeft:S,arrowRight:R,arrowUp:E,arrowDown:k,copyDown:x})}return a.a.createElement(c.a,{name:t,component:u.a,renderInput:this.renderInput,attributes:w,label:r,defaultMessage:o,touched:this.state.touched,arrayField:f})}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component);t.a=S,S.propTypes={fieldName:s.a.string.isRequired,fieldConfig:s.a.shape({getDynamicAttr:s.a.func}).isRequired,renderInput:s.a.func.isRequired,arrayField:s.a.bool,fieldValue:s.a.oneOfType([s.a.string,s.a.shape({}),s.a.any]),fieldRef:s.a.func,focusThis:s.a.string,arrowsNavigation:s.a.bool},S.defaultProps={arrayField:!1,fieldValue:void 0,fieldRef:null,focusThis:null,arrowsNavigation:!1}},381:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(367),i=n(393);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement(o.a,l({},e,{renderInput:function(e){return a.a.createElement(i.a,l({isFormElement:!0},e))}}))}},382:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(3),i=n.n(o),l=n(1),s=n.n(l),c=n(17),u=n(413),f=n(10),p=n(44),d=n(41),b=n(46),m=n(9),y=(n(245),[\"options\",\"value\",\"multi\",\"delimiter\",\"async\",\"showValueTooltip\",\"showLabelTooltip\",\"clearable\",\"arrowLeft\",\"arrowUp\",\"arrowRight\",\"arrowDown\",\"fieldRef\",\"onTabPress\",\"onEnterPress\",\"customSelectComponents\",\"optionRenderer\",\"classNamePrefix\",\"showSelectedOptionColor\"]);function h(e){return(h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&(\"object\"===h(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return R(e)}function R(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if(\"object\"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==h(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===h(t)?t:String(t)}var q=function(e){var t=e.children,n=e.style,r=e.width;return a.a.createElement(\"div\",{style:C(C({},n),{},{position:\"absolute\",zIndex:9999,width:r,backgroundColor:\"white\",border:\"1px solid hsl(0deg 0% 80%)\"})},t)};q.propTypes={children:s.a.element.isRequired,style:s.a.shape({}).isRequired,width:s.a.string.isRequired};var D=function(e){var t=document.getElementById(\"\".concat(e.selectProps.id,\"-container\"));return a.a.createElement(u.Overlay,{show:!0,placement:\"bottom\",target:t,container:document.getElementById(\"root\")},a.a.createElement(q,{width:t.offsetWidth.toString()},a.a.createElement(\"div\",k({className:\"custom-option\"},e.innerProps),e.selectProps.createNewFromModal&&a.a.createElement(\"div\",{className:\"add-new-button\",onClick:e.selectProps.newOptionModalOpen,onKeyPress:e.selectProps.newOptionModalOpen,role:\"button\",tabIndex:0},a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-plus pr-2\"}),a.a.createElement(m.a,{id:e.selectProps.createNewFromModalLabel,defaultMessage:e.selectProps.defaultMessage}))),e.children)))};D.propTypes={children:s.a.element.isRequired,innerProps:s.a.shape({}).isRequired,selectProps:s.a.shape({id:s.a.string.isRequired,createNewFromModal:s.a.bool.isRequired,newOptionModalOpen:s.a.func.isRequired,createNewFromModalLabel:s.a.string.isRequired,defaultMessage:s.a.string.isRequired}).isRequired};var I=function(e){return a.a.createElement(p.b.Option,e,e.selectProps.optionRenderer?e.selectProps.optionRenderer(e.data):a.a.createElement(\"div\",null,e.data.label))};I.propTypes={data:s.a.shape({label:s.a.string.isRequired}).isRequired,selectProps:s.a.shape({optionRenderer:s.a.func}).isRequired};var M=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&P(e,t)}(l,e);var t,n,r,o=j(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=o.call(this,e)).state={value:void 0===e.initialValue?null:e.initialValue,id:i.a.uniqueId(\"select-id_\"),sortedOptionsByChecked:null},t.handleChange=t.handleChange.bind(R(t)),t.getTooltipHtml=t.getTooltipHtml.bind(R(t)),t.getValueLabel=t.getValueLabel.bind(R(t)),t.mapOptions=t.mapOptions.bind(R(t)),t}return t=l,(n=[{key:\"options\",get:function(){var e=this.mapOptions(this.props.options);if(this.props.nullOption){var t=C(C({},b.r),{},{label:this.props.translate(this.props.nullOptionLabel,this.props.nullOptionDefaultLabel)});e.unshift(t)}return e}},{key:\"getValueLabel\",value:function(){var e,t,n=this,r=this.props,a=r.multi,o=r.value,i=r.labelKey;return o?null!=o&&null!==(e=o.displayNames)&&void 0!==e&&e.default||null!=o&&o.displayName?null==o?void 0:o.name:a?this.props.value.map((function(e){var t,r,a=null!==(t=null==e?void 0:e[i])&&void 0!==t?t:null==e?void 0:e.label;if(a)return a;var o=n.options.find((function(t){return(null==t?void 0:t.id)&&(null==t?void 0:t.id)===(null==e?void 0:e.id)}));return null!==(r=null==o?void 0:o[i])&&void 0!==r?r:null==o?void 0:o.label})).join(\", \"):null!==(t=o.label)&&void 0!==t?t:o.name:\"\"}},{key:\"getTooltipHtml\",value:function(){var e=this.props,t=e.placeholder,n=e.showLabelTooltip,r=e.defaultPlaceholder,o=this.getValueLabel();return n?a.a.createElement(\"div\",{className:\"p-1\"},\"\".concat(this.props.translate(t,null!=r?r:t)).concat(o?\": \".concat(o):\"\")):a.a.createElement(\"div\",{className:\"p-1\"},o)}},{key:\"mapOptions\",value:function(e){var t=this;return i.a.map(e,(function(e){var n=e;return\"string\"==typeof e?{value:e,label:e}:(e.options&&(n.options=t.mapOptions(e.options)),e&&t.props.labelKey&&!e.label&&(n.label=e[t.props.labelKey]),e&&t.props.valueKey&&!e.value&&(n.value=e[t.props.valueKey]),n)}))}},{key:\"handleChange\",value:function(e){null!=e?(this.props.onChange(e),this.setState({value:e})):(this.props.onChange(null),this.setState({value:null}))}},{key:\"sortOptionsByChecked\",value:function(e,t){var n=null!=e&&e.length?e.reduce((function(e,n){return null!=t&&t.some((function(e){return e.id===n.id}))?C(C({},e),{},{checked:[].concat(g(e.checked),[n])}):C(C({},e),{},{unchecked:[].concat(g(e.unchecked),[n])})}),{checked:[],unchecked:[]}):{checked:[],unchecked:[]},r=n.checked,a=n.unchecked;this.setState({sortedOptionsByChecked:[].concat(g(r),g(a))})}},{key:\"render\",value:function(){var e,t,n,r,o=this,l=this.props,s=(l.options,l.value),c=void 0===s?this.state.value:s,u=l.multi,f=void 0!==u&&u,b=l.delimiter,h=void 0===b?\";\":b,g=l.async,O=void 0!==g&&g,w=l.showValueTooltip,P=l.showLabelTooltip,j=l.clearable,S=void 0===j||j,R=l.arrowLeft,E=l.arrowUp,x=l.arrowRight,T=l.arrowDown,N=l.fieldRef,q=l.onTabPress,M=l.onEnterPress,V=l.customSelectComponents,L=l.optionRenderer,A=l.classNamePrefix,_=l.showSelectedOptionColor,F=v(l,y),W=F.formatValue,B=F.className,z=F.showLabel,K=void 0!==z&&z,U=c||null;if(c&&\"string\"==typeof c){var H=i.a.find(this.options,(function(e){return e.value===c}));U={value:c,label:H?H.label:\"\"}}f||(U&&F.valueKey&&!U.value&&(U=C(C({},U),{},{value:U[F.valueKey]})),U&&F.labelKey&&!U.label&&(U=C(C({},U),{},{label:U[F.labelKey]})));var Q,G,Z=O?p.a:p.c;if(F.disabled&&this.props.value&&K){var $=W?W(this.props.value):this.props.value.label?this.props.value.label:this.props.value;return a.a.createElement(\"div\",{id:\"\".concat(this.state.id,\"-container\")},a.a.createElement(d.Tooltip,{html:this.props.value.label,disabled:!w,theme:\"transparent\",delay:\"150\",duration:\"250\",hideDelay:\"50\"},a.a.createElement(\"div\",{title:\"\",className:\"font-size-xs text-truncate \".concat(B)},$)))}return a.a.createElement(\"div\",{id:\"\".concat(this.state.id,\"-container\")},a.a.createElement(d.Tooltip,{html:this.getTooltipHtml(),disabled:(G=o.props.value,!(null!=G&&G.displayName||P||w&&G)),theme:\"transparent\",arrow:\"true\",delay:\"150\",duration:\"250\",hideDelay:\"50\",title:\" \",classes:\"\"},a.a.createElement(Z,k({},F,{placeholder:F.placeholder?a.a.createElement(m.a,{id:F.placeholder,defaultMessage:null!==(Q=F.defaultPlaceholder)&&void 0!==Q?Q:F.placeholder}):null,isDisabled:F.disabled,options:(null===(e=U)||void 0===e?void 0:e.length)&&this.state.sortedOptionsByChecked||this.options,isMulti:f,isClearable:S,title:\"\",delimiter:h,onMenuClose:function(){f&&o.sortOptionsByChecked(o.options,U),o.props.onMenuClose&&o.props.onMenuClose()},value:U,onChange:this.handleChange,components:C(C({},V),{},{Menu:null!==(t=V.Menu)&&void 0!==t?t:D,Option:null!==(n=V.Option)&&void 0!==n?n:I,SingleValue:null!==(r=V.SingleValue)&&void 0!==r?r:function(e){return a.a.createElement(p.b.SingleValue,e,o.props.valueRenderer?o.props.valueRenderer(C(C({},e.data),{},{showSelectedOptionColor:_})):a.a.createElement(\"div\",null,e.data.label))}}),ref:N,classNamePrefix:A,loadingMessage:function(){return o.props.translate(\"react.default.loading.label\",\"Loading...\")},noOptionsMessage:function(){return O?o.props.translate(\"react.default.select.noResultsFound.label\",\"No results found\"):o.props.translate(\"react.default.select.typeToSearch.label\",\"Type to search\")},onKeyDown:function(e){switch(e.keyCode){case 37:R&&(R(),e.preventDefault(),e.stopPropagation());break;case 38:E&&(E(),e.preventDefault(),e.stopPropagation());break;case 39:x&&(x(),e.preventDefault(),e.stopPropagation());break;case 40:T&&(T(),e.preventDefault(),e.stopPropagation());break;case 9:q&&q(e);break;case 13:M&&M(e)}},name:this.state.id,id:this.state.id,optionRenderer:L}))))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component);t.a=Object(f.a)((function(e){return{translate:Object(m.b)(Object(c.e)(e.localize))}}))(M),M.propTypes={options:s.a.arrayOf(s.a.oneOfType([s.a.string,s.a.shape({})])).isRequired,value:s.a.oneOfType([s.a.string,s.a.shape({}),s.a.any]),onChange:s.a.func,onMenuClose:s.a.func,multi:s.a.bool,clearable:s.a.bool,async:s.a.bool,delimiter:s.a.string,showValueTooltip:s.a.bool,showLabelTooltip:s.a.bool,placeholder:s.a.string,initialValue:s.a.oneOfType([s.a.string,s.a.shape({}),s.a.any]),arrowLeft:s.a.func,arrowUp:s.a.func,arrowRight:s.a.func,arrowDown:s.a.func,fieldRef:s.a.func,onTabPress:s.a.func,onEnterPress:s.a.func,optionRenderer:s.a.func,valueRenderer:s.a.func,customSelectComponents:s.a.shape({}),classNamePrefix:s.a.string,translate:s.a.func.isRequired,defaultPlaceholder:s.a.string,showSelectedOptionColor:s.a.bool,labelKey:s.a.string,valueKey:s.a.string,nullOption:s.a.bool,nullOptionLabel:s.a.string,nullOptionDefaultLabel:s.a.string},M.defaultProps={value:void 0,onChange:null,onMenuClose:null,multi:!1,clearable:!0,async:!1,delimiter:\";\",placeholder:\"\",defaultPlaceholder:\"\",initialValue:null,showValueTooltip:!1,showLabelTooltip:!1,arrowLeft:null,arrowUp:null,arrowRight:null,arrowDown:null,fieldRef:null,onTabPress:null,onEnterPress:null,optionRenderer:null,valueRenderer:null,showSelectedOptionColor:!1,customSelectComponents:{},classNamePrefix:\"react-select\",labelKey:null,valueKey:null,nullOption:!1,nullOptionLabel:\"\",nullOptionDefaultLabel:\"null\"}},388:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(445),s=n(3),c=n.n(s),u=n(17),f=n(10),p=n(41),d=n(446),b=n(520),m=n(414),y=n(9);function h(e){return(h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function P(e){var t=function(e,t){if(\"object\"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==h(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===h(t)?t:String(t)}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var a=k(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&(\"object\"===h(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return E(e)}function E(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&j(e,t)}(i,e);var t,n,r,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(t=o.call(this,e)).rowRenderer=t.rowRenderer.bind(E(t)),t.getRowHeight=t.getRowHeight.bind(E(t)),t.bindListRef=t.bindListRef.bind(E(t)),t.getHeight=t.getHeight.bind(E(t)),t}return t=i,(n=[{key:\"componentDidUpdate\",value:function(){this.list&&this.list.recomputeRowHeights()}},{key:\"getHeight\",value:function(){var e=this.props,t=e.fieldsConfig,n=t.subfieldKey,r=t.getDynamicRowAttr,a=e.fields,o=e.properties,i=0,l=window.innerHeight<900?.35*window.innerHeight:.4*window.innerHeight;return n?c.a.forEach(a.value,(function(e){var t=r?r(g(g({},o),{},{rowValues:e})):{},a=e[n];t.hideRow||(i?i+28*(a.length+1)>l?i=l:i+=28*(a.length+1):i=28*(a.length+1))})):i=a.value.reduce((function(e,t){return(r?r(g(g({},o),{},{rowValues:t})):{}).hideRow||e>l?e:e+28}),i),i||28}},{key:\"getRowHeight\",value:function(e){var t,n=e.index,r=this.props,a=r.fieldsConfig,o=a.subfieldKey,i=a.getDynamicRowAttr,l=r.fields,s=r.properties,c=null==l||null===(t=l.value)||void 0===t?void 0:t[n],u=i&&c?i(g(g({},s),{},{index:n,rowValues:c})):{};if(u.hideRow)return 0;if(!o)return 28;var f=c?c[o]:null;return f?u.hideSubfields?28:28*(f.length+1):28}},{key:\"rowRenderer\",value:function(e){var t=e.key,n=e.index,r=e.style,o=this.props,i=o.fieldsConfig,l=o.properties,s=o.fields,c=o.tableRef,u=void 0===c?function(){}:c,f=o.addRow,p=void 0===f?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.push(e)}:f,d=\"\".concat(s.name,\"[\").concat(n,\"]\"),b=i.rowComponent||m.a,y=l.totalCount;return s.value[n]?(i.getDynamicRowAttr?i.getDynamicRowAttr(g(g({},l),{},{rowValues:s.value[n]})):{}).hideRow?null:a.a.createElement(\"div\",{key:t,style:r},a.a.createElement(b,{field:d,index:n,properties:g(g({},l),{},{rowCount:y}),addRow:p,fieldsConfig:i,removeRow:function(){return s.remove(n)},rowValues:s.value[n],rowRef:function(e,t){return u(e,t,n)}})):a.a.createElement(\"div\",{key:t,style:r},this.props.translate(\"react.default.loading.label\",\"Loading...\"))}},{key:\"bindListRef\",value:function(e){this.list=e}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.properties,r=t.pageSize,o=n.totalCount,i=n.loadMoreRows,l=n.isRowLoaded,s=n.isFirstPageLoaded?function(){}:i;return a.a.createElement(\"div\",null,a.a.createElement(b.b,{loadMoreRows:s,isRowLoaded:l,rowCount:o,minimumBatchSize:r},(function(t){var r=t.onRowsRendered;return a.a.createElement(b.a,{disableHeight:!0},(function(t){var i=t.width;return a.a.createElement(b.c,{ref:e.bindListRef,height:e.getHeight(),onRowsRendered:r,rowCount:o,rowHeight:e.getRowHeight,rowRenderer:e.rowRenderer,width:i,props:n})}))})))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),i}(r.Component),C=Object(f.a)((function(e){return{pageSize:e.session.pageSize,translate:Object(y.b)(Object(u.e)(e.localize))}}),{})(x);x.propTypes={fieldsConfig:i.a.shape({getDynamicAttr:i.a.func}).isRequired,fields:i.a.oneOfType([i.a.shape({}),i.a.arrayOf(i.a.shape({}))]).isRequired,properties:i.a.shape({}).isRequired,addRow:i.a.func,tableRef:i.a.func,pageSize:i.a.number.isRequired,translate:i.a.func.isRequired},x.defaultProps={addRow:void 0,tableRef:void 0};n(245);function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return(I=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function V(e){var t=function(e,t){if(\"object\"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==I(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===I(t)?t:String(t)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&(\"object\"===I(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return F(e)}function F(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&L(e,t)}(i,e);var t,n,r,o=A(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(t=o.call(this,e)).fieldRefs=[],t.focusField=t.focusField.bind(F(t)),t.copyDown=t.copyDown.bind(F(t)),t}return t=i,(n=[{key:\"focusField\",value:function(e,t){var n=c.a.get(this.fieldRefs,\"[\".concat(e,\"].\").concat(t)),r=c.a.get(this.fieldRefs,\"[\".concat(e-8>0?e-8:0,\"].\").concat(t));n&&(n.focus(),r&&r.scrollIntoView())}},{key:\"copyDown\",value:function(e,t){var n=c.a.get(this.fieldRefs,\"[\".concat(e,\"].\").concat(t)),r=c.a.get(this.fieldRefs,\"[\".concat(e-15>0?e-15:0,\"].\").concat(t)),a=c.a.get(this.fieldRefs,\"[\".concat(e-1,\"].\").concat(t,\".value\"));n&&a&&!n.disabled&&(n.value=a,n.focus(),r&&r.scrollIntoView())}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.fieldsConfig,r=t.properties,o=t.fields,i=t.isPaginated,l=n.addButton,s=n.maxTableHeight,u=n.virtualized,f=n.overflowStyle,b=void 0===f?\"scroll\":f,m=n.showRowSaveIndicator,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===t){var r=document.querySelectorAll('[role=\"rowgroup\"]')[0];r&&n&&r.scrollIntoView({block:\"end\"}),o.push(e)}else\"object\"===I(o)?o.insert(t+1,e):o.splice(t+1,0,e)},v=u&&i?C:d.a;return a.a.createElement(\"div\",{className:\"d-flex flex-column\"},n.headerGroupings&&a.a.createElement(\"div\",{className:\"text-center border table-additional-header\"},a.a.createElement(\"div\",{className:\"d-flex flex-row border-bottom font-weight-bold\"},c.a.map(n.headerGroupings,(function(e,t){return a.a.createElement(\"div\",{className:\"text-truncate font-size-xs\",key:t,style:{flex:e.fixedWidth?\"0 1 \".concat(e.fixedWidth):\"\".concat(e.flexWidth||\"12\",\" 1 0\"),minWidth:0,textAlign:e.headerAlign?e.headerAlign:\"center\"}},e.label&&a.a.createElement(\"span\",{className:\"w-100 mx-1\"},a.a.createElement(y.a,{id:e.label,defaultMessage:e.defaultLabel})))})))),a.a.createElement(\"div\",{className:\"text-center border table-header\"},a.a.createElement(\"div\",{className:\"d-flex flex-row border-bottom font-weight-bold\"},c.a.map(n.fields,(function(t,o){var i=t.getDynamicAttr?t.getDynamicAttr(r):{},l=i.hide,s=i.headerHtml,c=i.flexWidth||t.flexWidth,u=i.fixedWidth||t.fixedWidth;return l?null:a.a.createElement(\"div\",{key:o,className:\"\".concat(t.headerClassName?t.headerClassName:\"\"),style:{flex:u?\"0 1 \".concat(u):\"\".concat(c||\"12\",\" 1 0\"),minWidth:0,textAlign:t.headerAlign?t.headerAlign:\"center\"}},a.a.createElement(p.Tooltip,{html:t.headerTooltip?a.a.createElement(\"div\",null,e.props.translate(t.headerTooltip,t.headerDefaultTooltip)):t.label&&a.a.createElement(\"div\",null,e.props.translate(t.label,t.defaultMessage)),theme:\"transparent\",arrow:\"true\",delay:\"150\",duration:\"250\",hideDelay:\"50\"},a.a.createElement(\"div\",{className:\"mx-2 text-truncate \".concat(t.required?\"arrayfield-header-required\":\"\"),style:{fontSize:n.headerFontSize?n.headerFontSize:\"0.875rem\"}},s&&s(),t.label&&!s&&a.a.createElement(y.a,{id:t.label,defaultMessage:t.defaultMessage}))))})))),a.a.createElement(\"div\",{className:\"text-center border mb-1 flex-grow-1 table-content\",style:{overflowY:u&&i?\"hidden\":b,maxHeight:s}},a.a.createElement(v,{fields:o,properties:q(q({},r),{},{focusField:this.focusField,copyDown:this.copyDown,showRowSaveIndicator:m}),addRow:h,fieldsConfig:n,tableRef:function(t,n,r){e.fieldRefs[r]||(e.fieldRefs[r]={}),e.fieldRefs[r][n]=t}})),l&&a.a.createElement(\"div\",{className:\"text-center add-button\"},\"string\"==typeof l?a.a.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-success btn-xs\",onClick:function(){return h()}},a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-plus pr-2\"}),a.a.createElement(y.a,{id:l}))):a.a.createElement(l,T({},r,{addRow:h}))))}}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),i}(r.Component);B.propTypes={fieldsConfig:i.a.shape({}).isRequired,fields:i.a.oneOfType([i.a.shape({}),i.a.arrayOf(i.a.shape({}))]).isRequired,properties:i.a.shape({}),translate:i.a.func.isRequired,isPaginated:i.a.bool.isRequired},B.defaultProps={properties:{}};var z=Object(f.a)((function(e){return{translate:Object(y.b)(Object(u.e)(e.localize)),isPaginated:e.session.isPaginated}}))(B),K=[\"fieldName\",\"fieldConfig\"];function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var H=function(e){var t=e.fieldName,n=e.fieldConfig,r=U(e,K);return a.a.createElement(l.a,{key:t,name:t,component:z,fieldsConfig:n,properties:r})};t.a=H;H.propTypes={fieldName:i.a.string.isRequired,fieldConfig:i.a.shape({getDynamicAttr:i.a.func,fields:i.a.shape({})}).isRequired}},391:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(365),s=n(41),c=n(9),u=(n(245),[\"formatValue\",\"color\",\"tooltipValue\",\"showValueTooltip\",\"url\",\"numberField\"]);function f(e){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==f(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t=e.fieldName,n=e.arrayField,r=e.fieldValue,o=e.fieldConfig,f=o.attributes,b=o.getDynamicAttr,y=o.label,h=o.defaultMessage,v=b?b(e):{},g=m(m({},f),v),O=g.formatValue,w=g.color,P=g.tooltipValue,j=g.showValueTooltip,S=g.url,R=g.numberField,E=d(g,u),k=\"text-truncate \".concat(E.className?E.className:\"\",\" \").concat(R?\"text-right mr-2\":\"\");E.cellClassName&&delete E.cellClassName;var x=function(e){var t=e.input.value;return a.a.createElement(\"div\",{className:\"form-group my-0\"},a.a.createElement(\"div\",{className:\"row\"},\"string\"==typeof y?a.a.createElement(\"label\",{htmlFor:g.id,className:\"col-md-2 col-form-label col-form-label-xs text-right\"},a.a.createElement(c.a,{id:y,defaultMessage:h})):a.a.createElement(y,null),a.a.createElement(\"div\",{className:\"col-md-4 align-self-center\"},a.a.createElement(\"span\",E,O?O(t):t))))};if(x.propTypes={input:i.a.shape({}).isRequired},n){var C=O?O(r):r;return a.a.createElement(\"div\",{className:\"form-group my-0\"},a.a.createElement(s.Tooltip,{html:P||a.a.createElement(\"div\",{className:\"text-truncate\"},C),disabled:!j,theme:\"dark\",delay:\"150\",duration:\"250\",hideDelay:\"50\",arrow:!0},S?a.a.createElement(\"div\",p({},E,{className:\"font-size-xs \".concat(k)}),a.a.createElement(\"a\",{href:S,target:\"_blank\",rel:\"noopener noreferrer\"},a.a.createElement(\"span\",null,C))):a.a.createElement(\"div\",p({style:{color:w}},E,{className:\"font-size-xs \".concat(k)}),C)))}return a.a.createElement(l.a,{name:t,component:x})};t.a=h,h.propTypes={fieldName:i.a.string.isRequired,fieldConfig:i.a.shape({getDynamicAttr:i.a.func}).isRequired,arrayField:i.a.bool,fieldValue:i.a.oneOfType([i.a.string,i.a.shape({}),i.a.any]),numberField:i.a.bool},h.defaultProps={arrayField:!1,fieldValue:null,numberField:!1}},393:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=[\"fieldRef\",\"onChange\",\"className\",\"arrowLeft\",\"arrowUp\",\"arrowRight\",\"arrowDown\",\"copyDown\",\"onTabPress\",\"isFormElement\"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=function(e){var t=e.fieldRef,n=e.onChange,r=e.className,o=void 0===r?\"\":r,i=e.arrowLeft,u=e.arrowUp,f=e.arrowRight,p=e.arrowDown,d=e.copyDown,b=e.onTabPress,m=e.isFormElement,y=c(e,l),h={};return a.a.createElement(\"input\",s({\"data-testid\":\"input\",type:\"text\",ref:t,onKeyPress:function(e){13===e.which&&e.preventDefault()},onKeyDown:function(e){h[e.keyCode]=!0,h[40]&&h[17]?d&&(d(),e.preventDefault()):h[37]?i&&(i(),e.preventDefault()):h[38]?u&&(u(),e.preventDefault()):h[39]?f&&(f(),e.preventDefault()):h[40]?p&&(p(),e.preventDefault()):h[9]&&b&&b(e)},onKeyUp:function(e){h={};var t=e.target.value;n(t)},className:\"\".concat(m?\"form-control form-control-xs\":\"\",\" \").concat(o,\" \").concat(\"number\"===y.type?\"text-right mr-2\":\"\")},y,{onChange:function(e){var t=e.target.value;return n&&n(t),e},onFocus:function(e){return e.target.select()},onDragStart:function(e){e.preventDefault()},onWheel:function(){return document.activeElement.blur()}}))};t.a=u,u.propTypes={onChange:i.a.func,className:i.a.string,arrowLeft:i.a.func,arrowUp:i.a.func,arrowRight:i.a.func,arrowDown:i.a.func,copyDown:i.a.func,fieldRef:i.a.func,onTabPress:i.a.func,isFormElement:i.a.bool},u.defaultProps={onChange:null,className:\"\",arrowLeft:null,arrowUp:null,arrowRight:null,arrowDown:null,copyDown:null,fieldRef:null,onTabPress:null,isFormElement:!1}},414:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(3),i=n.n(o),l=n(1),s=n.n(l),c=n(41),u=n(362),f=n(449),p=function(e){var t=e.lineItemSaveStatus;return a.a.createElement(\"div\",{className:\"\".concat(null==t?void 0:t.toLowerCase(),\" line-item-save-indicator\")})},d=p;function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function w(e){var t=function(e,t){if(\"object\"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==b(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===b(t)?t:String(t)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&(\"object\"===b(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}p.propTypes={lineItemSaveStatus:s.a.string},p.defaultProps={lineItemSaveStatus:f.a.SAVED};var E=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&P(e,t)}(l,e);var t,n,r,o=j(l);function l(){return g(this,l),o.apply(this,arguments)}return t=l,(n=[{key:\"shouldComponentUpdate\",value:function(e){return!i.a.isEqualWith(this.props,e,(function(e,t){if(\"function\"==typeof e||\"function\"==typeof t)return!0}))}},{key:\"rowRender\",value:function(e,t,n,r,o,l,s,c,f){return i.a.map(t.fields,(function(p,d){var b=p.getDynamicAttr?p.getDynamicAttr(e):{},m=p.attributes,y=b.hide,v=b.flexWidth||p.flexWidth,g=b.fixedWidth||p.fixedWidth;return y?null:a.a.createElement(\"div\",{key:\"\".concat(r,\".\").concat(d),className:\"align-self-center \".concat(m&&m.cellClassName?m.cellClassName:\"\"),style:{flex:g?\"0 1 \".concat(g):\"\".concat(v||\"12\",\" 1 0\"),minWidth:0}},Object(u.b)(p,\"\".concat(r,\".\").concat(d),h(h({},e),{},{arrayField:!0,arrowsNavigation:t.arrowsNavigation,focusLeft:n[d].left,focusRight:n[d].right,focusThis:d,addRow:o,removeRow:l,rowIndex:s,fieldValue:\"\"===p.fieldKey?c:i.a.get(c,p.fieldKey||d),fieldRef:function(e){return f(e,d)}})))}))}},{key:\"render\",value:function(){var e=this.props,t=e.fieldsConfig,n=e.index,r=e.field,o=e.addRow,l=e.properties,s=e.removeRow,u=e.rowValues,f=void 0===u?{}:u,p=e.rowRef,b=void 0===p?function(){}:p,y=i.a.keys(t.fields),v={};i.a.forEach(y,(function(e,t){v[e]={left:t>0?y[t-1]:null,right:t<y.length-1?y[t+1]:null}}));var g=t.getDynamicRowAttr?t.getDynamicRowAttr(h(h({},l),{},{index:n,rowValues:f})):{},O=i.a.isNil(l.parentIndex)?n:l.parentIndex,w=\"table-row \".concat(O%2==0?\"even-row\":\"\",\" \").concat(g.className?g.className:\"\"),P=g.tooltip?g.tooltip:null;return g.hideRow?null:a.a.createElement(\"div\",m({},g,{className:w}),P&&a.a.createElement(c.Tooltip,{title:P,theme:\"transparent\",delay:\"150\",duration:\"250\",hideDelay:\"50\"},a.a.createElement(\"div\",{className:\"d-flex flex-row border-bottom table-inner-row\"},l.isAutosaveEnabled&&a.a.createElement(d,{lineItemSaveStatus:f.rowSaveStatus}),this.rowRender(l,t,v,r,o,s,n,f,b))),!P&&a.a.createElement(\"div\",{className:\"d-flex flex-row border-bottom table-inner-row\"},l.isAutosaveEnabled&&a.a.createElement(d,{lineItemSaveStatus:f.rowSaveStatus}),this.rowRender(l,t,v,r,o,s,n,f,b)))}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component);t.a=E;E.propTypes={fieldsConfig:s.a.shape({getDynamicAttr:s.a.func}).isRequired,index:s.a.number.isRequired,field:s.a.string.isRequired,addRow:s.a.func.isRequired,removeRow:s.a.func.isRequired,properties:s.a.shape({}).isRequired,rowValues:s.a.shape({}),rowRef:s.a.func},E.defaultProps={rowValues:{},rowRef:void 0}},439:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(10);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){var t=e.pageList[e.currentPage-1];return a.a.createElement(\"div\",{className:\"panel-body m-4\",\"data-testid\":\"wizardPage\"},a.a.createElement(t,s({initialValues:e.initialValues,nextPage:e.nextPage,previousPage:e.prevPage,goToPage:e.goToPage},e.additionalProps)))},u=c;c.propTypes={pageList:i.a.arrayOf(i.a.func).isRequired,nextPage:i.a.func.isRequired,prevPage:i.a.func.isRequired,goToPage:i.a.func.isRequired,currentPage:i.a.number.isRequired,initialValues:i.a.shape({}),additionalProps:i.a.shape({})},c.defaultProps={initialValues:{},additionalProps:{}};var f=n(3),p=n.n(f),d=(n(441),function(e){return a.a.createElement(\"div\",{className:\"steps-main-box\"},a.a.createElement(\"div\",{className:\"steps-inside-wrapper\"},p.a.map(e.steps,(function(t,n){return a.a.createElement(\"div\",{key:n,className:\"step-container \".concat(e.currentStep===n+1?\"active\":\"\"),\"data-testid\":e.currentStep===n+1?\"active\":\"inactive\"},a.a.createElement(\"div\",{className:e.showStepNumber?\"circle filled\":\"circle\",onClick:function(){return e.onClick(n+1)},onKeyPress:function(){return e.onClick(n+1)},role:\"button\",tabIndex:\"0\",disabled:!e.stepsClickable},e.showStepNumber&&a.a.createElement(\"span\",{className:\"number\"},n+1)),a.a.createElement(\"div\",{className:\"step-name\"},t))}))))}),b=d;d.propTypes={steps:i.a.arrayOf(i.a.string).isRequired,currentStep:i.a.number.isRequired,onClick:i.a.func,stepsClickable:i.a.bool,showStepNumber:i.a.bool},d.defaultProps={onClick:function(e){return e},stepsClickable:!1,showStepNumber:!1};var m=function(e){return e.title||e.additionalTitle?a.a.createElement(\"div\",{className:\"panel-heading movement-number\",\"data-testid\":\"wizardTitle\"},e.title?a.a.createElement(\"div\",null,p.a.map(e.title,(function(e){return a.a.createElement(\"span\",{key:e.text,style:{color:e.color}},e.text,a.a.createElement(\"span\",{style:{color:\"black\"}},e.delimeter))}))):null,e.additionalTitle):null},y=m;function h(e){return(h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if(\"object\"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==h(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(a,\"string\"),\"symbol\"===h(o)?o:String(o)),r)}var a,o}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&(\"object\"===h(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return P(e)}function P(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}m.propTypes={title:i.a.arrayOf(i.a.shape({})).isRequired,additionalTitle:i.a.oneOf([i.a.string,i.a.func])},m.defaultProps={additionalTitle:null};var S=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&g(e,t)}(i,e);var t,n,r,o=O(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(t=o.call(this,e)).state={currentPage:t.props.currentPage||1,prevPage:t.props.prevPage||1,values:t.props.initialValues},t.nextPage=t.nextPage.bind(P(t)),t.prevPage=t.prevPage.bind(P(t)),t.goToPage=t.goToPage.bind(P(t)),t}return t=i,(n=[{key:\"componentWillReceiveProps\",value:function(e){e.currentPage!==this.props.currentPage&&this.goToPage(e.currentPage,e.initialValues)}},{key:\"nextPage\",value:function(e){var t=this.state.currentPage;this.props.pageList.length>t?(this.setState({prevPage:t,currentPage:t+1,values:e}),this.props.updateWizardValues(t+1,e)):(this.setState({values:e}),this.props.updateWizardValues(t,e))}},{key:\"prevPage\",value:function(e){var t=this.state.prevPage;t>0?(this.setState({prevPage:t-1,currentPage:t,values:e}),this.props.updateWizardValues(t,e)):(this.setState({values:e}),this.props.updateWizardValues(1,e))}},{key:\"goToPage\",value:function(e,t){this.setState({prevPage:e-1,currentPage:e,values:t}),this.props.updateWizardValues(e,t)}},{key:\"render\",value:function(){var e=this.state,t=e.currentPage,n=e.values,r=this.props,o=r.title,i=r.pageList,l=r.stepList,s=r.additionalTitle,c=r.additionalProps,f=r.showStepNumber;return a.a.createElement(\"div\",{className:\"content-wrap\",\"data-testid\":\"content-wrap\"},a.a.createElement(y,{title:o,additionalTitle:s,values:n}),a.a.createElement(b,{steps:l,currentStep:t,showStepNumber:f}),a.a.createElement(\"div\",{className:\"panel panel-primary\"},a.a.createElement(u,{pageList:i,currentPage:t,initialValues:n,nextPage:this.nextPage,prevPage:this.prevPage,goToPage:this.goToPage,additionalProps:c})))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),i}(r.Component);t.a=Object(l.a)((function(e){return{locale:e.session.activeLanguage,stockMovementTranslationsFetched:e.session.fetchedTranslations.stockMovement,hasPackingSupport:e.session.currentLocation.hasPackingSupport}}),{})(S);S.propTypes={initialValues:i.a.shape({shipmentStatus:i.a.string}),title:i.a.arrayOf(i.a.shape({})).isRequired,additionalTitle:i.a.oneOf([i.a.string,i.a.func]),currentPage:i.a.number.isRequired,prevPage:i.a.number.isRequired,pageList:i.a.arrayOf(i.a.func).isRequired,stepList:i.a.arrayOf(i.a.string).isRequired,updateWizardValues:i.a.func,additionalProps:i.a.shape({}),showStepNumber:i.a.bool},S.defaultProps={initialValues:{},additionalProps:{},additionalTitle:null,updateWizardValues:function(){},showStepNumber:!1}},440:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(390),i=n(3),l=n.n(i),s=n(1),c=n.n(s),u=n(365),f=n(59),p=n.n(f),d=n(362),b=n(9);function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if(\"object\"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==m(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===m(t)?t:String(t)}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&(\"object\"===m(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return S(e)}function S(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&w(e,t)}(s,e);var t,n,r,i=P(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),(t=i.call(this,e)).state={showModal:!1},t.openModal=t.openModal.bind(S(t)),t.closeModal=t.closeModal.bind(S(t)),t.save=t.save.bind(S(t)),t}return t=s,(n=[{key:\"openModal\",value:function(){this.props.onOpen(),this.setState({showModal:!0})}},{key:\"closeModal\",value:function(){this.props.onClose(),this.setState({showModal:!1})}},{key:\"save\",value:function(e){this.props.onSave(e),this.setState({showModal:!1})}},{key:\"render\",value:function(){var e=this,t=this.props.title,n=this.props.defaultTitleMessage;return a.a.createElement(\"div\",{className:this.props.wrapperClassName},a.a.createElement(\"button\",{type:\"button\",className:\"btn-xs \".concat(this.props.btnOpenClassName),style:this.props.btnOpenStyle,disabled:this.props.btnOpenDisabled,onClick:function(){return e.openModal()}},this.props.btnOpenIcon&&a.a.createElement(\"i\",{className:\"fa \".concat(this.props.btnOpenIcon,\" mr-1\"),\"aria-hidden\":\"true\"}),this.props.btnOpenText&&!this.props.btnOpenAsIcon&&a.a.createElement(b.a,{id:this.props.btnOpenText,defaultMessage:this.props.btnOpenDefaultText})),a.a.createElement(p.a,{isOpen:this.props.showModal||this.state.showModal,onRequestClose:this.closeModal,className:\"modal-content-custom\",shouldCloseOnOverlayClick:!1},a.a.createElement(\"div\",{className:this.props.bodyContainerClassName,style:this.props.bodyContainerStyle},\"string\"==typeof t?a.a.createElement(\"h5\",{className:\"text-center\"},\" \",a.a.createElement(b.a,{id:t,defaultMessage:n})):a.a.createElement(t,null),a.a.createElement(\"hr\",null),a.a.createElement(u.b,{onSubmit:function(t){return e.save(t)},initialValues:this.props.initialValues,validate:this.props.validate,mutators:h({},o.a),render:function(t){var n=t.handleSubmit,r=t.values;return a.a.createElement(\"form\",{id:\"modalForm\",onSubmit:n},e.props.children,e.props.renderBodyWithValues(r),l.a.map(e.props.fields,(function(t,n){return Object(d.b)(t,n,h(h({},e.props.formProps),{},{values:r}))})),a.a.createElement(\"hr\",null),a.a.createElement(\"div\",{className:e.props.btnContainerClassName,role:\"group\",style:e.props.btnContainerStyle},a.a.createElement(\"button\",{type:\"button\",className:e.props.btnCancelClassName,style:e.props.btnCancelStyle,onClick:function(){return e.closeModal()}},a.a.createElement(b.a,{id:e.props.btnCancelText,defaultMessage:e.props.btnCancelDefaultText})),a.a.createElement(\"button\",{type:\"submit\",className:e.props.btnSaveClassName,style:e.props.btnSaveStyle,disabled:e.props.btnSaveDisabled},a.a.createElement(b.a,{id:e.props.btnSaveText,defaultMessage:e.props.btnSaveDefaultText}))))}}))))}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(r.Component);t.a=E,E.propTypes={btnOpenText:c.a.string,btnOpenDefaultText:c.a.string,btnOpenClassName:c.a.string,btnOpenStyle:c.a.shape({}),btnOpenDisabled:c.a.bool,btnOpenAsIcon:c.a.bool,btnOpenIcon:c.a.string,title:c.a.oneOfType([c.a.string,c.a.func]).isRequired,defaultTitleMessage:c.a.string.isRequired,children:c.a.element,bodyContainerClassName:c.a.string,bodyContainerStyle:c.a.shape({}),btnContainerClassName:c.a.string,btnContainerStyle:c.a.shape({}),wrapperClassName:c.a.string,btnSaveText:c.a.string,btnSaveDefaultText:c.a.string,btnSaveClassName:c.a.string,btnSaveStyle:c.a.shape({}),btnSaveDisabled:c.a.bool,btnCancelText:c.a.string,btnCancelDefaultText:c.a.string,btnCancelClassName:c.a.string,btnCancelStyle:c.a.shape({}),onOpen:c.a.func,onSave:c.a.func,onClose:c.a.func,validate:c.a.func,renderBodyWithValues:c.a.func,initialValues:c.a.oneOfType([c.a.shape({}),c.a.arrayOf(c.a.shape({}))]),fields:c.a.shape({}),formProps:c.a.shape({}),showModal:c.a.bool},E.defaultProps={btnOpenText:\"react.default.button.open.label\",btnOpenDefaultText:\"Open\",btnOpenClassName:\"btn btn-outline-primary\",btnOpenStyle:{},btnOpenDisabled:!1,btnOpenAsIcon:!1,btnOpenIcon:\"\",children:null,bodyContainerClassName:\"modal-body-container\",bodyContainerStyle:{},btnContainerClassName:\"btn-group float-right\",btnContainerStyle:{},wrapperClassName:null,btnSaveText:\"react.default.button.save.label\",btnSaveDefaultText:\"Save\",btnSaveClassName:\"btn btn-outline-success\",btnSaveStyle:{},btnSaveDisabled:!1,btnCancelText:\"react.default.button.cancel.label\",btnCancelDefaultText:\"Cancel\",btnCancelClassName:\"btn btn-outline-secondary\",btnCancelStyle:{},onOpen:function(){return null},onSave:function(){return null},onClose:function(){return null},validate:function(){return null},renderBodyWithValues:function(){return null},initialValues:[],fields:{},formProps:{},showModal:!1}},441:function(e,t,n){},446:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(17),s=n(10),c=n(414),u=n(72),f=n(9);function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==p(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t=e.translate,n=e.fieldsConfig,r=e.properties,o=e.fields,i=e.showRowSaveIndicator,l=e.tableRef,s=void 0===l?function(){}:l,f=e.addRow,p=void 0===f?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.push(e)}:f,d=r.subfield?c.a:n.rowComponent||c.a,m=r.isEmptyData,y=r.isLoading,h=r.emptyDataMessageId,v=r.defaultEmptyDataMessage;return y?a.a.createElement(u.a,null):m&&!o.length?t(h,v):o.map((function(e,t){return a.a.createElement(d,{key:r.subfield?\"\".concat(r.parentIndex,\"-\").concat(t):t,field:e,index:t,properties:b(b({},r),{},{rowCount:o.length||0,showRowSaveIndicator:i}),addRow:p,fieldsConfig:n,removeRow:function(){return o.remove(t)},rowValues:o.value[t],rowRef:function(e,n){return s(e,n,t)}})}))};t.a=Object(s.a)((function(e){return{translate:Object(f.b)(Object(l.e)(e.localize))}}))(y),y.propTypes={fieldsConfig:i.a.shape({getDynamicAttr:i.a.func}).isRequired,fields:i.a.oneOfType([i.a.shape({}),i.a.arrayOf(i.a.shape({}))]).isRequired,properties:i.a.shape({}).isRequired,addRow:i.a.func,tableRef:i.a.func},y.defaultProps={addRow:void 0,tableRef:void 0}},449:function(e,t,n){\"use strict\";t.a={SAVED:\"SAVED\",PENDING:\"PENDING\",SAVING:\"SAVING\",ERROR:\"ERROR\"}},450:function(e,t){},518:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(9),s=[\"value\",\"indeterminate\",\"custom\",\"fieldRef\",\"withLabel\",\"label\",\"defaultMessage\"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f=function(e){var t=e.value,n=e.indeterminate,r=e.custom,o=e.fieldRef,i=e.withLabel,f=e.label,p=e.defaultMessage,d=u(e,s),b=function(e){var t=e.target.checked;d.onChange&&d.onChange(t)};return r?a.a.createElement(\"div\",{\"data-testid\":\"custom-checkbox\",className:\"custom-checkbox\"},a.a.createElement(\"input\",c({type:\"checkbox\",ref:o,checked:t},d,{onChange:b})),a.a.createElement(\"label\",{htmlFor:d.id})):i?a.a.createElement(\"div\",{\"data-testid\":\"with-label-checkbox\",className:\"d-flex align-items-center\"},a.a.createElement(\"input\",c({type:\"checkbox\",ref:function(e){e&&(e.indeterminate=n),o&&o(e)},checked:t},d,{onChange:b})),a.a.createElement(\"label\",{htmlFor:d.id,style:{margin:\"0 0 0 5px\"}},a.a.createElement(l.a,{id:f,defaultMessage:p||f}))):a.a.createElement(\"input\",c({\"data-testid\":\"checkbox\",type:\"checkbox\",ref:function(e){e&&(e.indeterminate=n),o&&o(e)},checked:t},d,{onChange:b}))};t.a=f,f.propTypes={onChange:i.a.func,value:i.a.bool,indeterminate:i.a.bool,custom:i.a.bool,id:i.a.string,fieldRef:i.a.func,withLabel:i.a.bool,label:i.a.string,defaultMessage:i.a.string},f.defaultProps={onChange:null,value:null,indeterminate:!1,custom:!1,id:\"\",fieldRef:void 0,withLabel:!1,label:\"\",defaultMessage:\"\"}},521:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),l=n(41),s=n(9);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==c(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.fieldName,n=e.fieldConfig,r=n.buttonLabel,o=n.buttonDefaultMessage,i=n.getDynamicAttr,c=n.attributes,f=void 0===c?{className:\"btn-outline-primary\"}:c,d=i?i(e):{},b=p(p({},f),d);return a.a.createElement(\"button\",u({type:\"button\",key:t},b,{className:\"text-truncate btn btn-xs \".concat(b.className)}),\"string\"==typeof r?a.a.createElement(l.Tooltip,{html:r&&a.a.createElement(s.a,{id:r,defaultMessage:o}),theme:\"transparent\",arrow:\"true\",delay:\"150\",duration:\"250\",hideDelay:\"50\"},\" \",a.a.createElement(s.a,{id:r,defaultMessage:o})):a.a.createElement(r,null))};t.a=b,b.propTypes={fieldName:i.a.string.isRequired,fieldConfig:i.a.shape({getDynamicAttr:i.a.func}).isRequired}},528:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(3),i=n.n(o),l=n(1),s=n.n(l),c=n(445),u=n(446),f=n(414);function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if(\"object\"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==p(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===p(t)?t:String(t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&(\"object\"===p(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return w(e)}function w(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&v(e,t)}(l,e);var t,n,r,o=g(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=o.call(this,e)).fieldRefs=[],t.focusField=t.focusField.bind(w(t)),t.copyDown=t.copyDown.bind(w(t)),t}return t=l,(n=[{key:\"shouldComponentUpdate\",value:function(e){return!i.a.isEqualWith(this.props,e,(function(e,t){if(\"function\"==typeof e||\"function\"==typeof t)return!0}))}},{key:\"focusField\",value:function(e,t){var n=i.a.get(this.fieldRefs,\"[\".concat(e,\"].\").concat(t));n&&n.focus()}},{key:\"copyDown\",value:function(e,t){var n=i.a.get(this.fieldRefs,\"[\".concat(e,\"].\").concat(t)),r=i.a.get(this.fieldRefs,\"[\".concat(e-1,\"].\").concat(t,\".value\"));n&&r&&!n.disabled&&(n.value=r,n.focus())}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.fieldsConfig,r=t.index,o=t.field,i=t.properties,l=t.rowValues,s=void 0===l?{}:l,p=n.getDynamicRowAttr?n.getDynamicRowAttr(b(b({},i),{},{index:r,rowValues:s})):{},d=n.subfieldKey;return a.a.createElement(\"div\",null,a.a.createElement(f.a,this.props),!p.hideSubfields&&a.a.createElement(c.a,{name:\"\".concat(o,\".\").concat(d),component:u.a,fieldsConfig:n,properties:b(b({},i),{},{parentIndex:r,subfield:!0,focusField:this.focusField,copyDown:this.copyDown}),tableRef:function(t,n,r){e.fieldRefs[r]||(e.fieldRefs[r]={}),e.fieldRefs[r][n]=t}}))}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component);t.a=j,j.propTypes={fieldsConfig:s.a.shape({getDynamicAttr:s.a.func}).isRequired,index:s.a.number.isRequired,field:s.a.string.isRequired,addRow:s.a.func.isRequired,removeRow:s.a.func.isRequired,properties:s.a.shape({}).isRequired,rowValues:s.a.shape({})},j.defaultProps={rowValues:{}}},544:function(e,t,n){\"use strict\";var r=n(0),a=n.n(r),o=n(367),i=n(518),l=[\"value\"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){return a.a.createElement(o.a,s({},e,{renderInput:function(e){var t=e.value,n=c(e,l);return a.a.createElement(i.a,s({},n,{value:t||!1}))}}))}},863:function(e,t,n){},933:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),l=n(1),s=n.n(l),c=n(17),u=n(10),f=n(15),p=n(14),d=n(390),b=n(36),m=n.n(b),y=n(70),h=n(365),v=n(388),g=n(544),O=n(391),w=n(381),P=n(5),j=n(362),S=n(382),R=n(9);n(375);function E(e){return(E=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var a=q(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&(\"object\"===E(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return N(e)}function N(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=function(e,t){if(\"object\"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==E(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===E(t)?t:String(t)}var L={requirements:{type:v.a,arrowsNavigation:!0,fields:{checked:{type:g.a,label:\"react.stockMovement.selectAll.label\",defaultMessage:\"Select All\",flexWidth:4,getDynamicAttr:function(e){var t=e.rowIndex,n=e.allRowsSelected,r=e.selectAllCode,o=e.updateSelectedItems;return{headerHtml:function(){return a.a.createElement(\"input\",{type:\"checkbox\",className:\"mt-1\",checked:n,onClick:r})},onChange:function(e){return o(e,t)}}}},\"product.productCode\":{type:O.a,label:\"react.stockMovement.productCode.label\",defaultMessage:\"Code\",flexWidth:5,headerAlign:\"left\",attributes:{cellClassName:\"text-left\"}},\"product.name\":{type:O.a,label:\"react.stockMovement.product.label\",defaultMessage:\"Product\",flexWidth:30,headerAlign:\"left\",attributes:{cellClassName:\"text-left\",showValueTooltip:!0}},zone:{type:O.a,label:\"react.replenishment.zone.label\",defaultMessage:\"Zone\",headerAlign:\"left\",attributes:{className:\"text-left\"}},\"binLocation.name\":{type:O.a,label:\"react.replenishment.bin.label\",defaultMessage:\"Bin\",headerAlign:\"left\",attributes:{formatValue:function(e){return e||\"DEFAULT\"},className:\"text-left\"}},quantityInBin:{type:O.a,label:\"react.replenishment.quantityInBin.label\",defaultMessage:\"Qty in Bin\",headerAlign:\"right\",flexWidth:8,attributes:{cellClassName:\"text-right\"}},maxQuantity:{type:O.a,label:\"react.replenishment.maxQuantity.label\",defaultMessage:\"Max Qty\",headerAlign:\"right\",flexWidth:8,attributes:{cellClassName:\"text-right\"}},quantityAvailable:{type:O.a,label:\"react.replenishment.quantityAvailable.label\",defaultMessage:\"Qty available\",headerAlign:\"right\",flexWidth:8,attributes:{cellClassName:\"text-right\"}},quantity:{type:w.a,label:\"react.stockMovement.quantityToTransfer.label\",defaultMessage:\"Qty to Transfer\",headerAlign:\"center\",attributes:{type:\"number\",cellClassName:\"text-center\"},flexWidth:10,fieldKey:\"\",getDynamicAttr:function(e){var t=e.updateRow,n=e.values,r=e.rowIndex;return{onBlur:function(){return t(n,r)}}}}}}};function A(e){var t={requirements:[]};return i.a.forEach(e.requirements,(function(e,n){e.checked&&(e.quantity?e.quantity<1?t.requirements[n]={quantity:\"react.replenishment.error.quantity.label\"}:e.quantity>e.quantityAvailable&&(t.requirements[n]={quantity:\"react.replenishment.error.quantity.greaterThanQATP.label\"}):t.requirements[n]={quantity:\"react.replenishment.error.emptyQtyToTransfer.label\"})})),i.a.find(e.requirements,(function(e){return e.checked}))||i.a.forEach(e.requirements,(function(e,n){t.requirements[n]=I(I({},t.requirements[n]),{},{checked:\"react.replenishment.error.selected.label\"})})),t}var _=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&x(e,t)}(l,e);var t,n,r,o=C(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),M(N(t=o.call(this,e)),\"dataFetched\",!1),t.state={inventoryLevelStatus:\"BELOW_MINIMUM\",statusOptions:[],values:I(I({},t.props.initialValues),{},{requirements:[]}),isDirty:!1},t.updateRow=t.updateRow.bind(N(t)),t.updateSelectedItems=t.updateSelectedItems.bind(N(t)),t.selectAllRows=t.selectAllRows.bind(N(t)),t.allRowsSelected=t.allRowsSelected.bind(N(t)),t}return t=l,(n=[{key:\"componentDidMount\",value:function(){this.props.replenishmentTranslationsFetched&&(this.dataFetched=!0,this.fetchStatusOptions(),this.fetchRequirements(this.props.locationId))}},{key:\"componentWillReceiveProps\",value:function(e){e.replenishmentTranslationsFetched&&(this.dataFetched?this.props.locationId!==e.locationId&&this.fetchRequirements(e.locationId):(this.dataFetched=!0,this.fetchStatusOptions(),this.fetchRequirements(this.props.locationId)))}},{key:\"allRowsSelected\",value:function(){return!i.a.find(this.state.values.requirements,(function(e){return!e.checked}))}},{key:\"selectAllRows\",value:function(){var e=this.allRowsSelected();this.setState({values:m()(this.state.values,{requirements:{$apply:function(t){return t.map((function(t){return I(I({},t),{},{checked:!e})}))}}})})}},{key:\"updateSelectedItems\",value:function(e,t){this.setState({values:m()(this.state.values,{requirements:M({},t,{checked:{$set:e}})})})}},{key:\"updateRow\",value:function(e,t){var n=e.requirements[t];n.quantity!==this.state.values.requirements[t].quantity&&this.setState({values:m()(e,{requirements:M({},t,{$set:n})}),isDirty:!0})}},{key:\"fetchStatusOptions\",value:function(){var e=this;return P.a.get(\"/openboxes/api/replenishments/statusOptions\").then((function(t){var n=t.data.data;e.setState({statusOptions:n})})).catch((function(){}))}},{key:\"fetchRequirements\",value:function(e){var t=this;this.props.showSpinner();var n=this.state.inventoryLevelStatus,r=\"/openboxes/api/requirements?location.id=\".concat(e);return n.id&&(r+=\"&inventoryLevelStatus=\".concat(n.id)),P.a.get(r).then((function(e){var n=i.a.map(Object(P.e)(e.data.data),(function(e){return I(I({},e),{},{quantity:e.quantityNeeded,checked:!0})}));t.setState({values:{requirements:n},isDirty:!1},(function(){return t.props.hideSpinner()}))})).catch((function(){return t.props.hideSpinner()}))}},{key:\"createReplenishment\",value:function(e){var t=this;this.props.showSpinner();var n={replenishmentItems:e.requirements.filter((function(e){return e.checked&&e.quantity>0}))};P.a.post(\"/openboxes/api/replenishments/\",Object(P.b)(n)).then((function(e){var n,r,a;t.props.hideSpinner(),t.props.history.push(\"/openboxes/replenishment/create/\".concat(null===(n=e.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.id)),t.props.nextPage(null===(a=e.data)||void 0===a?void 0:a.data)})).catch((function(){return t.props.hideSpinner()}))}},{key:\"inventoryLevelStatusChange\",value:function(e){var t=this;this.state.isDirty?Object(y.confirmAlert)({title:this.props.translate(\"react.replenishment.message.confirmStatusChange.label\",\"Confirm inventory level status change\"),message:this.props.translate(\"react.replenishment.confirmStatusChange.label\",\"Previously edited quantities will be lost after this change. Are you sure?\"),buttons:[{label:this.props.translate(\"react.default.yes.label\",\"Yes\"),onClick:function(){return t.setState({inventoryLevelStatus:e},(function(){return t.fetchRequirements(t.props.locationId)}))}},{label:this.props.translate(\"react.default.no.label\",\"No\")}]}):this.setState({inventoryLevelStatus:e},(function(){return t.fetchRequirements(t.props.locationId)}))}},{key:\"render\",value:function(){var e=this;return a.a.createElement(h.b,{onSubmit:function(){},validate:A,mutators:I({},d.a),initialValues:this.state.values,render:function(t){var n=t.handleSubmit,r=t.values,o=t.invalid;return a.a.createElement(\"div\",{className:\"d-flex flex-column\"},a.a.createElement(\"div\",{className:\"d-flex justify-content-between submit-buttons mt-0 mb-3\"},a.a.createElement(\"div\",{className:\"d-flex flex-column\"},a.a.createElement(\"label\",{htmlFor:\"stock-level-filter\"},a.a.createElement(R.a,{id:\"react.replenishment.filter.label\",defaultMessage:\"Replenish bins that have a stock level\"}),\":\"),a.a.createElement(S.a,{name:\"stock-level-filter\",value:e.state.inventoryLevelStatus,onChange:function(t){return e.inventoryLevelStatusChange(t)},options:e.state.statusOptions,className:\"select-sm stocklist-select\",clearable:!1})),a.a.createElement(\"button\",{type:\"submit\",onClick:function(){o||e.createReplenishment(r)},className:\"btn btn-outline-primary float-right btn-xs\",disabled:o},a.a.createElement(R.a,{id:\"react.replenishment.next.label\",defaultMessage:\"Next\"}))),a.a.createElement(\"form\",{onSubmit:n},a.a.createElement(\"div\",{className:\"table-form\"},i.a.map(L,(function(t,n){return Object(j.b)(t,n,{values:r,updateRow:e.updateRow,updateSelectedItems:e.updateSelectedItems,allRowsSelected:e.allRowsSelected(),selectAllCode:e.selectAllRows})}))),a.a.createElement(\"div\",{className:\"submit-buttons\"},a.a.createElement(\"button\",{type:\"submit\",onClick:function(){o||e.createReplenishment(r)},className:\"btn btn-outline-primary btn-form float-right btn-xs\",disabled:o},a.a.createElement(R.a,{id:\"react.replenishment.next.label\",defaultMessage:\"Next\"})))))}})}}])&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component),F=Object(u.a)((function(e){return{replenishmentTranslationsFetched:e.session.fetchedTranslations.replenishment,translate:Object(R.b)(Object(c.e)(e.localize))}}),{showSpinner:p.M,hideSpinner:p.C})(_);_.propTypes={initialValues:s.a.shape({}),showSpinner:s.a.func.isRequired,hideSpinner:s.a.func.isRequired,nextPage:s.a.func.isRequired,locationId:s.a.string.isRequired,history:s.a.shape({push:s.a.func}).isRequired,replenishmentTranslationsFetched:s.a.bool.isRequired,translate:s.a.func.isRequired},_.defaultProps={initialValues:{}};var W=n(528);function B(e){return(B=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var a=$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&(\"object\"===B(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=function(e,t){if(\"object\"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==B(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===B(t)?t:String(t)}var X={replenishmentItems:{type:v.a,rowComponent:W.a,subfieldKey:\"picklistItems\",getDynamicRowAttr:function(e){var t=e.rowValues,n=e.subfield,r=t.initial?\"crossed-out \":\"\";return n||(r+=\"font-weight-bold\"),{className:r}},fields:{\"product.productCode\":{type:O.a,label:\"react.stockMovement.productCode.label\",defaultMessage:\"Code\",flexWidth:\"0.5\",headerAlign:\"left\",attributes:{cellClassName:\"text-left\"}},\"product.name\":{type:O.a,label:\"react.stockMovement.product.label\",defaultMessage:\"Product\",flexWidth:\"2\",headerAlign:\"left\",attributes:{showValueTooltip:!0,cellClassName:\"text-left\"}},\"currentZone.name\":{type:O.a,label:\"react.replenishment.currentZone.label\",defaultMessage:\"Current Zone\",flexWidth:\"0.5\",attributes:{showValueTooltip:!0}},\"currentBinLocation.name\":{type:O.a,label:\"react.replenishment.currentBinLocation.label\",defaultMessage:\"Current Bin Location\",flexWidth:\"1\",attributes:{showValueTooltip:!0},getDynamicAttr:function(e){var t=e.subfield;return{formatValue:function(e){return t||e?e:\"DEFAULT\"}}}},quantityNeeded:{type:O.a,label:\"react.replenishment.quantityInBin.label\",defaultMessage:\"Qty Needed\",flexWidth:\"1\",headerAlign:\"right\",attributes:{cellClassName:\"text-right\"}},\"zone.name\":{type:O.a,label:\"react.replenishment.zone.label\",defaultMessage:\"Zone\",flexWidth:\"0.5\",attributes:{showValueTooltip:!0}},\"binLocation.name\":{type:O.a,label:\"react.replenishment.bin.label\",defaultMessage:\"Bin\",flexWidth:\"1\",attributes:{showValueTooltip:!0}},lotNumber:{type:O.a,label:\"react.replenishment.lot.label\",defaultMessage:\"Lot\",flexWidth:\"1\"},expirationDate:{type:O.a,label:\"react.replenishment.exp.label\",defaultMessage:\"Exp\",flexWidth:\"1\"},quantity:{type:O.a,label:\"react.stockMovement.quantityToTransfer.label\",defaultMessage:\"Qty to Transfer\",flexWidth:\"1\",headerAlign:\"right\",attributes:{cellClassName:\"text-right\"}}}}},ee=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&H(e,t)}(l,e);var t,n,r,o=Q(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),Y(Z(t=o.call(this,e)),\"dataFetched\",!1),t.state={values:{replenishment:K({},t.props.initialValues)}},t.fetchReplenishment=t.fetchReplenishment.bind(Z(t)),t}return t=l,(n=[{key:\"componentDidMount\",value:function(){this.props.replenishmentTranslationsFetched&&(this.dataFetched=!0,this.fetchReplenishment())}},{key:\"componentWillReceiveProps\",value:function(e){e.replenishmentTranslationsFetched&&!this.dataFetched&&(this.dataFetched=!0,this.fetchReplenishment())}},{key:\"fetchReplenishment\",value:function(){var e=this;this.props.showSpinner();var t=\"/openboxes/api/replenishments/\".concat(this.props.match.params.replenishmentId);return P.a.get(t).then((function(t){var n=t.data.data;e.setState({values:{replenishment:K(K({},n),{},{replenishmentItems:i.a.map(n.replenishmentItems,(function(t){return e.checkForInitialPicksChanges(t)}))})}},(function(){return e.props.hideSpinner()}))})).catch((function(){return e.props.hideSpinner()}))}},{key:\"checkForInitialPicksChanges\",value:function(e){if(e.picklistItems.length){var t=[];return i.a.forEach(e.suggestedItems,(function(n){var r=i.a.find(e.picklistItems,(function(e){return i.a.get(n,\"inventoryItem.id\")===i.a.get(e,\"inventoryItem.id\")&&i.a.get(e,\"binLocation.id\")===i.a.get(n,\"binLocation.id\")}));(i.a.isEmpty(r)||r.quantity!==n.quantityPicked)&&t.push(K(K({},n),{},{quantity:n.quantityPicked,initial:!0}))})),K(K({},e),{},{picklistItems:i.a.concat(t,i.a.sortBy(e.picklistItems,[\"binLocation.name\",\"initial\"]))})}return e}},{key:\"completeReplenishment\",value:function(){var e=this;if(\"APPROVED\"===this.state.values.replenishment.status){this.props.showSpinner();var t=\"/openboxes/api/replenishments/\".concat(this.props.match.params.replenishmentId);P.a.post(t,Object(P.b)({status:\"COMPLETED\"})).then((function(){window.location=\"/openboxes/stockTransfer/show/\".concat(e.props.match.params.replenishmentId),e.props.hideSpinner()})).catch((function(){return e.props.hideSpinner()}))}}},{key:\"previousPage\",value:function(){this.props.previousPage(this.state.values.replenishment)}},{key:\"render\",value:function(){var e=this;return a.a.createElement(h.b,{onSubmit:function(){return e.completeReplenishment()},mutators:K({},d.a),initialValues:this.state.values.replenishment,render:function(t){var n=t.handleSubmit;return a.a.createElement(\"div\",{className:\"d-flex flex-column\"},a.a.createElement(\"form\",{onSubmit:n,className:\"print-mt\"},a.a.createElement(\"div\",{className:\"table-form\"},i.a.map(X,(function(t,n){return Object(j.b)(t,n,{replenishmentId:e.props.match.params.replenishmentId,translate:e.props.translate})}))),a.a.createElement(\"div\",{className:\"submit-buttons\"},a.a.createElement(\"button\",{type:\"button\",onClick:function(){return e.previousPage()},className:\"btn btn-outline-primary btn-form btn-xs\"},a.a.createElement(R.a,{id:\"react.default.button.previous.label\",defaultMessage:\"Previous\"})),a.a.createElement(\"button\",{type:\"button\",onClick:function(){return e.completeReplenishment()},className:\"btn btn-outline-success float-right btn-xs mr-3\"},a.a.createElement(R.a,{id:\"react.stockTransfer.completeStockTransfer.label\",defaultMessage:\"Complete Stock Transfer\"})))))}})}}])&&U(t.prototype,n),r&&U(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component),te=Object(u.a)((function(e){return{replenishmentTranslationsFetched:e.session.fetchedTranslations.replenishment,translate:Object(R.b)(Object(c.e)(e.localize))}}),{showSpinner:p.M,hideSpinner:p.C})(ee);ee.propTypes={showSpinner:s.a.func.isRequired,hideSpinner:s.a.func.isRequired,previousPage:s.a.func.isRequired,initialValues:s.a.shape({replenishment:s.a.arrayOf(s.a.shape({}))}).isRequired,match:s.a.shape({params:s.a.shape({replenishmentId:s.a.string})}).isRequired,replenishmentTranslationsFetched:s.a.bool.isRequired,translate:s.a.func.isRequired};var ne=n(521),re=n(440);function ae(e){return(ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function oe(){return(oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,ue(r.key),r)}}function ue(e){var t=function(e,t){if(\"object\"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==ae(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===ae(t)?t:String(t)}function fe(e,t){return(fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var a=me(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){if(t&&(\"object\"===ae(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return be(e)}function be(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye={availableItems:{type:v.a,getDynamicRowAttr:function(e){var t=\"\";return e.rowValues.quantityAvailable||(t=\"text-disabled\"),{className:t}},fields:{status:{type:O.a,fieldKey:\"\",flexWidth:6,getDynamicAttr:function(e){var t=e.translate;return{showValueTooltip:!0,formatValue:function(e){return e.status&&\"AVAILABLE\"!==e.status?t(\"react.stockMovement.enum.AvailableItemStatus.\".concat(e.status),e.status):\"\"}}}},lotNumber:{type:O.a,label:\"react.stockMovement.lot.label\",defaultMessage:\"Lot\"},expirationDate:{type:O.a,label:\"react.stockMovement.expiry.label\",defaultMessage:\"Expiry\",fixedWidth:\"120px\"},\"zone.name\":{type:O.a,label:\"react.stockMovement.binLocation.label\",defaultMessage:\"Zone\"},\"binLocation.name\":{type:O.a,label:\"react.stockMovement.binLocation.label\",defaultMessage:\"Bin Location\"},quantityAvailable:{type:O.a,label:\"react.stockMovement.quantityAvailable.label\",defaultMessage:\"Qty Available\",fixedWidth:\"150px\",headerAlign:\"right\",attributes:{cellClassName:\"text-right\",formatValue:function(e){return e||0===e?e.toLocaleString(\"en-US\"):null}}},quantityPicked:{type:w.a,fieldKey:\"\",label:\"react.stockMovement.quantityPicked.label\",defaultMessage:\"Qty Picked\",fixedWidth:\"120px\",headerAlign:\"right\",attributes:{cellClassName:\"text-right\",type:\"number\"},getDynamicAttr:function(e){var t=e.fieldValue;return{disabled:t&&!t.quantityAvailable}}}}}};function he(e){var t={availableItems:[]},n=i.a.reduce(e.availableItems,(function(e,t){return e+(t.quantityPicked?i.a.toInteger(t.quantityPicked):0)}),0);return i.a.forEach(e.availableItems,(function(r,a){Number.isNaN(r.quantityPicked)||n===e.quantityRequired||\"NOT_AVAILABLE\"===r.status||(t.availableItems[a]={quantityPicked:\"react.stockMovement.errors.differentTotalQty.label\"}),r.quantityPicked>r.quantityAvailable&&(t.availableItems[a]={quantityPicked:\"react.stockMovement.errors.higherTyPicked.label\"}),r.quantityPicked<0&&(t.availableItems[a]={quantityPicked:\"react.stockMovement.errors.negativeQtyPicked.label\"})})),t}var ve=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&fe(e,t)}(l,e);var t,n,r,o=pe(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),t=o.call(this,e);var n=e.fieldConfig,r=n.attributes,a=n.getDynamicAttr,i=a?a(e):{},s=le(le({},r),i);return t.state={attr:s,formValues:{}},t.onOpen=t.onOpen.bind(be(t)),t.onSave=t.onSave.bind(be(t)),t}return t=l,(n=[{key:\"componentWillReceiveProps\",value:function(e){var t=e.fieldConfig,n=t.attributes,r=t.getDynamicAttr,a=r?r(e):{},o=le(le({},n),a);this.setState({attr:o})}},{key:\"onOpen\",value:function(){this.fetchPickPageItem()}},{key:\"onSave\",value:function(e){var t=this;this.props.showSpinner();var n=\"/openboxes/api/replenishments/\".concat(this.state.attr.itemId,\"/picklists\"),r={picklistItems:i.a.map(e.availableItems,(function(e){return{id:e.id||\"\",\"inventoryItem.id\":e[\"inventoryItem.id\"],\"binLocation.id\":e[\"binLocation.id\"]||\"\",quantityPicked:i.a.isNil(e.quantityPicked)?\"\":e.quantityPicked}}))};P.a.put(n,r).then((function(){t.props.hideSpinner(),t.state.attr.onResponse()})).catch((function(){t.props.hideSpinner()}))}},{key:\"calculatePicked\",value:function(e){return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:\"font-weight-bold pb-2\"},a.a.createElement(R.a,{id:\"react.stockMovement.quantityPicked.label\",defaultMessage:\"Qty Picked\"}),\": \",i.a.reduce(e.availableItems,(function(e,t){return e+(t.quantityPicked?i.a.toInteger(t.quantityPicked):0)}),0)),a.a.createElement(\"hr\",null))}},{key:\"fetchPickPageItem\",value:function(){var e=this,t=\"/openboxes/api/replenishments/\".concat(this.state.attr.itemId,\"/picklists\");P.a.get(t).then((function(t){var n=t.data.data,r=i.a.map(n.availableItems,(function(e){var t=i.a.find(n.picklistItems,(function(t){return t[\"inventoryItem.id\"]===e[\"inventoryItem.id\"]&&t[\"binLocation.id\"]===e[\"binLocation.id\"]}));return t&&\"NOT_AVAILABLE\"!==e.status?le(le({},e),{},{id:t.id,quantityPicked:t.quantityPicked,binLocation:{id:t[\"binLocation.id\"],name:t[\"binLocation.name\"]},zone:{id:t[\"binLocation.zoneId\"],name:t[\"binLocation.zoneName\"]}}):le({},e)}));e.setState({formValues:{availableItems:r,quantityRequired:n.quantityRequired,productCode:n.productCode,productName:n[\"product.name\"]}}),e.props.hideSpinner()})).catch((function(){e.props.hideSpinner()}))}},{key:\"render\",value:function(){return this.state.attr.subfield?null:a.a.createElement(re.a,oe({},this.state.attr,{onOpen:this.onOpen,onSave:this.onSave,fields:ye,validate:he,initialValues:this.state.formValues,formProps:{translate:this.props.translate},renderBodyWithValues:this.calculatePicked}),a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:\"font-weight-bold\"},a.a.createElement(R.a,{id:\"react.stockMovement.productCode.label\",defaultMessage:\"Product code\"}),\": \",this.state.formValues.productCode),a.a.createElement(\"div\",{className:\"font-weight-bold\"},a.a.createElement(R.a,{id:\"react.stockMovement.productName.label\",defaultMessage:\"Product name\"}),\": \",this.state.formValues.productName),a.a.createElement(\"div\",{className:\"font-weight-bold\"},a.a.createElement(R.a,{id:\"react.stockMovement.quantityRequired.label\",defaultMessage:\"Qty Required\"}),\": \",this.state.formValues.quantityRequired)))}}])&&ce(t.prototype,n),r&&ce(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component),ge=Object(u.a)((function(e){return{translate:Object(R.b)(Object(c.e)(e.localize))}}),{showSpinner:p.M,hideSpinner:p.C})(ve);function Oe(e){return(Oe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Se(e,t){return(Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var a=xe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){if(t&&(\"object\"===Oe(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){var t=function(e,t){if(\"object\"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==Oe(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===Oe(t)?t:String(t)}ve.propTypes={fieldName:s.a.string.isRequired,fieldConfig:s.a.shape({getDynamicAttr:s.a.func}).isRequired,showSpinner:s.a.func.isRequired,hideSpinner:s.a.func.isRequired,translate:s.a.func.isRequired};var Ne={replenishmentItems:{type:v.a,rowComponent:W.a,subfieldKey:\"picklistItems\",getDynamicRowAttr:function(e){var t=e.rowValues,n=e.subfield,r=t.initial?\"crossed-out \":\"\";return n||(r+=\"font-weight-bold\"),{className:r}},fields:{\"product.productCode\":{type:O.a,label:\"react.stockMovement.productCode.label\",defaultMessage:\"Code\",flexWidth:\"0.5\",headerAlign:\"left\",attributes:{cellClassName:\"text-left\"}},\"product.name\":{type:O.a,label:\"react.stockMovement.product.label\",defaultMessage:\"Product\",flexWidth:\"2\",headerAlign:\"left\",attributes:{cellClassName:\"text-left\",showValueTooltip:!0}},\"zone.name\":{type:O.a,label:\"react.replenishment.zone.label\",defaultMessage:\"Zone\",flexWidth:\"0.5\",attributes:{showValueTooltip:!0}},\"binLocation.name\":{type:O.a,label:\"react.replenishment.bin.label\",defaultMessage:\"Bin\",flexWidth:\"1\",attributes:{showValueTooltip:!0}},lotNumber:{type:O.a,label:\"react.replenishment.lot.label\",defaultMessage:\"Lot\",flexWidth:\"1\"},expirationDate:{type:O.a,label:\"react.replenishment.exp.label\",defaultMessage:\"Exp\",flexWidth:\"1\"},quantity:{type:O.a,label:\"react.stockMovement.quantityToTransfer.label\",defaultMessage:\"Qty to Transfer\",flexWidth:\"1\",headerAlign:\"right\",attributes:{cellClassName:\"text-right\"}},\"currentBinLocation.name\":{type:O.a,label:\"react.replenishment.transferTo.label\",defaultMessage:\"Transfer to\",flexWidth:\"1\",attributes:{showValueTooltip:!0},getDynamicAttr:function(e){var t=e.subfield;return{formatValue:function(e){return t||e?e:\"DEFAULT\"}}}},buttonEditPick:{label:\"react.stockMovement.editPick.label\",defaultMessage:\"Edit pick\",type:ge,fixedWidth:\"90px\",fieldKey:\"\",attributes:{title:\"react.stockMovement.editPick.label\",defaultTitleMessage:\"Edit Pick\"},getDynamicAttr:function(e){var t=e.fieldValue,n=e.refetchReplenishment;return{subfield:e.subfield,itemId:i.a.get(t,\"id\"),btnOpenText:\"react.default.button.edit.label\",btnOpenDefaultText:\"Edit\",btnOpenClassName:\"btn btn-outline-primary\",onResponse:n}}},revert:{type:ne.a,label:\"react.default.button.undoEdit.label\",defaultMessage:\"Undo edit\",fixedWidth:\"100px\",fieldKey:\"\",buttonLabel:\"react.default.button.undoEdit.label\",buttonDefaultMessage:\"Undo edit\",getDynamicAttr:function(e){var t=e.fieldValue,n=e.revertUserPick;return{hidden:e.subfield,onClick:i.a.get(t,\"id\")?function(){return n(i.a.get(t,\"id\"))}:function(){return null}}},attributes:{className:\"btn btn-outline-danger\"}}}}},qe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Se(e,t)}(l,e);var t,n,r,o=Re(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),Ce(ke(t=o.call(this,e)),\"dataFetched\",!1),t.state={values:{replenishment:Pe({},t.props.initialValues)},sorted:!1},t.revertUserPick=t.revertUserPick.bind(ke(t)),t.fetchReplenishment=t.fetchReplenishment.bind(ke(t)),t.nextPage=t.nextPage.bind(ke(t)),t.printTransferOrder=t.printTransferOrder.bind(ke(t)),t}return t=l,(n=[{key:\"componentDidMount\",value:function(){this.props.replenishmentTranslationsFetched&&(this.dataFetched=!0,this.fetchReplenishment())}},{key:\"componentWillReceiveProps\",value:function(e){e.replenishmentTranslationsFetched&&!this.dataFetched&&(this.dataFetched=!0,this.fetchReplenishment())}},{key:\"fetchReplenishment\",value:function(){var e=this;this.props.showSpinner();var t=\"/openboxes/api/replenishments/\".concat(this.props.match.params.replenishmentId);return P.a.get(t).then((function(t){var n=t.data.data;e.setState({values:{replenishment:Pe(Pe({},n),{},{replenishmentItems:i.a.map(n.replenishmentItems,(function(t){return e.checkForInitialPicksChanges(t)}))})}},(function(){return e.props.hideSpinner()}))})).catch((function(){return e.props.hideSpinner()}))}},{key:\"recreatePickList\",value:function(){var e=this;this.props.showSpinner();var t=\"/openboxes/api/replenishments/\".concat(this.props.match.params.replenishmentId,\"/picklists\");P.a.post(t).then((function(){e.fetchReplenishment()})).catch((function(){return e.props.hideSpinner()}))}},{key:\"checkForInitialPicksChanges\",value:function(e){if(e.picklistItems.length){var t=[];return i.a.forEach(e.suggestedItems,(function(n){var r=i.a.find(e.picklistItems,(function(e){return i.a.get(n,\"inventoryItem.id\")===i.a.get(e,\"inventoryItem.id\")&&i.a.get(e,\"binLocation.id\")===i.a.get(n,\"binLocation.id\")}));(i.a.isEmpty(r)||r.quantity!==n.quantityPicked)&&t.push(Pe(Pe({},n),{},{quantity:n.quantityPicked,initial:!0}))})),Pe(Pe({},e),{},{picklistItems:i.a.concat(t,i.a.sortBy(e.picklistItems,[\"binLocation.name\",\"initial\"]))})}return e}},{key:\"nextPage\",value:function(){var e=this;if(\"PENDING\"===this.state.values.replenishment.status){this.props.showSpinner();var t=\"/openboxes/api/replenishments/\".concat(this.props.match.params.replenishmentId);P.a.post(t,Object(P.b)({status:\"APPROVED\"})).then((function(){e.props.hideSpinner(),e.props.nextPage(e.state.values.replenishment)})).catch((function(){return e.props.hideSpinner()}))}else this.props.nextPage(this.state.values.replenishment)}},{key:\"printTransferOrder\",value:function(){var e=\"/openboxes/replenishment/print/\".concat(this.props.match.params.replenishmentId);window.open(e,\"_blank\")}},{key:\"revertUserPick\",value:function(e){var t=this;this.props.showSpinner();var n=\"/openboxes/api/replenishments/\".concat(e,\"/picklistItem\");P.a.post(n,{}).then((function(){t.props.hideSpinner(),t.fetchReplenishment()})).catch((function(){t.props.hideSpinner()}))}},{key:\"refresh\",value:function(){var e=this;Object(y.confirmAlert)({title:this.props.translate(\"react.replenishment.confirmRefresh.label\",\"Confirm refresh\"),message:this.props.translate(\"react.replenishment.confirmRefresh.content.label\",\"This button will redo the autopick on all items. Are you sure you want to continue?\"),buttons:[{label:this.props.translate(\"react.default.yes.label\",\"Yes\"),onClick:function(){e.recreatePickList()}},{label:this.props.translate(\"react.default.no.label\",\"No\")}]})}},{key:\"saveAndExit\",value:function(){window.location=\"/openboxes/stockTransfer/show/\".concat(this.props.match.params.replenishmentId)}},{key:\"sortByBins\",value:function(){if(this.state.sorted){var e=this.state.values.replenishment.replenishmentItems.map((function(e){return Pe(Pe({},e),{},{picklistItems:i.a.sortBy(e.picklistItems,[\"binLocation.name\",\"quantity\"])})}));this.setState({values:{replenishment:Pe(Pe({},this.state.values.replenishment),{},{replenishmentItems:i.a.sortBy(e,[\"product.productCode\"])})},sorted:!1})}else{var t=this.state.values.replenishment.replenishmentItems.map((function(e){return Pe(Pe({},e),{},{picklistItems:i.a.sortBy(e.picklistItems,[\"zone.name\",\"binLocation.name\"])})}));this.setState({values:{replenishment:Pe(Pe({},this.state.values.replenishment),{},{replenishmentItems:i.a.sortBy(t,[\"picklistItems[0].zone.name\",\"picklistItems[0].binLocation.name\"])})},sorted:!0})}}},{key:\"render\",value:function(){var e=this;return a.a.createElement(h.b,{onSubmit:function(){return e.nextPage()},mutators:Pe({},d.a),initialValues:this.state.values.replenishment,render:function(t){var n=t.handleSubmit;return a.a.createElement(\"div\",{className:\"d-flex flex-column\"},a.a.createElement(\"div\",{className:\"submit-buttons d-flex justify-content-end buttons-container\"},a.a.createElement(\"button\",{type:\"button\",onClick:function(){return e.printTransferOrder()},className:\"mb-1 btn btn-outline-secondary btn-xs ml-1\"},a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-print pr-2\"}),a.a.createElement(R.a,{id:\"react.stockTransfer.printTransferOrder.label\",defaultMessage:\"Print Transfer Order\"}))),a.a.createElement(\"button\",{type:\"button\",onClick:function(){return e.refresh()},className:\"mb-1 btn btn-outline-secondary btn-xs ml-1\"},a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-refresh pr-2\"}),a.a.createElement(R.a,{id:\"react.default.button.refresh.label\",defaultMessage:\"Reload\"}))),a.a.createElement(\"button\",{type:\"button\",onClick:function(){return e.saveAndExit()},className:\"mb-1 btn btn-outline-secondary btn-xs ml-1 bg-white border-0\"},a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-sign-out pr-2\"}),a.a.createElement(R.a,{id:\"react.default.button.saveAndExit.label\",defaultMessage:\"Save and exit\"}))),a.a.createElement(\"button\",{type:\"button\",onClick:function(){return e.sortByBins()},className:\"float-right mb-1 btn btn-outline-secondary align-self-end btn-xs\"},e.state.sorted?a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-sort pr-2\"}),a.a.createElement(R.a,{id:\"react.replenishment.originalOrder.label\",defaultMessage:\"Original order\"})):a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:\"fa fa-sort pr-2\"}),a.a.createElement(R.a,{id:\"react.replenishment.sortByBins.label\",defaultMessage:\"Sort by bins\"})))),a.a.createElement(\"form\",{onSubmit:n,className:\"print-mt\"},a.a.createElement(\"div\",{className:\"table-form\"},i.a.map(Ne,(function(t,n){return Object(j.b)(t,n,{replenishmentId:e.props.match.params.replenishmentId,refetchReplenishment:e.fetchReplenishment,locationId:e.props.locationId,translate:e.props.translate,revertUserPick:e.revertUserPick})}))),a.a.createElement(\"div\",{className:\"submit-buttons\"},a.a.createElement(\"button\",{type:\"submit\",className:\"btn btn-outline-primary btn-form float-right btn-xs\"},a.a.createElement(R.a,{id:\"react.replenishment.next.label\",defaultMessage:\"Next\"})))))}})}}])&&je(t.prototype,n),r&&je(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component),De=Object(u.a)((function(e){return{replenishmentTranslationsFetched:e.session.fetchedTranslations.replenishment,translate:Object(R.b)(Object(c.e)(e.localize))}}),{showSpinner:p.M,hideSpinner:p.C})(qe);qe.propTypes={showSpinner:s.a.func.isRequired,hideSpinner:s.a.func.isRequired,nextPage:s.a.func.isRequired,initialValues:s.a.shape({}).isRequired,match:s.a.shape({params:s.a.shape({replenishmentId:s.a.string})}).isRequired,locationId:s.a.string.isRequired,replenishmentTranslationsFetched:s.a.bool.isRequired,translate:s.a.func.isRequired};var Ie=n(439);n(863);function Me(e){return(Me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,Be(r.key),r)}}function Le(e,t){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var a=We(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){if(t&&(\"object\"===Me(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Fe(e)}function Fe(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e){var t=function(e,t){if(\"object\"!==Me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==Me(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===Me(t)?t:String(t)}var ze=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Le(e,t)}(l,e);var t,n,r,o=Ae(l);function l(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),t=o.call(this,e),n=Fe(t),a=!1,(r=Be(r=\"dataFetched\"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={replenishment:{},page:e.match.params.replenishmentId?2:1},t.updateWizardValues=t.updateWizardValues.bind(Fe(t)),t}return t=l,(n=[{key:\"componentDidMount\",value:function(){this.props.fetchTranslations(\"\",\"replenishment\"),this.props.replenishmentTranslationsFetched&&(this.dataFetched=!0,this.fetchReplenishment())}},{key:\"componentWillReceiveProps\",value:function(e){this.props.locale&&this.props.locale!==e.locale&&this.props.fetchTranslations(e.locale,\"replenishment\"),e.replenishmentTranslationsFetched&&!this.dataFetched&&(this.dataFetched=!0,this.fetchReplenishment())}},{key:\"stepList\",get:function(){return[this.props.translate(\"react.replenishment.createReplenishment.label\",\"Create Replenishment\"),this.props.translate(\"react.replenishment.startReplenishment.label\",\"Start Replenishment\"),this.props.translate(\"react.replenishment.checkReplenishment.label\",\"Check Replenishment\")]}},{key:\"wizardTitle\",get:function(){var e=this.state.replenishment;return null!=e&&e.replenishmentNumber?[{text:this.props.translate(\"react.binReplenishment.label\",\"Bin replenishment\"),color:\"#000000\",delimeter:\" | \"},{text:e.replenishmentNumber,color:\"#000000\",delimeter:\"\"}]:\"\"}},{key:\"updateWizardValues\",value:function(e,t){this.setState({page:e,replenishment:t})}},{key:\"fetchReplenishment\",value:function(){var e=this;if(this.props.match.params.replenishmentId){this.props.showSpinner();var t=\"/openboxes/api/replenishments/\".concat(this.props.match.params.replenishmentId);P.a.get(t).then((function(t){var n=Object(P.e)(t.data.data);e.setState({replenishment:n,page:\"PENDING\"===n.status?2:3},(function(){return e.props.hideSpinner()}))})).catch((function(){return e.props.hideSpinner()}))}}},{key:\"render\",value:function(){var e=this.state,t=e.page,n=e.replenishment,r=this.props,o=r.location,l=r.history,s=r.match,c=o.id,u=[F,De,te];return i.a.get(o,\"id\")?a.a.createElement(Ie.a,{pageList:u,stepList:this.stepList,initialValues:n,title:this.wizardTitle,currentPage:t,prevPage:1===t?1:t-1,updateWizardValues:this.updateWizardValues,additionalProps:{locationId:c,location:o,history:l,match:s}}):null}}])&&Ve(t.prototype,n),r&&Ve(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(r.Component);t.default=Object(f.j)(Object(u.a)((function(e){return{location:e.session.currentLocation,locale:e.session.activeLanguage,replenishmentTranslationsFetched:e.session.fetchedTranslations.replenishment,translate:Object(R.b)(Object(c.e)(e.localize))}}),{showSpinner:p.M,hideSpinner:p.C,fetchTranslations:p.y})(ze));ze.propTypes={location:s.a.shape({id:s.a.string}).isRequired,locale:s.a.string.isRequired,replenishmentTranslationsFetched:s.a.bool.isRequired,fetchTranslations:s.a.func.isRequired,translate:s.a.func.isRequired,showSpinner:s.a.func.isRequired,hideSpinner:s.a.func.isRequired,match:s.a.shape({params:s.a.shape({replenishmentId:s.a.string})}).isRequired,history:s.a.shape({push:s.a.func}).isRequired}}}]);","extractedComments":[]}