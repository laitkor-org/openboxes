function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

import React, { useState } from 'react';
import * as Providers from "../providers";
import { LiveChatLoaderContext } from "../context";
export const LiveChatLoaderProvider = (_ref) => {
  let {
    provider,
    children,
    idlePeriod = 5000
  } = _ref,
      props = _objectWithoutProperties(_ref, ["provider", "children", "idlePeriod"]);

  const [state, setState] = useState('initial');

  const value = _objectSpread({
    provider,
    idlePeriod,
    state,
    setState
  }, props);

  const chatProvider = Providers[provider];

  if (!chatProvider) {
    //eslint-disable-next-line no-console
    console.error(`Unkown provider given to react-live-chat-loader: ${provider}`);
    return null;
  }

  return /*#__PURE__*/React.createElement(LiveChatLoaderContext.Provider, {
    value: value
  }, /*#__PURE__*/React.createElement("link", {
    href: chatProvider.domain,
    rel: "preconnect",
    crossOrigin: ""
  }), children);
};
export default LiveChatLoaderProvider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21wb25lbnRzL0xpdmVDaGF0TG9hZGVyUHJvdmlkZXIudHN4Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJQcm92aWRlcnMiLCJMaXZlQ2hhdExvYWRlckNvbnRleHQiLCJMaXZlQ2hhdExvYWRlclByb3ZpZGVyIiwicHJvdmlkZXIiLCJjaGlsZHJlbiIsImlkbGVQZXJpb2QiLCJwcm9wcyIsInN0YXRlIiwic2V0U3RhdGUiLCJ2YWx1ZSIsImNoYXRQcm92aWRlciIsImNvbnNvbGUiLCJlcnJvciIsImRvbWFpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE9BQU9BLEtBQVAsSUFBZ0JDLFFBQWhCLFFBQWdDLE9BQWhDO0FBQ0EsT0FBTyxLQUFLQyxTQUFaO0FBRUEsU0FBU0MscUJBQVQ7QUFFQSxPQUFPLE1BQU1DLHNCQUFzQixHQUFHLFVBV1o7QUFBQSxNQVhhO0FBQ3JDQyxJQUFBQSxRQURxQztBQUVyQ0MsSUFBQUEsUUFGcUM7QUFHckNDLElBQUFBLFVBQVUsR0FBRztBQUh3QixHQVdiO0FBQUEsTUFQckJDLEtBT3FCOztBQUN4QixRQUFNLENBQUNDLEtBQUQsRUFBUUMsUUFBUixJQUFvQlQsUUFBUSxDQUFRLFNBQVIsQ0FBbEM7O0FBQ0EsUUFBTVUsS0FBSztBQUNUTixJQUFBQSxRQURTO0FBRVRFLElBQUFBLFVBRlM7QUFHVEUsSUFBQUEsS0FIUztBQUlUQyxJQUFBQTtBQUpTLEtBS05GLEtBTE0sQ0FBWDs7QUFRQSxRQUFNSSxZQUFZLEdBQUdWLFNBQVMsQ0FBQ0csUUFBRCxDQUE5Qjs7QUFFQSxNQUFJLENBQUNPLFlBQUwsRUFBbUI7QUFDakI7QUFDQUMsSUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQ0csb0RBQW1EVCxRQUFTLEVBRC9EO0FBR0EsV0FBTyxJQUFQO0FBQ0Q7O0FBRUQsc0JBQ0Usb0JBQUMscUJBQUQsQ0FBdUIsUUFBdkI7QUFBZ0MsSUFBQSxLQUFLLEVBQUVNO0FBQXZDLGtCQUNFO0FBQU0sSUFBQSxJQUFJLEVBQUVDLFlBQVksQ0FBQ0csTUFBekI7QUFBaUMsSUFBQSxHQUFHLEVBQUMsWUFBckM7QUFBa0QsSUFBQSxXQUFXLEVBQUM7QUFBOUQsSUFERixFQUVHVCxRQUZILENBREY7QUFNRCxDQXJDTTtBQXVDUCxlQUFlRixzQkFBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICogYXMgUHJvdmlkZXJzIGZyb20gJ3Byb3ZpZGVycydcbmltcG9ydCB7IFN0YXRlLCBQcm92aWRlciB9IGZyb20gJ3R5cGVzJ1xuaW1wb3J0IHsgTGl2ZUNoYXRMb2FkZXJDb250ZXh0IH0gZnJvbSAnY29udGV4dCdcblxuZXhwb3J0IGNvbnN0IExpdmVDaGF0TG9hZGVyUHJvdmlkZXIgPSAoe1xuICBwcm92aWRlcixcbiAgY2hpbGRyZW4sXG4gIGlkbGVQZXJpb2QgPSA1MDAwLFxuICAuLi5wcm9wc1xufToge1xuICBwcm92aWRlcjogUHJvdmlkZXJcbiAgY2hpbGRyZW46IEpTWC5FbGVtZW50XG4gIGlkbGVQZXJpb2Q/OiBudW1iZXJcbiAgcHJvdmlkZXJLZXk6IHN0cmluZ1xuICBhcHBJRD86IHN0cmluZ1xufSk6IEpTWC5FbGVtZW50IHwgbnVsbCA9PiB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGU8U3RhdGU+KCdpbml0aWFsJylcbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgcHJvdmlkZXIsXG4gICAgaWRsZVBlcmlvZCxcbiAgICBzdGF0ZSxcbiAgICBzZXRTdGF0ZSxcbiAgICAuLi5wcm9wc1xuICB9XG5cbiAgY29uc3QgY2hhdFByb3ZpZGVyID0gUHJvdmlkZXJzW3Byb3ZpZGVyXVxuXG4gIGlmICghY2hhdFByb3ZpZGVyKSB7XG4gICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgVW5rb3duIHByb3ZpZGVyIGdpdmVuIHRvIHJlYWN0LWxpdmUtY2hhdC1sb2FkZXI6ICR7cHJvdmlkZXJ9YFxuICAgIClcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGl2ZUNoYXRMb2FkZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICA8bGluayBocmVmPXtjaGF0UHJvdmlkZXIuZG9tYWlufSByZWw9XCJwcmVjb25uZWN0XCIgY3Jvc3NPcmlnaW49XCJcIiAvPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvTGl2ZUNoYXRMb2FkZXJDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpdmVDaGF0TG9hZGVyUHJvdmlkZXJcbiJdfQ==